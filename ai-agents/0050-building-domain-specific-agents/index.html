<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.26.2 by Michael Rose
  Copyright 2013-2024 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->

<html lang="en-US" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Building Domain-Specific Agents - Arun Baby</title>
<meta name="description" content="“Generic agents are jacks of all trades—domain agents are masters of one.”">


  <meta name="author" content="Arun Baby">
  
  <meta property="article:author" content="Arun Baby">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Arun Baby">
<meta property="og:title" content="Building Domain-Specific Agents">
<meta property="og:url" content="https://www.arunbaby.com/ai-agents/0050-building-domain-specific-agents/">


  <meta property="og:description" content="“Generic agents are jacks of all trades—domain agents are masters of one.”">



  <meta property="og:image" content="https://www.arunbaby.com/assets/images/profile-photo.png">



  <meta name="twitter:site" content="@arunbaby0">
  <meta name="twitter:title" content="Building Domain-Specific Agents">
  <meta name="twitter:description" content="“Generic agents are jacks of all trades—domain agents are masters of one.”">
  <meta name="twitter:url" content="https://www.arunbaby.com/ai-agents/0050-building-domain-specific-agents/">

  
    <meta name="twitter:card" content="summary">
    
      <meta name="twitter:image" content="https://www.arunbaby.com/assets/images/profile-photo.png">
    
  

  



  <meta property="article:published_time" content="2025-12-21T22:46:31+05:30">





  

  


<link rel="canonical" href="https://www.arunbaby.com/ai-agents/0050-building-domain-specific-agents/">












<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Arun Baby Feed">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
  
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css"></noscript>



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single" dir="ltr">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
           
          <span class="site-subtitle">Arun Baby</span>
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a
                href="/about/"
                
                
              >About</a>
            </li><li class="masthead__menu-item">
              <a
                href="/dsa/"
                
                
              >DSA</a>
            </li><li class="masthead__menu-item">
              <a
                href="/ml-system-design/"
                
                
              >ML Systems</a>
            </li><li class="masthead__menu-item">
              <a
                href="/speech-tech/"
                
                
              >Speech Tech</a>
            </li><li class="masthead__menu-item">
              <a
                href="/ai-agents/"
                
                
              >AI Agents</a>
            </li><li class="masthead__menu-item">
              <a
                href="/publications/"
                
                
              >Publications</a>
            </li><li class="masthead__menu-item">
              <a
                href="/statuses/"
                
                
              >Statuses</a>
            </li><li class="masthead__menu-item">
              <a
                href="/contact/"
                
                
              >Contact</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <i class="fas fa-search"></i>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      





<div id="main" role="main" class="no-author-sidebar">
  
  <div class="sidebar sticky">
  
  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Building Domain-Specific Agents">
    <meta itemprop="description" content="“Generic agents are jacks of all trades—domain agents are masters of one.”">
    <meta itemprop="datePublished" content="2025-12-21T22:46:31+05:30">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">
            <a href="https://www.arunbaby.com/ai-agents/0050-building-domain-specific-agents/" itemprop="url">Building Domain-Specific Agents
</a>
          </h1>
          

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          7 minute read
        
      </span>
    
  </p>


        </header>
      

      <section class="page__content" itemprop="text">
        
          <aside class="sidebar__right sticky">
            <nav class="toc">
              <header><h4 class="nav__title"><i class="fas fa-file-alt"></i> On this page</h4></header>
              <ul class="toc__menu"><li><a href="#1-introduction">1. Introduction</a><ul><li><a href="#why-domain-specific">Why Domain-Specific?</a></li></ul></li><li><a href="#2-domain-agent-architecture">2. Domain Agent Architecture</a></li><li><a href="#3-legal-domain-agent">3. Legal Domain Agent</a></li><li><a href="#4-medical-domain-agent">4. Medical Domain Agent</a></li><li><a href="#5-financial-domain-agent">5. Financial Domain Agent</a></li><li><a href="#6-domain-adaptation-techniques">6. Domain Adaptation Techniques</a></li><li><a href="#7-testing-domain-agents">7. Testing Domain Agents</a></li><li><a href="#8-connection-to-alien-dictionary">8. Connection to Alien Dictionary</a></li><li><a href="#9-key-takeaways">9. Key Takeaways</a></li></ul>
            </nav>
          </aside>
        
        <p><strong>“Generic agents are jacks of all trades—domain agents are masters of one.”</strong></p>

<h2 id="1-introduction">1. Introduction</h2>

<p>Generic agents struggle with domain-specific knowledge, terminology, and workflows. Domain-specific agents are optimized for a particular field through specialized prompts, tools, and knowledge bases.</p>

<h3 id="why-domain-specific">Why Domain-Specific?</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Generic Agent on legal question:
"I think contracts usually need signatures..."

Legal Domain Agent:
"Under UCC §2-201, contracts for goods over $500 
require written confirmation. The statute of frauds
exceptions include..."
</code></pre></div></div>

<h2 id="2-domain-agent-architecture">2. Domain Agent Architecture</h2>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">dataclasses</span> <span class="kn">import</span> <span class="n">dataclass</span><span class="p">,</span> <span class="n">field</span>
<span class="kn">from</span> <span class="n">typing</span> <span class="kn">import</span> <span class="n">Dict</span><span class="p">,</span> <span class="n">List</span><span class="p">,</span> <span class="n">Callable</span><span class="p">,</span> <span class="n">Any</span>
<span class="kn">from</span> <span class="n">abc</span> <span class="kn">import</span> <span class="n">ABC</span><span class="p">,</span> <span class="n">abstractmethod</span>

<span class="nd">@dataclass</span>
<span class="k">class</span> <span class="nc">DomainConfig</span><span class="p">:</span>
    <span class="sh">"""</span><span class="s">Configuration for domain-specific agent.</span><span class="sh">"""</span>
    <span class="n">name</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">description</span><span class="p">:</span> <span class="nb">str</span>
    
    <span class="c1"># Domain context
</span>    <span class="n">system_prompt</span><span class="p">:</span> <span class="nb">str</span>
    <span class="n">terminology</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="nf">field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">dict</span><span class="p">)</span>
    
    <span class="c1"># Knowledge
</span>    <span class="n">knowledge_base_path</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="bp">None</span>
    <span class="n">example_queries</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="nf">field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="p">)</span>
    
    <span class="c1"># Tools
</span>    <span class="n">tool_configs</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">]</span> <span class="o">=</span> <span class="nf">field</span><span class="p">(</span><span class="n">default_factory</span><span class="o">=</span><span class="nb">list</span><span class="p">)</span>
    
    <span class="c1"># Behavior
</span>    <span class="n">response_format</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="sh">"</span><span class="s">markdown</span><span class="sh">"</span>
    <span class="n">citation_required</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="bp">False</span>
    <span class="n">confidence_threshold</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">0.7</span>


<span class="k">class</span> <span class="nc">DomainAgent</span><span class="p">(</span><span class="n">ABC</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">Base class for domain-specific agents.</span><span class="sh">"""</span>
    
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">config</span><span class="p">:</span> <span class="n">DomainConfig</span><span class="p">,</span> <span class="n">llm</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">config</span> <span class="o">=</span> <span class="n">config</span>
        <span class="n">self</span><span class="p">.</span><span class="n">llm</span> <span class="o">=</span> <span class="n">llm</span>
        <span class="n">self</span><span class="p">.</span><span class="n">tools</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="nf">_init_tools</span><span class="p">()</span>
        <span class="n">self</span><span class="p">.</span><span class="n">knowledge_base</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="nf">_init_knowledge_base</span><span class="p">()</span>
    
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">_init_tools</span><span class="p">(</span><span class="n">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Callable</span><span class="p">]:</span>
        <span class="sh">"""</span><span class="s">Initialize domain-specific tools.</span><span class="sh">"""</span>
        <span class="k">pass</span>
    
    <span class="nd">@abstractmethod</span>
    <span class="k">def</span> <span class="nf">_init_knowledge_base</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">Initialize domain knowledge base.</span><span class="sh">"""</span>
        <span class="k">pass</span>
    
    <span class="k">def</span> <span class="nf">get_system_prompt</span><span class="p">(</span><span class="n">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sh">"""</span><span class="s">Build complete system prompt.</span><span class="sh">"""</span>
        <span class="n">prompt</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">config</span><span class="p">.</span><span class="n">system_prompt</span>
        
        <span class="c1"># Add terminology
</span>        <span class="k">if</span> <span class="n">self</span><span class="p">.</span><span class="n">config</span><span class="p">.</span><span class="n">terminology</span><span class="p">:</span>
            <span class="n">terms</span> <span class="o">=</span> <span class="sh">"</span><span class="se">\n</span><span class="sh">"</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span>
                <span class="sa">f</span><span class="sh">"</span><span class="s">- </span><span class="si">{</span><span class="n">term</span><span class="si">}</span><span class="s">: </span><span class="si">{</span><span class="n">definition</span><span class="si">}</span><span class="sh">"</span>
                <span class="k">for</span> <span class="n">term</span><span class="p">,</span> <span class="n">definition</span> <span class="ow">in</span> <span class="n">self</span><span class="p">.</span><span class="n">config</span><span class="p">.</span><span class="n">terminology</span><span class="p">.</span><span class="nf">items</span><span class="p">()</span>
            <span class="p">)</span>
            <span class="n">prompt</span> <span class="o">+=</span> <span class="sa">f</span><span class="sh">"</span><span class="se">\n\n</span><span class="s">Key Terminology:</span><span class="se">\n</span><span class="si">{</span><span class="n">terms</span><span class="si">}</span><span class="sh">"</span>
        
        <span class="k">return</span> <span class="n">prompt</span>
    
    <span class="k">async</span> <span class="k">def</span> <span class="nf">query</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">user_query</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">context</span><span class="p">:</span> <span class="n">Dict</span> <span class="o">=</span> <span class="bp">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sh">"""</span><span class="s">Process user query with domain context.</span><span class="sh">"""</span>
        <span class="c1"># Retrieve relevant knowledge
</span>        <span class="n">relevant_docs</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">knowledge_base</span><span class="p">.</span><span class="nf">search</span><span class="p">(</span><span class="n">user_query</span><span class="p">,</span> <span class="n">top_k</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>
        
        <span class="c1"># Build context
</span>        <span class="n">knowledge_context</span> <span class="o">=</span> <span class="sh">"</span><span class="se">\n</span><span class="sh">"</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span>
            <span class="sa">f</span><span class="sh">"</span><span class="s">[</span><span class="si">{</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="si">}</span><span class="s">] </span><span class="si">{</span><span class="n">doc</span><span class="p">[</span><span class="sh">'</span><span class="s">content</span><span class="sh">'</span><span class="p">]</span><span class="si">}</span><span class="sh">"</span> 
            <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">doc</span> <span class="ow">in</span> <span class="nf">enumerate</span><span class="p">(</span><span class="n">relevant_docs</span><span class="p">)</span>
        <span class="p">)</span>
        
        <span class="c1"># Build messages
</span>        <span class="n">messages</span> <span class="o">=</span> <span class="p">[</span>
            <span class="p">{</span><span class="sh">"</span><span class="s">role</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">system</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">content</span><span class="sh">"</span><span class="p">:</span> <span class="n">self</span><span class="p">.</span><span class="nf">get_system_prompt</span><span class="p">()},</span>
            <span class="p">{</span><span class="sh">"</span><span class="s">role</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">user</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">content</span><span class="sh">"</span><span class="p">:</span> <span class="sa">f</span><span class="sh">"""</span><span class="s">Context from knowledge base:
</span><span class="si">{</span><span class="n">knowledge_context</span><span class="si">}</span><span class="s">

User Question: </span><span class="si">{</span><span class="n">user_query</span><span class="si">}</span><span class="s">

Please answer based on the context provided. If citing, use [1], [2] etc.</span><span class="sh">"""</span><span class="p">}</span>
        <span class="p">]</span>
        
        <span class="c1"># Generate response
</span>        <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">self</span><span class="p">.</span><span class="n">llm</span><span class="p">.</span><span class="nf">generate</span><span class="p">(</span><span class="n">messages</span><span class="p">,</span> <span class="n">tools</span><span class="o">=</span><span class="n">self</span><span class="p">.</span><span class="n">tools</span><span class="p">)</span>
        
        <span class="k">return</span> <span class="n">response</span>
</code></pre></div></div>

<h2 id="3-legal-domain-agent">3. Legal Domain Agent</h2>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">LegalDomainAgent</span><span class="p">(</span><span class="n">DomainAgent</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">Agent specialized for legal questions.</span><span class="sh">"""</span>
    
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">llm</span><span class="p">,</span> <span class="n">case_database</span><span class="p">,</span> <span class="n">statute_database</span><span class="p">):</span>
        <span class="n">config</span> <span class="o">=</span> <span class="nc">DomainConfig</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="sh">"</span><span class="s">Legal Assistant</span><span class="sh">"</span><span class="p">,</span>
            <span class="n">description</span><span class="o">=</span><span class="sh">"</span><span class="s">Specialized in contract law, litigation, and compliance</span><span class="sh">"</span><span class="p">,</span>
            <span class="n">system_prompt</span><span class="o">=</span><span class="sh">"""</span><span class="s">You are a legal assistant AI. You provide accurate legal information
but always clarify you are not providing legal advice and users should consult an attorney.

Key behaviors:
1. Cite specific statutes, regulations, and case law when applicable
2. Distinguish between jurisdictions (federal vs state, common law vs civil law)
3. Use precise legal terminology
4. Identify potential issues the user may not have considered
5. Never provide specific legal advice for their situation</span><span class="sh">"""</span><span class="p">,</span>
            <span class="n">terminology</span><span class="o">=</span><span class="p">{</span>
                <span class="sh">"</span><span class="s">statute of frauds</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">Rule requiring certain contracts be in writing</span><span class="sh">"</span><span class="p">,</span>
                <span class="sh">"</span><span class="s">consideration</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">Something of value exchanged between parties</span><span class="sh">"</span><span class="p">,</span>
                <span class="sh">"</span><span class="s">res judicata</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">Matter already judged, preventing relitigation</span><span class="sh">"</span>
            <span class="p">},</span>
            <span class="n">citation_required</span><span class="o">=</span><span class="bp">True</span>
        <span class="p">)</span>
        
        <span class="n">self</span><span class="p">.</span><span class="n">case_db</span> <span class="o">=</span> <span class="n">case_database</span>
        <span class="n">self</span><span class="p">.</span><span class="n">statute_db</span> <span class="o">=</span> <span class="n">statute_database</span>
        <span class="nf">super</span><span class="p">().</span><span class="nf">__init__</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">llm</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">_init_tools</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="n">self</span><span class="p">.</span><span class="n">_search_cases</span><span class="p">,</span>
            <span class="n">self</span><span class="p">.</span><span class="n">_search_statutes</span><span class="p">,</span>
            <span class="n">self</span><span class="p">.</span><span class="n">_analyze_contract</span>
        <span class="p">]</span>
    
    <span class="k">def</span> <span class="nf">_init_knowledge_base</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="kn">from</span> <span class="n">vector_store</span> <span class="kn">import</span> <span class="n">VectorStore</span>
        <span class="k">return</span> <span class="nc">VectorStore</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">config</span><span class="p">.</span><span class="n">knowledge_base_path</span><span class="p">)</span>
    
    <span class="k">async</span> <span class="k">def</span> <span class="nf">_search_cases</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">query</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">jurisdiction</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="bp">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">]:</span>
        <span class="sh">"""</span><span class="s">Search case law database.</span><span class="sh">"""</span>
        <span class="n">filters</span> <span class="o">=</span> <span class="p">{</span><span class="sh">"</span><span class="s">jurisdiction</span><span class="sh">"</span><span class="p">:</span> <span class="n">jurisdiction</span><span class="p">}</span> <span class="k">if</span> <span class="n">jurisdiction</span> <span class="k">else</span> <span class="p">{}</span>
        <span class="k">return</span> <span class="n">self</span><span class="p">.</span><span class="n">case_db</span><span class="p">.</span><span class="nf">search</span><span class="p">(</span><span class="n">query</span><span class="p">,</span> <span class="n">filters</span><span class="o">=</span><span class="n">filters</span><span class="p">)</span>
    
    <span class="k">async</span> <span class="k">def</span> <span class="nf">_search_statutes</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">keywords</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">],</span> <span class="n">jurisdiction</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">]:</span>
        <span class="sh">"""</span><span class="s">Search statute database.</span><span class="sh">"""</span>
        <span class="k">return</span> <span class="n">self</span><span class="p">.</span><span class="n">statute_db</span><span class="p">.</span><span class="nf">search</span><span class="p">(</span><span class="n">keywords</span><span class="p">,</span> <span class="n">jurisdiction</span><span class="o">=</span><span class="n">jurisdiction</span><span class="p">)</span>
    
    <span class="k">async</span> <span class="k">def</span> <span class="nf">_analyze_contract</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">contract_text</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">:</span>
        <span class="sh">"""</span><span class="s">Analyze contract for key terms and potential issues.</span><span class="sh">"""</span>
        <span class="n">prompt</span> <span class="o">=</span> <span class="sa">f</span><span class="sh">"""</span><span class="s">Analyze this contract excerpt:

</span><span class="si">{</span><span class="n">contract_text</span><span class="si">}</span><span class="s">

Identify:
1. Key terms and conditions
2. Potential issues or ambiguities
3. Missing standard clauses
4. Unusual provisions</span><span class="sh">"""</span>
        
        <span class="k">return</span> <span class="k">await</span> <span class="n">self</span><span class="p">.</span><span class="n">llm</span><span class="p">.</span><span class="nf">generate</span><span class="p">(</span><span class="n">prompt</span><span class="p">)</span>
</code></pre></div></div>

<h2 id="4-medical-domain-agent">4. Medical Domain Agent</h2>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">MedicalDomainAgent</span><span class="p">(</span><span class="n">DomainAgent</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">Agent for medical information (not diagnosis).</span><span class="sh">"""</span>
    
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">llm</span><span class="p">,</span> <span class="n">medical_db</span><span class="p">,</span> <span class="n">drug_db</span><span class="p">):</span>
        <span class="n">config</span> <span class="o">=</span> <span class="nc">DomainConfig</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="sh">"</span><span class="s">Medical Information Assistant</span><span class="sh">"</span><span class="p">,</span>
            <span class="n">description</span><span class="o">=</span><span class="sh">"</span><span class="s">Provides medical information from trusted sources</span><span class="sh">"</span><span class="p">,</span>
            <span class="n">system_prompt</span><span class="o">=</span><span class="sh">"""</span><span class="s">You are a medical information assistant. You provide 
evidence-based medical information but NEVER diagnose or prescribe.

Key behaviors:
1. Always cite sources (medical journals, guidelines)
2. Use appropriate medical terminology with plain English explanations
3. Clearly state limitations and when to seek professional care
4. Flag emergency symptoms requiring immediate attention
5. Provide probability ranges, not certainties
6. NEVER provide specific treatment recommendations for the user</span><span class="sh">'</span><span class="s">s condition</span><span class="sh">"""</span><span class="p">,</span>
            <span class="n">terminology</span><span class="o">=</span><span class="p">{</span>
                <span class="sh">"</span><span class="s">etiology</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">The cause or origin of a disease</span><span class="sh">"</span><span class="p">,</span>
                <span class="sh">"</span><span class="s">prognosis</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">Likely course and outcome of a condition</span><span class="sh">"</span><span class="p">,</span>
                <span class="sh">"</span><span class="s">contraindication</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">Reason to avoid a treatment</span><span class="sh">"</span>
            <span class="p">},</span>
            <span class="n">citation_required</span><span class="o">=</span><span class="bp">True</span><span class="p">,</span>
            <span class="n">confidence_threshold</span><span class="o">=</span><span class="mf">0.8</span>
        <span class="p">)</span>
        
        <span class="n">self</span><span class="p">.</span><span class="n">medical_db</span> <span class="o">=</span> <span class="n">medical_db</span>
        <span class="n">self</span><span class="p">.</span><span class="n">drug_db</span> <span class="o">=</span> <span class="n">drug_db</span>
        <span class="nf">super</span><span class="p">().</span><span class="nf">__init__</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">llm</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">_init_tools</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="n">self</span><span class="p">.</span><span class="n">_search_conditions</span><span class="p">,</span>
            <span class="n">self</span><span class="p">.</span><span class="n">_check_drug_interactions</span><span class="p">,</span>
            <span class="n">self</span><span class="p">.</span><span class="n">_find_guidelines</span>
        <span class="p">]</span>
    
    <span class="k">def</span> <span class="nf">_init_knowledge_base</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="kn">from</span> <span class="n">vector_store</span> <span class="kn">import</span> <span class="n">VectorStore</span>
        <span class="k">return</span> <span class="nc">VectorStore</span><span class="p">(</span><span class="sh">"</span><span class="s">./medical_knowledge</span><span class="sh">"</span><span class="p">)</span>
    
    <span class="k">async</span> <span class="k">def</span> <span class="nf">_check_drug_interactions</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">drugs</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">:</span>
        <span class="sh">"""</span><span class="s">Check for drug-drug interactions.</span><span class="sh">"""</span>
        <span class="n">interactions</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">drug1</span> <span class="ow">in</span> <span class="nf">enumerate</span><span class="p">(</span><span class="n">drugs</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">drug2</span> <span class="ow">in</span> <span class="n">drugs</span><span class="p">[</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">:]:</span>
                <span class="n">result</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">drug_db</span><span class="p">.</span><span class="nf">check_interaction</span><span class="p">(</span><span class="n">drug1</span><span class="p">,</span> <span class="n">drug2</span><span class="p">)</span>
                <span class="k">if</span> <span class="n">result</span><span class="p">:</span>
                    <span class="n">interactions</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
        <span class="k">return</span> <span class="p">{</span><span class="sh">"</span><span class="s">interactions</span><span class="sh">"</span><span class="p">:</span> <span class="n">interactions</span><span class="p">}</span>
    
    <span class="k">async</span> <span class="k">def</span> <span class="nf">_find_guidelines</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">condition</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">]:</span>
        <span class="sh">"""</span><span class="s">Find clinical practice guidelines.</span><span class="sh">"""</span>
        <span class="k">return</span> <span class="n">self</span><span class="p">.</span><span class="n">medical_db</span><span class="p">.</span><span class="nf">search_guidelines</span><span class="p">(</span><span class="n">condition</span><span class="p">)</span>
</code></pre></div></div>

<h2 id="5-financial-domain-agent">5. Financial Domain Agent</h2>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">FinancialDomainAgent</span><span class="p">(</span><span class="n">DomainAgent</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">Agent for financial analysis and information.</span><span class="sh">"""</span>
    
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">llm</span><span class="p">,</span> <span class="n">market_data</span><span class="p">,</span> <span class="n">sec_filings</span><span class="p">):</span>
        <span class="n">config</span> <span class="o">=</span> <span class="nc">DomainConfig</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="sh">"</span><span class="s">Financial Analyst Assistant</span><span class="sh">"</span><span class="p">,</span>
            <span class="n">description</span><span class="o">=</span><span class="sh">"</span><span class="s">Analyzes financial data and market trends</span><span class="sh">"</span><span class="p">,</span>
            <span class="n">system_prompt</span><span class="o">=</span><span class="sh">"""</span><span class="s">You are a financial analysis assistant. You provide
data-driven financial insights but never give investment advice.

Key behaviors:
1. Base analysis on quantitative data when available
2. Clearly distinguish between fact and opinion
3. Acknowledge uncertainty in projections
4. Cite data sources and timestamps
5. Include relevant disclaimers
6. NEVER make specific buy/sell recommendations</span><span class="sh">"""</span><span class="p">,</span>
            <span class="n">terminology</span><span class="o">=</span><span class="p">{</span>
                <span class="sh">"</span><span class="s">P/E ratio</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">Price-to-earnings ratio, valuation metric</span><span class="sh">"</span><span class="p">,</span>
                <span class="sh">"</span><span class="s">EBITDA</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">Earnings before interest, taxes, depreciation, amortization</span><span class="sh">"</span><span class="p">,</span>
                <span class="sh">"</span><span class="s">beta</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">Measure of stock volatility relative to market</span><span class="sh">"</span>
            <span class="p">}</span>
        <span class="p">)</span>
        
        <span class="n">self</span><span class="p">.</span><span class="n">market_data</span> <span class="o">=</span> <span class="n">market_data</span>
        <span class="n">self</span><span class="p">.</span><span class="n">sec_filings</span> <span class="o">=</span> <span class="n">sec_filings</span>
        <span class="nf">super</span><span class="p">().</span><span class="nf">__init__</span><span class="p">(</span><span class="n">config</span><span class="p">,</span> <span class="n">llm</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">_init_tools</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">[</span>
            <span class="n">self</span><span class="p">.</span><span class="n">_get_stock_data</span><span class="p">,</span>
            <span class="n">self</span><span class="p">.</span><span class="n">_analyze_financials</span><span class="p">,</span>
            <span class="n">self</span><span class="p">.</span><span class="n">_search_filings</span>
        <span class="p">]</span>
    
    <span class="k">def</span> <span class="nf">_init_knowledge_base</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="kn">from</span> <span class="n">vector_store</span> <span class="kn">import</span> <span class="n">VectorStore</span>
        <span class="k">return</span> <span class="nc">VectorStore</span><span class="p">(</span><span class="sh">"</span><span class="s">./financial_knowledge</span><span class="sh">"</span><span class="p">)</span>
    
    <span class="k">async</span> <span class="k">def</span> <span class="nf">_get_stock_data</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">ticker</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">period</span><span class="p">:</span> <span class="nb">str</span> <span class="o">=</span> <span class="sh">"</span><span class="s">1y</span><span class="sh">"</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">:</span>
        <span class="sh">"""</span><span class="s">Get historical stock data.</span><span class="sh">"""</span>
        <span class="k">return</span> <span class="n">self</span><span class="p">.</span><span class="n">market_data</span><span class="p">.</span><span class="nf">get_history</span><span class="p">(</span><span class="n">ticker</span><span class="p">,</span> <span class="n">period</span><span class="p">)</span>
    
    <span class="k">async</span> <span class="k">def</span> <span class="nf">_analyze_financials</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">ticker</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">:</span>
        <span class="sh">"""</span><span class="s">Analyze company financials from latest reports.</span><span class="sh">"""</span>
        <span class="n">filing</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">sec_filings</span><span class="p">.</span><span class="nf">get_latest_10k</span><span class="p">(</span><span class="n">ticker</span><span class="p">)</span>
        
        <span class="k">return</span> <span class="p">{</span>
            <span class="sh">"</span><span class="s">revenue</span><span class="sh">"</span><span class="p">:</span> <span class="n">filing</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">revenue</span><span class="sh">"</span><span class="p">),</span>
            <span class="sh">"</span><span class="s">net_income</span><span class="sh">"</span><span class="p">:</span> <span class="n">filing</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">net_income</span><span class="sh">"</span><span class="p">),</span>
            <span class="sh">"</span><span class="s">debt_ratio</span><span class="sh">"</span><span class="p">:</span> <span class="n">filing</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">total_debt</span><span class="sh">"</span><span class="p">)</span> <span class="o">/</span> <span class="n">filing</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="sh">"</span><span class="s">total_assets</span><span class="sh">"</span><span class="p">),</span>
            <span class="sh">"</span><span class="s">pe_ratio</span><span class="sh">"</span><span class="p">:</span> <span class="n">self</span><span class="p">.</span><span class="n">market_data</span><span class="p">.</span><span class="nf">get_pe</span><span class="p">(</span><span class="n">ticker</span><span class="p">)</span>
        <span class="p">}</span>
</code></pre></div></div>

<h2 id="6-domain-adaptation-techniques">6. Domain Adaptation Techniques</h2>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">DomainAdaptation</span><span class="p">:</span>
    <span class="sh">"""</span><span class="s">Techniques to adapt agents to domains.</span><span class="sh">"""</span>
    
    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">prompt_engineering</span><span class="p">(</span><span class="n">base_prompt</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">domain_context</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sh">"""</span><span class="s">Enhance prompt with domain context.</span><span class="sh">"""</span>
        <span class="k">return</span> <span class="sa">f</span><span class="sh">"""</span><span class="si">{</span><span class="n">base_prompt</span><span class="si">}</span><span class="s">

Domain-Specific Context:
</span><span class="si">{</span><span class="n">domain_context</span><span class="si">}</span><span class="s">

Remember to apply domain-specific knowledge in your responses.</span><span class="sh">"""</span>
    
    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">few_shot_examples</span><span class="p">(</span><span class="n">domain</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">]:</span>
        <span class="sh">"""</span><span class="s">Get domain-specific few-shot examples.</span><span class="sh">"""</span>
        <span class="n">examples</span> <span class="o">=</span> <span class="p">{</span>
            <span class="sh">"</span><span class="s">legal</span><span class="sh">"</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span><span class="sh">"</span><span class="s">query</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">Is a verbal contract valid?</span><span class="sh">"</span><span class="p">,</span> 
                 <span class="sh">"</span><span class="s">response</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">Verbal contracts are generally valid...</span><span class="sh">"</span><span class="p">},</span>
            <span class="p">],</span>
            <span class="sh">"</span><span class="s">medical</span><span class="sh">"</span><span class="p">:</span> <span class="p">[</span>
                <span class="p">{</span><span class="sh">"</span><span class="s">query</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">What causes hypertension?</span><span class="sh">"</span><span class="p">,</span>
                 <span class="sh">"</span><span class="s">response</span><span class="sh">"</span><span class="p">:</span> <span class="sh">"</span><span class="s">Hypertension has multiple etiologies...</span><span class="sh">"</span><span class="p">},</span>
            <span class="p">]</span>
        <span class="p">}</span>
        <span class="k">return</span> <span class="n">examples</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="n">domain</span><span class="p">,</span> <span class="p">[])</span>
    
    <span class="nd">@staticmethod</span>
    <span class="k">def</span> <span class="nf">terminology_expansion</span><span class="p">(</span><span class="n">query</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">terminology</span><span class="p">:</span> <span class="n">Dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sh">"""</span><span class="s">Expand query with domain terminology.</span><span class="sh">"""</span>
        <span class="n">expanded</span> <span class="o">=</span> <span class="n">query</span>
        <span class="k">for</span> <span class="n">term</span><span class="p">,</span> <span class="n">definition</span> <span class="ow">in</span> <span class="n">terminology</span><span class="p">.</span><span class="nf">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="n">term</span><span class="p">.</span><span class="nf">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="n">query</span><span class="p">.</span><span class="nf">lower</span><span class="p">():</span>
                <span class="n">expanded</span> <span class="o">+=</span> <span class="sa">f</span><span class="sh">"</span><span class="se">\n</span><span class="s">[Note: </span><span class="si">{</span><span class="n">term</span><span class="si">}</span><span class="s"> - </span><span class="si">{</span><span class="n">definition</span><span class="si">}</span><span class="s">]</span><span class="sh">"</span>
        <span class="k">return</span> <span class="n">expanded</span>
</code></pre></div></div>

<h2 id="7-testing-domain-agents">7. Testing Domain Agents</h2>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">DomainAgentTester</span><span class="p">:</span>
    <span class="sh">"""</span><span class="s">Test domain agents for accuracy and safety.</span><span class="sh">"""</span>
    
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">agent</span><span class="p">:</span> <span class="n">DomainAgent</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">agent</span> <span class="o">=</span> <span class="n">agent</span>
    
    <span class="k">async</span> <span class="k">def</span> <span class="nf">test_accuracy</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">test_cases</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="n">Dict</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">:</span>
        <span class="sh">"""</span><span class="s">Test factual accuracy.</span><span class="sh">"""</span>
        <span class="n">results</span> <span class="o">=</span> <span class="p">[]</span>
        
        <span class="k">for</span> <span class="k">case</span> <span class="ow">in</span> <span class="n">test_cases</span><span class="p">:</span>
            <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">self</span><span class="p">.</span><span class="n">agent</span><span class="p">.</span><span class="nf">query</span><span class="p">(</span><span class="k">case</span><span class="p">[</span><span class="sh">'</span><span class="s">query</span><span class="sh">'</span><span class="p">])</span>
            
            <span class="c1"># Check if expected facts are present
</span>            <span class="n">facts_found</span> <span class="o">=</span> <span class="nf">sum</span><span class="p">(</span>
                <span class="mi">1</span> <span class="k">for</span> <span class="n">fact</span> <span class="ow">in</span> <span class="k">case</span><span class="p">[</span><span class="sh">'</span><span class="s">expected_facts</span><span class="sh">'</span><span class="p">]</span>
                <span class="k">if</span> <span class="n">fact</span><span class="p">.</span><span class="nf">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="n">response</span><span class="p">.</span><span class="nf">lower</span><span class="p">()</span>
            <span class="p">)</span>
            
            <span class="n">results</span><span class="p">.</span><span class="nf">append</span><span class="p">({</span>
                <span class="sh">'</span><span class="s">query</span><span class="sh">'</span><span class="p">:</span> <span class="k">case</span><span class="p">[</span><span class="sh">'</span><span class="s">query</span><span class="sh">'</span><span class="p">],</span>
                <span class="sh">'</span><span class="s">accuracy</span><span class="sh">'</span><span class="p">:</span> <span class="n">facts_found</span> <span class="o">/</span> <span class="nf">len</span><span class="p">(</span><span class="k">case</span><span class="p">[</span><span class="sh">'</span><span class="s">expected_facts</span><span class="sh">'</span><span class="p">])</span>
            <span class="p">})</span>
        
        <span class="k">return</span> <span class="p">{</span>
            <span class="sh">'</span><span class="s">overall_accuracy</span><span class="sh">'</span><span class="p">:</span> <span class="nf">sum</span><span class="p">(</span><span class="n">r</span><span class="p">[</span><span class="sh">'</span><span class="s">accuracy</span><span class="sh">'</span><span class="p">]</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">results</span><span class="p">)</span> <span class="o">/</span> <span class="nf">len</span><span class="p">(</span><span class="n">results</span><span class="p">),</span>
            <span class="sh">'</span><span class="s">details</span><span class="sh">'</span><span class="p">:</span> <span class="n">results</span>
        <span class="p">}</span>
    
    <span class="k">async</span> <span class="k">def</span> <span class="nf">test_safety</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">edge_cases</span><span class="p">:</span> <span class="n">List</span><span class="p">[</span><span class="nb">str</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="n">Dict</span><span class="p">:</span>
        <span class="sh">"""</span><span class="s">Test for unsafe responses.</span><span class="sh">"""</span>
        <span class="n">unsafe_patterns</span> <span class="o">=</span> <span class="p">[</span>
            <span class="sh">"</span><span class="s">I recommend you</span><span class="sh">"</span><span class="p">,</span>
            <span class="sh">"</span><span class="s">You should definitely</span><span class="sh">"</span><span class="p">,</span>
            <span class="sh">"</span><span class="s">This will cure</span><span class="sh">"</span><span class="p">,</span>
            <span class="sh">"</span><span class="s">Guaranteed to</span><span class="sh">"</span>
        <span class="p">]</span>
        
        <span class="n">violations</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">query</span> <span class="ow">in</span> <span class="n">edge_cases</span><span class="p">:</span>
            <span class="n">response</span> <span class="o">=</span> <span class="k">await</span> <span class="n">self</span><span class="p">.</span><span class="n">agent</span><span class="p">.</span><span class="nf">query</span><span class="p">(</span><span class="n">query</span><span class="p">)</span>
            
            <span class="k">for</span> <span class="n">pattern</span> <span class="ow">in</span> <span class="n">unsafe_patterns</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">pattern</span><span class="p">.</span><span class="nf">lower</span><span class="p">()</span> <span class="ow">in</span> <span class="n">response</span><span class="p">.</span><span class="nf">lower</span><span class="p">():</span>
                    <span class="n">violations</span><span class="p">.</span><span class="nf">append</span><span class="p">({</span>
                        <span class="sh">'</span><span class="s">query</span><span class="sh">'</span><span class="p">:</span> <span class="n">query</span><span class="p">,</span>
                        <span class="sh">'</span><span class="s">pattern</span><span class="sh">'</span><span class="p">:</span> <span class="n">pattern</span><span class="p">,</span>
                        <span class="sh">'</span><span class="s">response_excerpt</span><span class="sh">'</span><span class="p">:</span> <span class="n">response</span><span class="p">[:</span><span class="mi">200</span><span class="p">]</span>
                    <span class="p">})</span>
        
        <span class="k">return</span> <span class="p">{</span><span class="sh">'</span><span class="s">safe</span><span class="sh">'</span><span class="p">:</span> <span class="nf">len</span><span class="p">(</span><span class="n">violations</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span> <span class="sh">'</span><span class="s">violations</span><span class="sh">'</span><span class="p">:</span> <span class="n">violations</span><span class="p">}</span>
</code></pre></div></div>

<h2 id="8-connection-to-alien-dictionary">8. Connection to Alien Dictionary</h2>

<p>Both involve domain-specific ordering:</p>

<table>
  <thead>
    <tr>
      <th>Alien Dictionary</th>
      <th>Domain Agents</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Unknown alphabet</td>
      <td>Unknown domain rules</td>
    </tr>
    <tr>
      <td>Extract order from examples</td>
      <td>Learn from domain data</td>
    </tr>
    <tr>
      <td>Constraints → Ordering</td>
      <td>Knowledge → Responses</td>
    </tr>
  </tbody>
</table>

<p>Both require inferring structure from domain-specific data.</p>

<h2 id="9-key-takeaways">9. Key Takeaways</h2>

<ol>
  <li><strong>System prompts define domain behavior</strong> - Be explicit</li>
  <li><strong>Domain tools provide specialized capabilities</strong></li>
  <li><strong>Knowledge bases ground responses in facts</strong></li>
  <li><strong>Terminology helps precision</strong> - Define key terms</li>
  <li><strong>Safety testing is essential</strong> - Especially for legal/medical</li>
</ol>

<hr />

<p><strong>Originally published at:</strong> <a href="https://www.arunbaby.com/ai-agents/0050-building-domain-specific-agents/">arunbaby.com/ai-agents/0050-building-domain-specific-agents</a></p>

<p><em>If you found this helpful, consider sharing it with others who might benefit.</em></p>

        
      </section>

      <footer class="page__meta">
        
        
  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      <a href="/tags/#custom-tools" class="page__taxonomy-item p-category" rel="tag">custom-tools</a><span class="sep">, </span>
    
      <a href="/tags/#domain-agents" class="page__taxonomy-item p-category" rel="tag">domain-agents</a><span class="sep">, </span>
    
      <a href="/tags/#fine-tuning" class="page__taxonomy-item p-category" rel="tag">fine-tuning</a><span class="sep">, </span>
    
      <a href="/tags/#knowledge-base" class="page__taxonomy-item p-category" rel="tag">knowledge-base</a><span class="sep">, </span>
    
      <a href="/tags/#specialization" class="page__taxonomy-item p-category" rel="tag">specialization</a>
    
    </span>
  </p>




  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      <a href="/categories/#ai-agents" class="page__taxonomy-item p-category" rel="tag">ai-agents</a>
    
    </span>
  </p>


        
      </footer>

      <div class="page__related page__related--full">
  <h2 class="page__related-title">Related across topics</h2>
  <style>
    /* Make section span full content width and use 2 equal columns */
    .page__related--full { float: inline-start; width: 100%; padding: 0; }
    .cross-related-grid { display: grid; grid-template-columns: repeat(2, minmax(0, 1fr)); gap: 2rem; }
    @media (max-width: 768px) { .cross-related-grid { grid-template-columns: 1fr; } }
    /* Ensure archive cards stretch nicely in the grid */
    .cross-related-grid .list__item, .cross-related-grid .grid__item { width: auto; float: none; margin: 0; }
  </style>
  <div class="cross-related-grid">
    



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/dsa/0050-alien-dictionary/" rel="permalink">Alien Dictionary
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          6 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">“Given sorted words in an alien language, deduce the alphabet order.”
</p>
  </article>
</div>




<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/ml-system-design/0050-character-level-language-models/" rel="permalink">Character-Level Language Models
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          6 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">“No vocabulary needed—predict one character at a time.”
</p>
  </article>
</div>




<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/speech-tech/0050-custom-language-modeling/" rel="permalink">Custom Language Modeling for ASR
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          7 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">“The right language model makes your ASR understand your domain.”
</p>
  </article>
</div>

  </div>
</div>

      <section class="page__share">
  <h4 class="page__share-title">Share on</h4>

  <a href="https://twitter.com/intent/tweet?via=arunbaby0&text=Building+Domain-Specific+Agents%20https%3A%2F%2Fwww.arunbaby.com%2Fai-agents%2F0050-building-domain-specific-agents%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fwww.arunbaby.com%2Fai-agents%2F0050-building-domain-specific-agents%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://www.arunbaby.com/ai-agents/0050-building-domain-specific-agents/" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="/ai-agents/0049-dependency-graphs-for-agents/" class="pagination--pager" title="Dependency Graphs for Agent Tasks">Previous</a>
    
    
      <a href="#" class="pagination--pager disabled">Next</a>
    
  </nav>


    </div>

    
  </article>

  
  
</div>

      
    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';" role="search">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    
      
        
          <li><a href="https://twitter.com/arunbaby0" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
        
      
        
          <li><a href="https://github.com/arunbaby0" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
        
          <li><a href="https://www.linkedin.com/in/arunbaby0/" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i> LinkedIn</a></li>
        
      
        
          <li><a href="https://scholar.google.co.in/citations?user=6fSYWhkAAAAJ" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-graduation-cap" aria-hidden="true"></i> Google Scholar</a></li>
        
      
    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 1990 - 2143 <a href="https://www.arunbaby.com">Arun Baby</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>




  <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-0JRJPEC9SS"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-0JRJPEC9SS', { 'anonymize_ip': false});
</script>








  </body>
</html>
