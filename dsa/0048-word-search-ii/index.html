<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.26.2 by Michael Rose
  Copyright 2013-2024 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->

<html lang="en-US" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Word Search II - Arun Baby</title>
<meta name="description" content="“Don’t look for one needle in a haystack. Magnetize the hay to find all needles at once.”">


  <meta name="author" content="Arun Baby">
  
  <meta property="article:author" content="Arun Baby">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Arun Baby">
<meta property="og:title" content="Word Search II">
<meta property="og:url" content="https://www.arunbaby.com/dsa/0048-word-search-ii/">


  <meta property="og:description" content="“Don’t look for one needle in a haystack. Magnetize the hay to find all needles at once.”">



  <meta property="og:image" content="https://www.arunbaby.com/assets/images/profile-photo.png">



  <meta name="twitter:site" content="@arunbaby0">
  <meta name="twitter:title" content="Word Search II">
  <meta name="twitter:description" content="“Don’t look for one needle in a haystack. Magnetize the hay to find all needles at once.”">
  <meta name="twitter:url" content="https://www.arunbaby.com/dsa/0048-word-search-ii/">

  
    <meta name="twitter:card" content="summary">
    
      <meta name="twitter:image" content="https://www.arunbaby.com/assets/images/profile-photo.png">
    
  

  



  <meta property="article:published_time" content="2025-12-22T11:01:30+05:30">





  

  


<link rel="canonical" href="https://www.arunbaby.com/dsa/0048-word-search-ii/">












<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Arun Baby Feed">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
  
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css"></noscript>



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single" dir="ltr">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
           
          <span class="site-subtitle">Arun Baby</span>
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a
                href="/about/"
                
                
              >About</a>
            </li><li class="masthead__menu-item">
              <a
                href="/dsa/"
                
                
              >DSA</a>
            </li><li class="masthead__menu-item">
              <a
                href="/ml-system-design/"
                
                
              >ML Systems</a>
            </li><li class="masthead__menu-item">
              <a
                href="/speech-tech/"
                
                
              >Speech Tech</a>
            </li><li class="masthead__menu-item">
              <a
                href="/ai-agents/"
                
                
              >AI Agents</a>
            </li><li class="masthead__menu-item">
              <a
                href="/publications/"
                
                
              >Publications</a>
            </li><li class="masthead__menu-item">
              <a
                href="/statuses/"
                
                
              >Statuses</a>
            </li><li class="masthead__menu-item">
              <a
                href="/contact/"
                
                
              >Contact</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <i class="fas fa-search"></i>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      





<div id="main" role="main" class="no-author-sidebar">
  
  <div class="sidebar sticky">
  
  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Word Search II">
    <meta itemprop="description" content="“Don’t look for one needle in a haystack. Magnetize the hay to find all needles at once.”">
    <meta itemprop="datePublished" content="2025-12-22T11:01:30+05:30">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">
            <a href="https://www.arunbaby.com/dsa/0048-word-search-ii/" itemprop="url">Word Search II
</a>
          </h1>
          

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          8 minute read
        
      </span>
    
  </p>


        </header>
      

      <section class="page__content" itemprop="text">
        
          <aside class="sidebar__right sticky">
            <nav class="toc">
              <header><h4 class="nav__title"><i class="fas fa-file-alt"></i> On this page</h4></header>
              <ul class="toc__menu"><li><a href="#1-the-problem-boggle-on-steroids">1. The Problem: Boggle on Steroids</a></li><li><a href="#2-approach-1-the-naive-solution-repeated-search">2. Approach 1: The Naive Solution (Repeated Search)</a></li><li><a href="#3-the-optimized-solution-backtracking-with-a-trie">3. The Optimized Solution: Backtracking with a Trie</a><ul><li><a href="#31-what-is-a-trie">3.1 What is a Trie?</a></li><li><a href="#32-the-key-strategy">3.2 The Key Strategy</a></li><li><a href="#33-optimization-pruning-the-trie">3.3 Optimization: Pruning the Trie</a></li></ul></li><li><a href="#4-design--implementation">4. Design &amp; Implementation</a><ul><li><a href="#41-the-trie-node">4.1 The Trie Node</a></li><li><a href="#42-the-main-algorithm-class">4.2 The Main Algorithm class</a></li></ul></li><li><a href="#5-walkthrough-how-it-runs">5. Walkthrough: How it Runs</a></li><li><a href="#6-common-pitfalls">6. Common Pitfalls</a></li><li><a href="#7-complexity-analysis">7. Complexity Analysis</a></li><li><a href="#8-real-world-connections">8. Real World Connections</a></li></ul>
            </nav>
          </aside>
        
        <p><strong>“Don’t look for one needle in a haystack. Magnetize the hay to find all needles at once.”</strong></p>

<h2 id="1-the-problem-boggle-on-steroids">1. The Problem: Boggle on Steroids</h2>

<p>Imagine you are playing the game Boggle. You have a grid of letters and a possibly huge list of valid words (a dictionary). Your task is to find <strong>all</strong> the words from the list that can be formed in the grid by connecting adjacent letters (horizontally or vertically).</p>

<p><strong>The Rules:</strong></p>
<ul>
  <li>You can move up, down, left, or right.</li>
  <li>You cannot use the same cell twice in a single word path.</li>
  <li>Input: An <code class="language-plaintext highlighter-rouge">m x n</code> board of characters and a list of strings <code class="language-plaintext highlighter-rouge">words</code>.</li>
  <li>Output: All words from the list that exist in the board.</li>
</ul>

<p><strong>Example:</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Board:
[
  ['o','a','a','n'],
  ['e','t','a','e'],
  ['i','h','k','r'],
  ['i','f','l','v']
]

Words: ["oath", "pea", "eat", "rain"]

Output: ["eat", "oath"]
</code></pre></div></div>

<p>(“pea” is not there; “rain” is distinct.)</p>

<hr />

<h2 id="2-approach-1-the-naive-solution-repeated-search">2. Approach 1: The Naive Solution (Repeated Search)</h2>

<p>If you’ve solved “Word Search I” (where you look for a <em>single</em> word), your instinct might be: “I’ll just run that algorithm for every word in the dictionary!”</p>

<p><strong>The Algorithm:</strong></p>
<ol>
  <li>Iterate through every word in the <code class="language-plaintext highlighter-rouge">words</code> list.</li>
  <li>For each word, scan the entire grid to find a starting character.</li>
  <li>If found, run DFS (Depth-First Search) to try and match the rest of the word.</li>
</ol>

<p><strong>Why this fails at scale:</strong>
Let’s say the board is <code class="language-plaintext highlighter-rouge">50x50</code> and you have <code class="language-plaintext highlighter-rouge">10,000</code> words.
If many words start with widely used prefixes (like “react”, “reason”, “real”, “read”), you end up traversing the exact same path on the board (“r” -&gt; “e” -&gt; “a”) thousands of times—once for each word.</p>

<p>This redundancy is killer. We need a way to group words that share prefixes so we traverse the common paths only once.</p>

<hr />

<h2 id="3-the-optimized-solution-backtracking-with-a-trie">3. The Optimized Solution: Backtracking with a Trie</h2>

<h3 id="31-what-is-a-trie">3.1 What is a Trie?</h3>

<p>A <strong>Trie</strong> (pronounced “try” or “tree”) is a tree data structure specialized for strings. Instead of storing whole strings in nodes, we store characters on edges (or nodes). Paths from the root down to a node represent prefixes.</p>

<p><strong>Visualizing the Trie:</strong>
If our dictionary is <code class="language-plaintext highlighter-rouge">["oath", "pea", "eat", "rain"]</code>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>        (root)
       /   |   \
      o    p    e
     /     |     \
    a      e      a
   /       |       \
  t        a        t (*)
 /
h (*)
</code></pre></div></div>
<p><em>(</em>) marks the end of a valid word.*</p>

<p>Notice how <code class="language-plaintext highlighter-rouge">"eat"</code> and <code class="language-plaintext highlighter-rouge">"eating"</code> (if we had it) would share the <code class="language-plaintext highlighter-rouge">e-a-t</code> path.</p>

<h3 id="32-the-key-strategy">3.2 The Key Strategy</h3>

<p>Instead of iterating through the <em>words</em>, we iterate through the <strong>grid</strong>.
We start a DFS from every cell in the grid, and simultaneously traverse the Trie.</p>

<ol>
  <li><strong>Synchronized Traversal</strong>:
    <ul>
      <li>If we are at cell <code class="language-plaintext highlighter-rouge">(r, c)</code> with letter <code class="language-plaintext highlighter-rouge">'o'</code>, we check if the Trie root has a child <code class="language-plaintext highlighter-rouge">'o'</code>.</li>
      <li>If yes, we move to that Trie node and move to a neighbor on the grid.</li>
    </ul>
  </li>
  <li><strong>Instant Validation</strong>:
    <ul>
      <li>If the current Trie node marks the “end of a word”, we found one! Add it to results.</li>
      <li>If the Trie node has no children matching any grid neighbor, we stop immediately. We don’t waste time exploring deeper.</li>
    </ul>
  </li>
</ol>

<h3 id="33-optimization-pruning-the-trie">3.3 Optimization: Pruning the Trie</h3>

<p>This is the “pro tip” for this problem.
Once we find a word like <code class="language-plaintext highlighter-rouge">"oath"</code>, we add it to our result list. <strong>We don’t need to find it again.</strong>
If we leave <code class="language-plaintext highlighter-rouge">"oath"</code> in the Trie, our DFS usually continues searching or re-finds it from other paths.</p>

<p><strong>Pruning:</strong> When we find a word, we can theoretically remove it from the Trie. If a leaf node is removed and its parent has no other children, the parent can be removed too. This progressively shrinks the search space as we find words, making the algorithm faster the longer it runs!</p>

<hr />

<h2 id="4-design--implementation">4. Design &amp; Implementation</h2>

<p>Let’s build this step by step.</p>

<h3 id="41-the-trie-node">4.1 The Trie Node</h3>

<p>To keep things efficient, we’ll store the actual word at the endpoint node. This saves us from having to reconstruct the string during DFS.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">TrieNode</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">children</span> <span class="o">=</span> <span class="p">{}</span>  <span class="c1"># Map char -&gt; TrieNode
</span>        <span class="n">self</span><span class="p">.</span><span class="n">word</span> <span class="o">=</span> <span class="bp">None</span>    <span class="c1"># Stores the word if this node is an end
</span></code></pre></div></div>

<h3 id="42-the-main-algorithm-class">4.2 The Main Algorithm class</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">findWords</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">board</span><span class="p">,</span> <span class="n">words</span><span class="p">):</span>
        <span class="c1"># Step 1: Build the Trie
</span>        <span class="n">root</span> <span class="o">=</span> <span class="nc">TrieNode</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">w</span> <span class="ow">in</span> <span class="n">words</span><span class="p">:</span>
            <span class="n">node</span> <span class="o">=</span> <span class="n">root</span>
            <span class="k">for</span> <span class="n">char</span> <span class="ow">in</span> <span class="n">w</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">char</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">node</span><span class="p">.</span><span class="n">children</span><span class="p">:</span>
                    <span class="n">node</span><span class="p">.</span><span class="n">children</span><span class="p">[</span><span class="n">char</span><span class="p">]</span> <span class="o">=</span> <span class="nc">TrieNode</span><span class="p">()</span>
                <span class="n">node</span> <span class="o">=</span> <span class="n">node</span><span class="p">.</span><span class="n">children</span><span class="p">[</span><span class="n">char</span><span class="p">]</span>
            <span class="n">node</span><span class="p">.</span><span class="n">word</span> <span class="o">=</span> <span class="n">w</span>  <span class="c1"># Mark end of word
</span>
        <span class="n">self</span><span class="p">.</span><span class="n">matches</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="n">rows</span><span class="p">,</span> <span class="n">cols</span> <span class="o">=</span> <span class="nf">len</span><span class="p">(</span><span class="n">board</span><span class="p">),</span> <span class="nf">len</span><span class="p">(</span><span class="n">board</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        
        <span class="c1"># Step 2: DFS function
</span>        <span class="k">def</span> <span class="nf">dfs</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">node</span><span class="p">):</span>
            <span class="n">letter</span> <span class="o">=</span> <span class="n">board</span><span class="p">[</span><span class="n">r</span><span class="p">][</span><span class="n">c</span><span class="p">]</span>
            <span class="n">curr_node</span> <span class="o">=</span> <span class="n">node</span><span class="p">.</span><span class="n">children</span><span class="p">[</span><span class="n">letter</span><span class="p">]</span>
            
            <span class="c1"># Check if we found a word
</span>            <span class="k">if</span> <span class="n">curr_node</span><span class="p">.</span><span class="n">word</span><span class="p">:</span>
                <span class="n">self</span><span class="p">.</span><span class="n">matches</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">curr_node</span><span class="p">.</span><span class="n">word</span><span class="p">)</span>
                <span class="n">curr_node</span><span class="p">.</span><span class="n">word</span> <span class="o">=</span> <span class="bp">None</span>  <span class="c1"># Avoid duplicates!
</span>            
            <span class="c1"># Mark path as visited for current recursion stack
</span>            <span class="n">board</span><span class="p">[</span><span class="n">r</span><span class="p">][</span><span class="n">c</span><span class="p">]</span> <span class="o">=</span> <span class="sh">'</span><span class="s">#</span><span class="sh">'</span> 
            
            <span class="c1"># Explore neighbors
</span>            <span class="k">for</span> <span class="n">dr</span><span class="p">,</span> <span class="n">dc</span> <span class="ow">in</span> <span class="p">[(</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">),</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">)]:</span>
                <span class="n">nr</span><span class="p">,</span> <span class="n">nc</span> <span class="o">=</span> <span class="n">r</span> <span class="o">+</span> <span class="n">dr</span><span class="p">,</span> <span class="n">c</span> <span class="o">+</span> <span class="n">dc</span>
                <span class="nf">if </span><span class="p">(</span><span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">nr</span> <span class="o">&lt;</span> <span class="n">rows</span> <span class="ow">and</span> <span class="mi">0</span> <span class="o">&lt;=</span> <span class="n">nc</span> <span class="o">&lt;</span> <span class="n">cols</span> <span class="ow">and</span> 
                    <span class="n">board</span><span class="p">[</span><span class="n">nr</span><span class="p">][</span><span class="n">nc</span><span class="p">]</span> <span class="ow">in</span> <span class="n">curr_node</span><span class="p">.</span><span class="n">children</span><span class="p">):</span>
                    <span class="nf">dfs</span><span class="p">(</span><span class="n">nr</span><span class="p">,</span> <span class="n">nc</span><span class="p">,</span> <span class="n">curr_node</span><span class="p">)</span>
            
            <span class="c1"># Backtrack: Unmark path
</span>            <span class="n">board</span><span class="p">[</span><span class="n">r</span><span class="p">][</span><span class="n">c</span><span class="p">]</span> <span class="o">=</span> <span class="n">letter</span>
            
            <span class="c1"># Optimization: Leaf pruning
</span>            <span class="c1"># If current node has no children (and word is consumed),
</span>            <span class="c1"># we can prune it from parent to optimize future searches.
</span>            <span class="k">if</span> <span class="ow">not</span> <span class="n">curr_node</span><span class="p">.</span><span class="n">children</span><span class="p">:</span>
                <span class="k">del</span> <span class="n">node</span><span class="p">.</span><span class="n">children</span><span class="p">[</span><span class="n">letter</span><span class="p">]</span>

        <span class="c1"># Step 3: Trigger DFS from every cell
</span>        <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="n">rows</span><span class="p">):</span>
            <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="n">cols</span><span class="p">):</span>
                <span class="k">if</span> <span class="n">board</span><span class="p">[</span><span class="n">r</span><span class="p">][</span><span class="n">c</span><span class="p">]</span> <span class="ow">in</span> <span class="n">root</span><span class="p">.</span><span class="n">children</span><span class="p">:</span>
                    <span class="nf">dfs</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="n">c</span><span class="p">,</span> <span class="n">root</span><span class="p">)</span>
                    
        <span class="k">return</span> <span class="n">self</span><span class="p">.</span><span class="n">matches</span>
</code></pre></div></div>

<hr />

<h2 id="5-walkthrough-how-it-runs">5. Walkthrough: How it Runs</h2>

<p>Consider the board:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>o  a
t  h
</code></pre></div></div>
<p>Words: <code class="language-plaintext highlighter-rouge">["oath", "oat"]</code></p>

<ol>
  <li>
    <p><strong>Trie Build</strong>:
<code class="language-plaintext highlighter-rouge">root -&gt; o -&gt; a -&gt; t (end "oat") -&gt; h (end "oath")</code></p>
  </li>
  <li>
    <p><strong>Scan Grid</strong>:</p>
    <ul>
      <li>Start at <code class="language-plaintext highlighter-rouge">(0,0)</code> which is <code class="language-plaintext highlighter-rouge">'o'</code>. It exists in <code class="language-plaintext highlighter-rouge">root.children</code>.</li>
      <li><strong>DFS(‘o’)</strong>:
        <ul>
          <li>Move to Trie node <code class="language-plaintext highlighter-rouge">o</code>.</li>
          <li>Valid neighbors of <code class="language-plaintext highlighter-rouge">(0,0)</code>: <code class="language-plaintext highlighter-rouge">(0,1)</code> is <code class="language-plaintext highlighter-rouge">'a'</code>, <code class="language-plaintext highlighter-rouge">(1,0)</code> is <code class="language-plaintext highlighter-rouge">'t'</code>.</li>
          <li>Trie node <code class="language-plaintext highlighter-rouge">o</code> has child <code class="language-plaintext highlighter-rouge">a</code>? Yes.</li>
        </ul>
      </li>
      <li><strong>DFS(‘a’)</strong> (at <code class="language-plaintext highlighter-rouge">0,1</code>):
        <ul>
          <li>Trie node <code class="language-plaintext highlighter-rouge">a</code> has child <code class="language-plaintext highlighter-rouge">t</code>? Yes. neighbor <code class="language-plaintext highlighter-rouge">(1,0)</code> is <code class="language-plaintext highlighter-rouge">t</code>.</li>
        </ul>
      </li>
      <li><strong>DFS(‘t’)</strong> (at <code class="language-plaintext highlighter-rouge">1,0</code>):
        <ul>
          <li><strong>Found word!</strong> <code class="language-plaintext highlighter-rouge">curr_node.word</code> is <code class="language-plaintext highlighter-rouge">"oat"</code>. Add to list. Set <code class="language-plaintext highlighter-rouge">curr_node.word = None</code>.</li>
          <li>Trie node <code class="language-plaintext highlighter-rouge">t</code> has child <code class="language-plaintext highlighter-rouge">h</code>? Yes. neighbor <code class="language-plaintext highlighter-rouge">(1,1)</code> is <code class="language-plaintext highlighter-rouge">h</code>.</li>
        </ul>
      </li>
      <li><strong>DFS(‘h’)</strong> (at <code class="language-plaintext highlighter-rouge">1,1</code>):
        <ul>
          <li><strong>Found word!</strong> <code class="language-plaintext highlighter-rouge">curr_node.word</code> is <code class="language-plaintext highlighter-rouge">"oath"</code>. Add to list.</li>
          <li><code class="language-plaintext highlighter-rouge">curr_node</code> (path o-a-t-h) has no children.</li>
          <li><strong>Pruning</strong>: Remove <code class="language-plaintext highlighter-rouge">h</code> from parent <code class="language-plaintext highlighter-rouge">t</code>’s children.</li>
        </ul>
      </li>
      <li>Backtrack to <code class="language-plaintext highlighter-rouge">t</code>:
        <ul>
          <li>Since we removed <code class="language-plaintext highlighter-rouge">h</code>, and <code class="language-plaintext highlighter-rouge">t</code> has no other children, we remove <code class="language-plaintext highlighter-rouge">t</code> from parent <code class="language-plaintext highlighter-rouge">a</code>.</li>
        </ul>
      </li>
      <li>Backtrack to <code class="language-plaintext highlighter-rouge">a</code>:
        <ul>
          <li>Remove <code class="language-plaintext highlighter-rouge">a</code>… and so on.</li>
        </ul>
      </li>
    </ul>
  </li>
</ol>

<p>The pruning effectively “eats” the Trie branches as we solve the puzzle, making the board emptier of possibilities as we go.</p>

<hr />

<h2 id="6-common-pitfalls">6. Common Pitfalls</h2>

<ol>
  <li><strong>Not handling duplicates</strong>: The problem asks for unique words. If the board has two “eat” formations, you shouldn’t return “eat” twice.
    <ul>
      <li><em>Fix</em>: Set <code class="language-plaintext highlighter-rouge">node.word = None</code> immediately after adding it to results.</li>
    </ul>
  </li>
  <li><strong>Revisiting cells</strong>: You cannot use the same cell <code class="language-plaintext highlighter-rouge">(r,c)</code> twice in one word.
    <ul>
      <li><em>Fix</em>: Use a <code class="language-plaintext highlighter-rouge">visited</code> set or temporarily mutate the board (e.g., change <code class="language-plaintext highlighter-rouge">'a'</code> to <code class="language-plaintext highlighter-rouge">'#'</code>) during DFS.</li>
    </ul>
  </li>
  <li><strong>Time Limit Exceeded (TLE)</strong>: Without Trie pruning, standard Trie DFS can still be slow on massive test cases where almost every path is a valid prefix. Pruning is often required for the fastest solution.</li>
</ol>

<hr />

<h2 id="7-complexity-analysis">7. Complexity Analysis</h2>

<ul>
  <li><strong>Time Complexity</strong>: <code class="language-plaintext highlighter-rouge">O(M * N * 3^L)</code> worst case.
    <ul>
      <li><code class="language-plaintext highlighter-rouge">M * N</code>: We start a search from every cell.</li>
      <li><code class="language-plaintext highlighter-rouge">3^L</code>: In the DFS, we have at most 4 directions, but we came from 1, so we look at 3 neighbors. <code class="language-plaintext highlighter-rouge">L</code> is the max length of a word.</li>
      <li>In practice, the Trie limits this drastically.</li>
    </ul>
  </li>
  <li><strong>Space Complexity</strong>: <code class="language-plaintext highlighter-rouge">O(K)</code> where <code class="language-plaintext highlighter-rouge">K</code> is the total number of characters in the dictionary (to build the Trie). The recursion stack takes <code class="language-plaintext highlighter-rouge">O(L)</code>.</li>
</ul>

<hr />

<h2 id="8-real-world-connections">8. Real World Connections</h2>

<p>This isn’t just a puzzle game algorithm. This pattern—<strong>traversing a data structure guided by a state machine (Trie)</strong>—appears in:</p>

<ol>
  <li><strong>Boggle Solvers</strong>: Obviously.</li>
  <li><strong>Spell Checkers</strong>: To quickly validate if a typed sequence is a valid prefix.</li>
  <li><strong>T9 Text Prediction</strong>: Finding valid words from number sequences on old phones.</li>
  <li><strong>DNA Sequencing</strong>: Searching for multiple genetic markers (sequences) in a long DNA strand.</li>
</ol>

<hr />

<p><strong>Originally published at:</strong> <a href="https://www.arunbaby.com/dsa/0048-word-search-ii/">arunbaby.com/dsa/0048-word-search-ii</a></p>

<p><em>If you found this helpful, consider sharing it with others who might benefit.</em></p>

        
      </section>

      <footer class="page__meta">
        
        
  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      <a href="/tags/#backtracking" class="page__taxonomy-item p-category" rel="tag">backtracking</a><span class="sep">, </span>
    
      <a href="/tags/#dfs" class="page__taxonomy-item p-category" rel="tag">dfs</a><span class="sep">, </span>
    
      <a href="/tags/#matrix" class="page__taxonomy-item p-category" rel="tag">matrix</a><span class="sep">, </span>
    
      <a href="/tags/#string-search" class="page__taxonomy-item p-category" rel="tag">string-search</a><span class="sep">, </span>
    
      <a href="/tags/#trie" class="page__taxonomy-item p-category" rel="tag">trie</a>
    
    </span>
  </p>




  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      <a href="/categories/#dsa" class="page__taxonomy-item p-category" rel="tag">dsa</a>
    
    </span>
  </p>


        
      </footer>

      <div class="page__related page__related--full">
  <h2 class="page__related-title">Related across topics</h2>
  <style>
    /* Make section span full content width and use 2 equal columns */
    .page__related--full { float: inline-start; width: 100%; padding: 0; }
    .cross-related-grid { display: grid; grid-template-columns: repeat(2, minmax(0, 1fr)); gap: 2rem; }
    @media (max-width: 768px) { .cross-related-grid { grid-template-columns: 1fr; } }
    /* Ensure archive cards stretch nicely in the grid */
    .cross-related-grid .list__item, .cross-related-grid .grid__item { width: auto; float: none; margin: 0; }
  </style>
  <div class="cross-related-grid">
    



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/ml-system-design/0048-trie-based-search/" rel="permalink">Trie-Based Search Systems (Typeahead)
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          5 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">“The best interfaces read your mind. Or at least, they complete your sentences.”
</p>
  </article>
</div>




<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/speech-tech/0048-phonetic-trie/" rel="permalink">Phonetic Trie
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          5 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">“Spelling is optional. Sound is non-negotiable.”
</p>
  </article>
</div>




<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/ai-agents/0048-streaming-real-time-agents/" rel="permalink">Streaming Real-Time Agents
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          4 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">“Waiting is the hardest part. So don’t make them wait.”
</p>
  </article>
</div>

  </div>
</div>

      <section class="page__share">
  <h4 class="page__share-title">Share on</h4>

  <a href="https://twitter.com/intent/tweet?via=arunbaby0&text=Word+Search+II%20https%3A%2F%2Fwww.arunbaby.com%2Fdsa%2F0048-word-search-ii%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fwww.arunbaby.com%2Fdsa%2F0048-word-search-ii%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://www.arunbaby.com/dsa/0048-word-search-ii/" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="/dsa/0047-serialize-deserialize-tree/" class="pagination--pager" title="Serialize and Deserialize Binary Tree">Previous</a>
    
    
      <a href="/dsa/0049-course-schedule/" class="pagination--pager" title="Course Schedule (Topological Sort)">Next</a>
    
  </nav>


    </div>

    
  </article>

  
  
</div>

      
    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';" role="search">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    
      
        
          <li><a href="https://twitter.com/arunbaby0" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
        
      
        
          <li><a href="https://github.com/arunbaby0" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
        
          <li><a href="https://www.linkedin.com/in/arunbaby0/" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i> LinkedIn</a></li>
        
      
        
          <li><a href="https://scholar.google.co.in/citations?user=6fSYWhkAAAAJ" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-graduation-cap" aria-hidden="true"></i> Google Scholar</a></li>
        
      
    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 1990 - 2143 <a href="https://www.arunbaby.com">Arun Baby</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>




  <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-0JRJPEC9SS"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-0JRJPEC9SS', { 'anonymize_ip': false});
</script>








  </body>
</html>
