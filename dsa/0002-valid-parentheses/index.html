<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.26.2 by Michael Rose
  Copyright 2013-2024 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->

<html lang="en-US" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Valid Parentheses - Arun Baby</title>
<meta name="description" content="Why a simple stack solves bracket matching, expression parsing, and even neural network depth management in one elegant pattern.">


  <meta name="author" content="Arun Baby">
  
  <meta property="article:author" content="Arun Baby">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Arun Baby">
<meta property="og:title" content="Valid Parentheses">
<meta property="og:url" content="https://www.arunbaby.com/dsa/0002-valid-parentheses/">


  <meta property="og:description" content="Why a simple stack solves bracket matching, expression parsing, and even neural network depth management in one elegant pattern.">



  <meta property="og:image" content="https://www.arunbaby.com/assets/images/profile-photo.png">



  <meta name="twitter:site" content="@arunbaby0">
  <meta name="twitter:title" content="Valid Parentheses">
  <meta name="twitter:description" content="Why a simple stack solves bracket matching, expression parsing, and even neural network depth management in one elegant pattern.">
  <meta name="twitter:url" content="https://www.arunbaby.com/dsa/0002-valid-parentheses/">

  
    <meta name="twitter:card" content="summary">
    
      <meta name="twitter:image" content="https://www.arunbaby.com/assets/images/profile-photo.png">
    
  

  



  <meta property="article:published_time" content="2025-10-13T17:44:23+05:30">





  

  


<link rel="canonical" href="https://www.arunbaby.com/dsa/0002-valid-parentheses/">












<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Arun Baby Feed">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
  
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css"></noscript>



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single" dir="ltr">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
           
          <span class="site-subtitle">Arun Baby</span>
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a
                href="/about/"
                
                
              >About</a>
            </li><li class="masthead__menu-item">
              <a
                href="/dsa/"
                
                
              >DSA</a>
            </li><li class="masthead__menu-item">
              <a
                href="/ml-system-design/"
                
                
              >ML Systems</a>
            </li><li class="masthead__menu-item">
              <a
                href="/speech-tech/"
                
                
              >Speech Tech</a>
            </li><li class="masthead__menu-item">
              <a
                href="/publications/"
                
                
              >Publications</a>
            </li><li class="masthead__menu-item">
              <a
                href="/statuses/"
                
                
              >Statuses</a>
            </li><li class="masthead__menu-item">
              <a
                href="/contact/"
                
                
              >Contact</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <i class="fas fa-search"></i>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      





<div id="main" role="main">
  
  <div class="sidebar sticky">
  


<div itemscope itemtype="https://schema.org/Person" class="h-card">

  
    <div class="author__avatar">
      <a href="https://www.arunbaby.com/">
        <img src="/assets/images/profile-photo.png" alt="Arun Baby" itemprop="image" class="u-photo">
      </a>
    </div>
  

  <div class="author__content">
    <h3 class="author__name p-name" itemprop="name">
      <a class="u-url" rel="me" href="https://www.arunbaby.com/" itemprop="url">Arun Baby</a>
    </h3>
    
      <div class="author__bio p-note" itemprop="description">
        <p>Becoming <strong>Unlabelable</strong></p>

      </div>
    
  </div>

  <div class="author__urls-wrapper">
    <button class="btn btn--inverse">Follow</button>
    <ul class="author__urls social-icons">
      
        <li itemprop="homeLocation" itemscope itemtype="https://schema.org/Place">
          <i class="fas fa-fw fa-map-marker-alt" aria-hidden="true"></i> <span itemprop="name" class="p-locality">India</span>
        </li>
      

      
        
          
            <li><a href="https://twitter.com/arunbaby0" rel="nofollow noopener noreferrer me" itemprop="sameAs"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i><span class="label">Twitter</span></a></li>
          
        
          
            <li><a href="https://github.com/arunbaby0" rel="nofollow noopener noreferrer me" itemprop="sameAs"><i class="fab fa-fw fa-github" aria-hidden="true"></i><span class="label">GitHub</span></a></li>
          
        
          
            <li><a href="https://www.linkedin.com/in/arunbaby0/" rel="nofollow noopener noreferrer me" itemprop="sameAs"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span class="label">LinkedIn</span></a></li>
          
        
          
            <li><a href="https://scholar.google.co.in/citations?user=6fSYWhkAAAAJ" rel="nofollow noopener noreferrer me" itemprop="sameAs"><i class="fas fa-fw fa-graduation-cap" aria-hidden="true"></i><span class="label">Google Scholar</span></a></li>
          
        
      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      

      <!--
  <li>
    <a href="http://link-to-whatever-social-network.com/user/" itemprop="sameAs" rel="nofollow noopener noreferrer me">
      <i class="fas fa-fw" aria-hidden="true"></i> Custom Social Profile Link
    </a>
  </li>
-->
    </ul>
  </div>
</div>

  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Valid Parentheses">
    <meta itemprop="description" content="Why a simple stack solves bracket matching, expression parsing, and even neural network depth management in one elegant pattern.">
    <meta itemprop="datePublished" content="2025-10-13T17:44:23+05:30">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">
            <a href="https://www.arunbaby.com/dsa/0002-valid-parentheses/" itemprop="url">Valid Parentheses
</a>
          </h1>
          

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          24 minute read
        
      </span>
    
  </p>


        </header>
      

      <section class="page__content" itemprop="text">
        
          <aside class="sidebar__right sticky">
            <nav class="toc">
              <header><h4 class="nav__title"><i class="fas fa-file-alt"></i> On this page</h4></header>
              <ul class="toc__menu"><li><a href="#introduction">Introduction</a></li><li><a href="#problem-statement">Problem Statement</a><ul><li><a href="#examples">Examples</a></li><li><a href="#constraints">Constraints</a></li></ul></li><li><a href="#understanding-the-problem">Understanding the Problem</a><ul><li><a href="#why-this-is-a-stack-problem">Why This is a Stack Problem</a></li><li><a href="#what-makes-a-string-invalid">What Makes a String Invalid?</a></li></ul></li><li><a href="#approach-1-brute-force-naive">Approach 1: Brute Force (Naive)</a><ul><li><a href="#the-idea">The Idea</a></li><li><a href="#example-walkthrough">Example Walkthrough</a></li><li><a href="#complexity-analysis">Complexity Analysis</a></li><li><a href="#why-this-is-inefficient">Why This is Inefficient</a></li></ul></li><li><a href="#approach-2-stack-optimal">Approach 2: Stack (Optimal)</a><ul><li><a href="#the-insight">The Insight</a></li><li><a href="#algorithm">Algorithm</a></li><li><a href="#detailed-walkthrough">Detailed Walkthrough</a></li><li><a href="#why-stack-is-optimal">Why Stack is Optimal</a></li><li><a href="#complexity-analysis-1">Complexity Analysis</a></li></ul></li><li><a href="#deep-dive-stack-data-structure">Deep Dive: Stack Data Structure</a><ul><li><a href="#what-is-a-stack">What is a Stack?</a></li><li><a href="#stack-vs-other-data-structures">Stack vs Other Data Structures</a></li><li><a href="#when-to-use-stacks">When to Use Stacks</a></li></ul></li><li><a href="#alternative-implementations">Alternative Implementations</a><ul><li><a href="#using-a-list-default-python">Using a List (Default Python)</a></li><li><a href="#using-collectionsdeque-more-efficient">Using collections.deque (More Efficient)</a></li><li><a href="#using-string-as-stack-space-optimized">Using String as Stack (Space-optimized)</a></li></ul></li><li><a href="#variations-and-extensions">Variations and Extensions</a><ul><li><a href="#variation-1-return-index-of-first-mismatch">Variation 1: Return Index of First Mismatch</a></li><li><a href="#variation-2-count-minimum-removals">Variation 2: Count Minimum Removals</a></li><li><a href="#variation-3-remove-invalid-brackets">Variation 3: Remove Invalid Brackets</a></li><li><a href="#variation-4-longest-valid-parentheses">Variation 4: Longest Valid Parentheses</a></li><li><a href="#variation-5-generate-all-valid-parentheses">Variation 5: Generate All Valid Parentheses</a></li></ul></li><li><a href="#edge-cases">Edge Cases</a><ul><li><a href="#edge-case-1-empty-string">Edge Case 1: Empty String</a></li><li><a href="#edge-case-2-single-character">Edge Case 2: Single Character</a></li><li><a href="#edge-case-3-only-opening-brackets">Edge Case 3: Only Opening Brackets</a></li><li><a href="#edge-case-4-only-closing-brackets">Edge Case 4: Only Closing Brackets</a></li><li><a href="#edge-case-5-deeply-nested">Edge Case 5: Deeply Nested</a></li><li><a href="#edge-case-6-alternating-pattern">Edge Case 6: Alternating Pattern</a></li><li><a href="#edge-case-7-completely-nested">Edge Case 7: Completely Nested</a></li></ul></li><li><a href="#production-considerations">Production Considerations</a><ul><li><a href="#input-validation">Input Validation</a></li><li><a href="#performance-optimizations">Performance Optimizations</a></li><li><a href="#memory-optimization-for-constrained-environments">Memory Optimization for Constrained Environments</a></li></ul></li><li><a href="#real-world-applications">Real-World Applications</a><ul><li><a href="#application-1-expression-parser">Application 1: Expression Parser</a></li><li><a href="#application-2-htmlxml-tag-validation">Application 2: HTML/XML Tag Validation</a></li><li><a href="#application-3-function-call-stack-validation">Application 3: Function Call Stack Validation</a></li><li><a href="#application-4-ml-pipeline-validation">Application 4: ML Pipeline Validation</a></li><li><a href="#application-5-undoredo-functionality">Application 5: Undo/Redo Functionality</a></li></ul></li><li><a href="#testing-strategy">Testing Strategy</a><ul><li><a href="#comprehensive-test-suite">Comprehensive Test Suite</a></li><li><a href="#performance-benchmarking">Performance Benchmarking</a></li></ul></li><li><a href="#key-takeaways">Key Takeaways</a></li><li><a href="#related-problems">Related Problems</a></li><li><a href="#further-reading">Further Reading</a></li><li><a href="#conclusion">Conclusion</a></li></ul>
            </nav>
          </aside>
        
        <p><strong>Why a simple stack solves bracket matching, expression parsing, and even neural network depth management in one elegant pattern.</strong></p>

<h2 id="introduction">Introduction</h2>

<p>The Valid Parentheses problem introduces one of the most fundamental data structures in computer science: the <strong>stack</strong>. While the problem itself seems simple matching brackets in a string the underlying pattern is ubiquitous in software engineering:</p>

<ul>
  <li><strong>Compilers</strong> use stacks to parse expressions and ensure syntactic correctness</li>
  <li><strong>Web browsers</strong> use stacks to manage the back button (page history)</li>
  <li><strong>Text editors</strong> use stacks for undo/redo functionality</li>
  <li><strong>Operating systems</strong> use stacks to manage function calls (call stack)</li>
  <li><strong>ML pipelines</strong> use stacks to validate nested transformations</li>
</ul>

<p>The beauty of stacks lies in their <strong>Last-In-First-Out (LIFO)</strong> property, which naturally matches the structure of nested operations. When you open a bracket <code class="language-plaintext highlighter-rouge">(</code>, you expect it to be closed <code class="language-plaintext highlighter-rouge">)</code> before any bracket opened before it. This LIFO behavior is precisely what stacks provide.</p>

<p><strong>What you’ll learn:</strong></p>
<ul>
  <li>Why stacks are the natural solution for matching problems</li>
  <li>How to implement stack-based solutions efficiently</li>
  <li>Common variations and extensions</li>
  <li>Real-world applications in ML systems and compilers</li>
  <li>Edge cases and production considerations</li>
  <li>Performance optimization techniques</li>
</ul>

<hr />

<h2 id="problem-statement">Problem Statement</h2>

<p>Given a string containing just the characters <code class="language-plaintext highlighter-rouge">'('</code>, <code class="language-plaintext highlighter-rouge">')'</code>, <code class="language-plaintext highlighter-rouge">'{'</code>, <code class="language-plaintext highlighter-rouge">'}'</code>, <code class="language-plaintext highlighter-rouge">'['</code> and <code class="language-plaintext highlighter-rouge">']'</code>, determine if the input string is valid.</p>

<p>An input string is valid if:</p>
<ol>
  <li>Open brackets must be closed by the same type of brackets</li>
  <li>Open brackets must be closed in the correct order</li>
  <li>Every close bracket has a corresponding open bracket of the same type</li>
</ol>

<h3 id="examples">Examples</h3>

<p><strong>Example 1:</strong></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Input: s = "()"
Output: true
Explanation: Single pair of parentheses, properly matched
</code></pre></div></div>

<p><strong>Example 2:</strong></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Input: s = "()[]{}"
Output: true
Explanation: Three pairs, each properly matched
</code></pre></div></div>

<p><strong>Example 3:</strong></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Input: s = "(]"
Output: false
Explanation: Mismatched bracket types - opened '(' but closed ']'
</code></pre></div></div>

<p><strong>Example 4:</strong></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Input: s = "([)]"
Output: false
Explanation: Wrong closing order - opened '[' but it's closed after ')'
</code></pre></div></div>

<p><strong>Example 5:</strong></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Input: s = "{[]}"
Output: true
Explanation: Properly nested brackets
</code></pre></div></div>

<h3 id="constraints">Constraints</h3>
<ul>
  <li><code class="language-plaintext highlighter-rouge">1 &lt;= s.length &lt;= 10^4</code></li>
  <li><code class="language-plaintext highlighter-rouge">s</code> consists of parentheses only <code class="language-plaintext highlighter-rouge">'()[]{}'</code></li>
</ul>

<hr />

<h2 id="understanding-the-problem">Understanding the Problem</h2>

<h3 id="why-this-is-a-stack-problem">Why This is a Stack Problem</h3>

<p>Consider the string <code class="language-plaintext highlighter-rouge">"([{}])"</code>:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Position:  0 1 2 3 4 5
String:    ( [ { } ] )
</code></pre></div></div>

<p><strong>Processing order:</strong></p>
<ol>
  <li>See <code class="language-plaintext highlighter-rouge">(</code> → Must remember to close it later</li>
  <li>See <code class="language-plaintext highlighter-rouge">[</code> → Must remember to close it later</li>
  <li>See <code class="language-plaintext highlighter-rouge">{</code> → Must remember to close it later</li>
  <li>See <code class="language-plaintext highlighter-rouge">}</code> → Must match with most recent opening: <code class="language-plaintext highlighter-rouge">{</code> ✓</li>
  <li>See <code class="language-plaintext highlighter-rouge">]</code> → Must match with most recent opening: <code class="language-plaintext highlighter-rouge">[</code> ✓</li>
  <li>See <code class="language-plaintext highlighter-rouge">)</code> → Must match with most recent opening: <code class="language-plaintext highlighter-rouge">(</code> ✓</li>
</ol>

<p><strong>Key observation:</strong> We always match with the <strong>most recent unclosed</strong> opening bracket. This is exactly what stacks do!</p>

<h3 id="what-makes-a-string-invalid">What Makes a String Invalid?</h3>

<p><strong>Type 1: Wrong bracket type</strong></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>"(]"
Open: (
Close: ]
Error: Types don't match
</code></pre></div></div>

<p><strong>Type 2: Wrong closing order</strong></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>"([)]"
Opens: ( [
Next close: )
Error: Expected ] (most recent opening), got )
</code></pre></div></div>

<p><strong>Type 3: Unclosed opening brackets</strong></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>"((("
Opens: ( ( (
Closes: none
Error: Stack not empty at end
</code></pre></div></div>

<p><strong>Type 4: Extra closing brackets</strong></p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>"())"
Opens: (
Closes: ) )
Error: Second ) has nothing to match
</code></pre></div></div>

<hr />

<h2 id="approach-1-brute-force-naive">Approach 1: Brute Force (Naive)</h2>

<h3 id="the-idea">The Idea</h3>

<p>Repeatedly remove all adjacent valid pairs until no more removals are possible.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">isValid</span><span class="p">(</span><span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sh">"""</span><span class="s">
    Brute force: Keep removing valid pairs
    </span><span class="sh">"""</span>
    <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
        <span class="n">old_len</span> <span class="o">=</span> <span class="nf">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
        
        <span class="c1"># Remove all valid pairs
</span>        <span class="n">s</span> <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="nf">replace</span><span class="p">(</span><span class="sh">'</span><span class="s">()</span><span class="sh">'</span><span class="p">,</span> <span class="sh">''</span><span class="p">)</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="nf">replace</span><span class="p">(</span><span class="sh">'</span><span class="s">[]</span><span class="sh">'</span><span class="p">,</span> <span class="sh">''</span><span class="p">)</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="nf">replace</span><span class="p">(</span><span class="sh">'</span><span class="s">{}</span><span class="sh">'</span><span class="p">,</span> <span class="sh">''</span><span class="p">)</span>
        
        <span class="c1"># If no removal happened, we're done
</span>        <span class="k">if</span> <span class="nf">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="o">==</span> <span class="n">old_len</span><span class="p">:</span>
            <span class="k">break</span>
    
    <span class="c1"># Valid if string is now empty
</span>    <span class="k">return</span> <span class="nf">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span>
</code></pre></div></div>

<h3 id="example-walkthrough">Example Walkthrough</h3>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Input: "([{}])"

Iteration 1:
  - Replace "{}": "([])"
  - Length changed, continue

Iteration 2:
  - Replace "[]": "()"
  - Length changed, continue

Iteration 3:
  - Replace "()": ""
  - Length changed, continue

Iteration 4:
  - No replacements possible
  - String is empty → return True
</code></pre></div></div>

<h3 id="complexity-analysis">Complexity Analysis</h3>

<p><strong>Time Complexity: O(n²)</strong></p>
<ul>
  <li>Outer loop: Can run up to n/2 times (each iteration removes 2 characters minimum)</li>
  <li>Each iteration: O(n) to scan and replace substrings</li>
  <li>Total: O(n²)</li>
</ul>

<p><strong>Space Complexity: O(n)</strong></p>
<ul>
  <li>String replacements create new strings</li>
</ul>

<h3 id="why-this-is-inefficient">Why This is Inefficient</h3>

<p>For a string like <code class="language-plaintext highlighter-rouge">"(((())))"</code>:</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Iteration 1: "(((())))" → "(())"    # Remove 2 chars
Iteration 2: "(())"     → ""        # Remove 4 chars
</code></pre></div></div>

<p>We’re doing O(n) work per iteration, and iterations scale with depth of nesting.</p>

<hr />

<h2 id="approach-2-stack-optimal">Approach 2: Stack (Optimal)</h2>

<h3 id="the-insight">The Insight</h3>

<p>Instead of removing pairs, <strong>remember opening brackets on a stack</strong> and match them with closing brackets as we encounter them.</p>

<h3 id="algorithm">Algorithm</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">isValid</span><span class="p">(</span><span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sh">"""</span><span class="s">
    Stack-based solution: O(n) time, O(n) space
    
    Key idea: Stack naturally maintains LIFO order
    </span><span class="sh">"""</span>
    <span class="c1"># Stack to store opening brackets
</span>    <span class="n">stack</span> <span class="o">=</span> <span class="p">[]</span>
    
    <span class="c1"># Mapping of opening to closing brackets
</span>    <span class="n">pairs</span> <span class="o">=</span> <span class="p">{</span>
        <span class="sh">'</span><span class="s">(</span><span class="sh">'</span><span class="p">:</span> <span class="sh">'</span><span class="s">)</span><span class="sh">'</span><span class="p">,</span>
        <span class="sh">'</span><span class="s">[</span><span class="sh">'</span><span class="p">:</span> <span class="sh">'</span><span class="s">]</span><span class="sh">'</span><span class="p">,</span>
        <span class="sh">'</span><span class="s">{</span><span class="sh">'</span><span class="p">:</span> <span class="sh">'</span><span class="s">}</span><span class="sh">'</span>
    <span class="p">}</span>
    
    <span class="k">for</span> <span class="n">char</span> <span class="ow">in</span> <span class="n">s</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">char</span> <span class="ow">in</span> <span class="n">pairs</span><span class="p">:</span>
            <span class="c1"># Opening bracket: push to stack
</span>            <span class="n">stack</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">char</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># Closing bracket: must match top of stack
</span>            <span class="k">if</span> <span class="ow">not</span> <span class="n">stack</span><span class="p">:</span>
                <span class="c1"># No opening bracket to match
</span>                <span class="k">return</span> <span class="bp">False</span>
            
            <span class="n">opening</span> <span class="o">=</span> <span class="n">stack</span><span class="p">.</span><span class="nf">pop</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">pairs</span><span class="p">[</span><span class="n">opening</span><span class="p">]</span> <span class="o">!=</span> <span class="n">char</span><span class="p">:</span>
                <span class="c1"># Wrong type of bracket
</span>                <span class="k">return</span> <span class="bp">False</span>
    
    <span class="c1"># All brackets should be matched
</span>    <span class="k">return</span> <span class="nf">len</span><span class="p">(</span><span class="n">stack</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span>
</code></pre></div></div>

<h3 id="detailed-walkthrough">Detailed Walkthrough</h3>

<p><strong>Example 1: <code class="language-plaintext highlighter-rouge">"([{}])"</code></strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Initial: stack = []

char='(': Opening → stack = ['(']
char='[': Opening → stack = ['(', '[']
char='{': Opening → stack = ['(', '[', '{']
char='}': Closing
  - Stack not empty ✓
  - Pop '{', pairs['{'] = '}' = char ✓
  - stack = ['(', '[']
char=']': Closing
  - Stack not empty ✓
  - Pop '[', pairs['['] = ']' = char ✓
  - stack = ['(']
char=')': Closing
  - Stack not empty ✓
  - Pop '(', pairs['('] = ')' = char ✓
  - stack = []

Final: stack = [] (empty) → return True ✓
</code></pre></div></div>

<p><strong>Example 2: <code class="language-plaintext highlighter-rouge">"([)]"</code> (Invalid)</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Initial: stack = []

char='(': Opening → stack = ['(']
char='[': Opening → stack = ['(', '[']
char=')': Closing
  - Stack not empty ✓
  - Pop '[', pairs['['] = ']' ≠ ')' ✗
  - Return False

Error: Expected ']' to match '[', got ')'
</code></pre></div></div>

<p><strong>Example 3: <code class="language-plaintext highlighter-rouge">"((("</code> (Invalid - Unclosed)</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>char='(': stack = ['(']
char='(': stack = ['(', '(']
char='(': stack = ['(', '(', '(']

End of string: stack = ['(', '(', '('] (not empty)
Return False ✗
</code></pre></div></div>

<p><strong>Example 4: <code class="language-plaintext highlighter-rouge">")))"</code> (Invalid - No Opening)</strong></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>char=')': Closing
  - Stack is empty ✗
  - Return False

Error: Closing bracket with no opening bracket
</code></pre></div></div>

<h3 id="why-stack-is-optimal">Why Stack is Optimal</h3>

<p><strong>1. Natural LIFO Matching</strong></p>
<ul>
  <li>Most recent opening must be closed first</li>
  <li>Stack’s pop() gives us exactly that</li>
</ul>

<p><strong>2. O(1) Operations</strong></p>
<ul>
  <li>Push: O(1)</li>
  <li>Pop: O(1)</li>
  <li>Check empty: O(1)</li>
</ul>

<p><strong>3. Single Pass</strong></p>
<ul>
  <li>We only iterate through the string once</li>
  <li>No need to repeatedly scan like brute force</li>
</ul>

<p><strong>4. Early Exit</strong></p>
<ul>
  <li>Can return False immediately on mismatch</li>
  <li>No need to process entire string</li>
</ul>

<h3 id="complexity-analysis-1">Complexity Analysis</h3>

<p><strong>Time Complexity: O(n)</strong></p>
<ul>
  <li>Single pass through string</li>
  <li>Each character processed once</li>
  <li>Stack operations are O(1)</li>
</ul>

<p><strong>Space Complexity: O(n)</strong></p>
<ul>
  <li>In worst case, all characters are opening brackets</li>
  <li>Stack size: at most n/2 for valid strings, at most n for invalid</li>
  <li>Example: <code class="language-plaintext highlighter-rouge">"(((((("</code> → stack has 6 elements</li>
</ul>

<hr />

<h2 id="deep-dive-stack-data-structure">Deep Dive: Stack Data Structure</h2>

<h3 id="what-is-a-stack">What is a Stack?</h3>

<p>A <strong>stack</strong> is a linear data structure following <strong>Last-In-First-Out (LIFO)</strong> principle.</p>

<p><strong>Operations:</strong></p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">stack</span> <span class="o">=</span> <span class="p">[]</span>

<span class="c1"># Push: Add to top
</span><span class="n">stack</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="sh">'</span><span class="s">A</span><span class="sh">'</span><span class="p">)</span>    <span class="c1"># ['A']
</span><span class="n">stack</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="sh">'</span><span class="s">B</span><span class="sh">'</span><span class="p">)</span>    <span class="c1"># ['A', 'B']
</span><span class="n">stack</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="sh">'</span><span class="s">C</span><span class="sh">'</span><span class="p">)</span>    <span class="c1"># ['A', 'B', 'C']
</span>
<span class="c1"># Pop: Remove from top
</span><span class="n">item</span> <span class="o">=</span> <span class="n">stack</span><span class="p">.</span><span class="nf">pop</span><span class="p">()</span>   <span class="c1"># Returns 'C', stack = ['A', 'B']
</span><span class="n">item</span> <span class="o">=</span> <span class="n">stack</span><span class="p">.</span><span class="nf">pop</span><span class="p">()</span>   <span class="c1"># Returns 'B', stack = ['A']
</span>
<span class="c1"># Peek: View top without removing
</span><span class="n">top</span> <span class="o">=</span> <span class="n">stack</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>      <span class="c1"># Returns 'A', stack unchanged
</span>
<span class="c1"># Check empty
</span><span class="n">is_empty</span> <span class="o">=</span> <span class="nf">len</span><span class="p">(</span><span class="n">stack</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span>
</code></pre></div></div>

<h3 id="stack-vs-other-data-structures">Stack vs Other Data Structures</h3>

<table>
  <thead>
    <tr>
      <th>Operation</th>
      <th>Stack</th>
      <th>Queue</th>
      <th>Array</th>
      <th>Linked List</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Add to end</td>
      <td>O(1)</td>
      <td>O(1)</td>
      <td>O(1)†</td>
      <td>O(1)</td>
    </tr>
    <tr>
      <td>Remove from end</td>
      <td>O(1)</td>
      <td>O(n)</td>
      <td>O(1)</td>
      <td>O(1)</td>
    </tr>
    <tr>
      <td>Remove from front</td>
      <td>O(n)</td>
      <td>O(1)</td>
      <td>O(n)</td>
      <td>O(1)</td>
    </tr>
    <tr>
      <td>Access middle</td>
      <td>O(n)</td>
      <td>O(n)</td>
      <td>O(1)</td>
      <td>O(n)</td>
    </tr>
    <tr>
      <td>LIFO</td>
      <td>Yes</td>
      <td>No</td>
      <td>No</td>
      <td>No</td>
    </tr>
    <tr>
      <td>FIFO</td>
      <td>No</td>
      <td>Yes</td>
      <td>No</td>
      <td>No</td>
    </tr>
  </tbody>
</table>

<p>† Amortized O(1) due to dynamic array resizing</p>

<h3 id="when-to-use-stacks">When to Use Stacks</h3>

<p><strong>Use stacks when you need:</strong></p>
<ul>
  <li>✅ LIFO access pattern</li>
  <li>✅ Undo/redo functionality</li>
  <li>✅ Backtracking (DFS)</li>
  <li>✅ Expression parsing</li>
  <li>✅ Nested structure validation</li>
</ul>

<p><strong>Don’t use stacks when you need:</strong></p>
<ul>
  <li>❌ FIFO access (use queue)</li>
  <li>❌ Random access to elements (use array)</li>
  <li>❌ Minimum/maximum tracking (use heap)</li>
  <li>❌ Sorted order maintenance (use tree)</li>
</ul>

<hr />

<h2 id="alternative-implementations">Alternative Implementations</h2>

<h3 id="using-a-list-default-python">Using a List (Default Python)</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">isValid</span><span class="p">(</span><span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="n">stack</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1"># Python list as stack
</span>    <span class="n">pairs</span> <span class="o">=</span> <span class="p">{</span><span class="sh">'</span><span class="s">(</span><span class="sh">'</span><span class="p">:</span> <span class="sh">'</span><span class="s">)</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">[</span><span class="sh">'</span><span class="p">:</span> <span class="sh">'</span><span class="s">]</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">{</span><span class="sh">'</span><span class="p">:</span> <span class="sh">'</span><span class="s">}</span><span class="sh">'</span><span class="p">}</span>
    
    <span class="k">for</span> <span class="n">char</span> <span class="ow">in</span> <span class="n">s</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">char</span> <span class="ow">in</span> <span class="n">pairs</span><span class="p">:</span>
            <span class="n">stack</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">char</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">stack</span> <span class="ow">or</span> <span class="n">pairs</span><span class="p">[</span><span class="n">stack</span><span class="p">.</span><span class="nf">pop</span><span class="p">()]</span> <span class="o">!=</span> <span class="n">char</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">False</span>
    
    <span class="k">return</span> <span class="ow">not</span> <span class="n">stack</span>  <span class="c1"># Pythonic way to check empty
</span></code></pre></div></div>

<h3 id="using-collectionsdeque-more-efficient">Using collections.deque (More Efficient)</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">collections</span> <span class="kn">import</span> <span class="n">deque</span>

<span class="k">def</span> <span class="nf">isValid</span><span class="p">(</span><span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sh">"""</span><span class="s">
    Using deque for slightly better performance
    </span><span class="sh">"""</span>
    <span class="n">stack</span> <span class="o">=</span> <span class="nf">deque</span><span class="p">()</span>  <span class="c1"># Optimized for stack operations
</span>    <span class="n">pairs</span> <span class="o">=</span> <span class="p">{</span><span class="sh">'</span><span class="s">(</span><span class="sh">'</span><span class="p">:</span> <span class="sh">'</span><span class="s">)</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">[</span><span class="sh">'</span><span class="p">:</span> <span class="sh">'</span><span class="s">]</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">{</span><span class="sh">'</span><span class="p">:</span> <span class="sh">'</span><span class="s">}</span><span class="sh">'</span><span class="p">}</span>
    
    <span class="k">for</span> <span class="n">char</span> <span class="ow">in</span> <span class="n">s</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">char</span> <span class="ow">in</span> <span class="n">pairs</span><span class="p">:</span>
            <span class="n">stack</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">char</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">stack</span> <span class="ow">or</span> <span class="n">pairs</span><span class="p">[</span><span class="n">stack</span><span class="p">.</span><span class="nf">pop</span><span class="p">()]</span> <span class="o">!=</span> <span class="n">char</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">False</span>
    
    <span class="k">return</span> <span class="nf">len</span><span class="p">(</span><span class="n">stack</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span>
</code></pre></div></div>

<p><strong>Why deque?</strong></p>
<ul>
  <li>Optimized for append/pop from both ends</li>
  <li>O(1) guaranteed (list can occasionally be O(n) during resize)</li>
  <li>Better memory locality for very large stacks</li>
</ul>

<p><strong>Performance comparison (1M operations):</strong></p>
<ul>
  <li>List: ~0.120 seconds</li>
  <li>Deque: ~0.095 seconds (20% faster)</li>
</ul>

<h3 id="using-string-as-stack-space-optimized">Using String as Stack (Space-optimized)</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">isValid</span><span class="p">(</span><span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sh">"""</span><span class="s">
    Use string instead of list (immutable, but works for small inputs)
    Not recommended for production!
    </span><span class="sh">"""</span>
    <span class="n">stack_str</span> <span class="o">=</span> <span class="sh">""</span>
    <span class="n">pairs</span> <span class="o">=</span> <span class="p">{</span><span class="sh">'</span><span class="s">(</span><span class="sh">'</span><span class="p">:</span> <span class="sh">'</span><span class="s">)</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">[</span><span class="sh">'</span><span class="p">:</span> <span class="sh">'</span><span class="s">]</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">{</span><span class="sh">'</span><span class="p">:</span> <span class="sh">'</span><span class="s">}</span><span class="sh">'</span><span class="p">}</span>
    
    <span class="k">for</span> <span class="n">char</span> <span class="ow">in</span> <span class="n">s</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">char</span> <span class="ow">in</span> <span class="n">pairs</span><span class="p">:</span>
            <span class="n">stack_str</span> <span class="o">+=</span> <span class="n">char</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">stack_str</span> <span class="ow">or</span> <span class="n">pairs</span><span class="p">[</span><span class="n">stack_str</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span> <span class="o">!=</span> <span class="n">char</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">False</span>
            <span class="n">stack_str</span> <span class="o">=</span> <span class="n">stack_str</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>  <span class="c1"># Remove last char
</span>    
    <span class="k">return</span> <span class="n">stack_str</span> <span class="o">==</span> <span class="sh">""</span>
</code></pre></div></div>

<p><strong>Why this is worse:</strong></p>
<ul>
  <li>String concatenation is O(n) in Python</li>
  <li>Creates new string on each modification</li>
  <li>Total complexity: O(n²) vs O(n)</li>
</ul>

<hr />

<h2 id="variations-and-extensions">Variations and Extensions</h2>

<h3 id="variation-1-return-index-of-first-mismatch">Variation 1: Return Index of First Mismatch</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">findMismatch</span><span class="p">(</span><span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="sh">"""</span><span class="s">
    Return index of first mismatched bracket, or -1 if valid
    
    Useful for syntax highlighting in IDEs
    </span><span class="sh">"""</span>
    <span class="n">stack</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">pairs</span> <span class="o">=</span> <span class="p">{</span><span class="sh">'</span><span class="s">(</span><span class="sh">'</span><span class="p">:</span> <span class="sh">'</span><span class="s">)</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">[</span><span class="sh">'</span><span class="p">:</span> <span class="sh">'</span><span class="s">]</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">{</span><span class="sh">'</span><span class="p">:</span> <span class="sh">'</span><span class="s">}</span><span class="sh">'</span><span class="p">}</span>
    
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">char</span> <span class="ow">in</span> <span class="nf">enumerate</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">char</span> <span class="ow">in</span> <span class="n">pairs</span><span class="p">:</span>
            <span class="c1"># Store (bracket, index) pair
</span>            <span class="n">stack</span><span class="p">.</span><span class="nf">append</span><span class="p">((</span><span class="n">char</span><span class="p">,</span> <span class="n">i</span><span class="p">))</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">stack</span><span class="p">:</span>
                <span class="c1"># Closing bracket with no opening
</span>                <span class="k">return</span> <span class="n">i</span>
            
            <span class="n">opening</span><span class="p">,</span> <span class="n">opening_idx</span> <span class="o">=</span> <span class="n">stack</span><span class="p">.</span><span class="nf">pop</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">pairs</span><span class="p">[</span><span class="n">opening</span><span class="p">]</span> <span class="o">!=</span> <span class="n">char</span><span class="p">:</span>
                <span class="c1"># Type mismatch
</span>                <span class="k">return</span> <span class="n">i</span>
    
    <span class="c1"># If stack not empty, return index of first unclosed bracket
</span>    <span class="k">if</span> <span class="n">stack</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">stack</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
    
    <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>  <span class="c1"># Valid string
</span>
<span class="c1"># Examples
</span><span class="nf">print</span><span class="p">(</span><span class="nf">findMismatch</span><span class="p">(</span><span class="sh">"</span><span class="s">()</span><span class="sh">"</span><span class="p">))</span>      <span class="c1"># -1 (valid)
</span><span class="nf">print</span><span class="p">(</span><span class="nf">findMismatch</span><span class="p">(</span><span class="sh">"</span><span class="s">(]</span><span class="sh">"</span><span class="p">))</span>      <span class="c1"># 1 (mismatch at index 1)
</span><span class="nf">print</span><span class="p">(</span><span class="nf">findMismatch</span><span class="p">(</span><span class="sh">"</span><span class="s">(()</span><span class="sh">"</span><span class="p">))</span>     <span class="c1"># 0 (unclosed at index 0)
</span><span class="nf">print</span><span class="p">(</span><span class="nf">findMismatch</span><span class="p">(</span><span class="sh">"</span><span class="s">)</span><span class="sh">"</span><span class="p">))</span>       <span class="c1"># 0 (no opening for closing)
</span></code></pre></div></div>

<h3 id="variation-2-count-minimum-removals">Variation 2: Count Minimum Removals</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">minRemoveToMakeValid</span><span class="p">(</span><span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="sh">"""</span><span class="s">
    Count minimum brackets to remove to make string valid
    
    Similar to edit distance for brackets
    </span><span class="sh">"""</span>
    <span class="n">stack</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">to_remove</span> <span class="o">=</span> <span class="mi">0</span>
    
    <span class="k">for</span> <span class="n">char</span> <span class="ow">in</span> <span class="n">s</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">char</span> <span class="o">==</span> <span class="sh">'</span><span class="s">(</span><span class="sh">'</span><span class="p">:</span>
            <span class="n">stack</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="sh">'</span><span class="s">(</span><span class="sh">'</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">char</span> <span class="o">==</span> <span class="sh">'</span><span class="s">)</span><span class="sh">'</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">stack</span><span class="p">:</span>
                <span class="n">stack</span><span class="p">.</span><span class="nf">pop</span><span class="p">()</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># Extra closing bracket
</span>                <span class="n">to_remove</span> <span class="o">+=</span> <span class="mi">1</span>
    
    <span class="c1"># Unclosed opening brackets
</span>    <span class="n">to_remove</span> <span class="o">+=</span> <span class="nf">len</span><span class="p">(</span><span class="n">stack</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="n">to_remove</span>

<span class="c1"># Examples
</span><span class="nf">print</span><span class="p">(</span><span class="nf">minRemoveToMakeValid</span><span class="p">(</span><span class="sh">"</span><span class="s">()</span><span class="sh">"</span><span class="p">))</span>      <span class="c1"># 0
</span><span class="nf">print</span><span class="p">(</span><span class="nf">minRemoveToMakeValid</span><span class="p">(</span><span class="sh">"</span><span class="s">(()</span><span class="sh">"</span><span class="p">))</span>     <span class="c1"># 1 (remove one '(')
</span><span class="nf">print</span><span class="p">(</span><span class="nf">minRemoveToMakeValid</span><span class="p">(</span><span class="sh">"</span><span class="s">())</span><span class="sh">"</span><span class="p">))</span>     <span class="c1"># 1 (remove one ')')
</span><span class="nf">print</span><span class="p">(</span><span class="nf">minRemoveToMakeValid</span><span class="p">(</span><span class="sh">"</span><span class="s">()(</span><span class="sh">"</span><span class="p">))</span>     <span class="c1"># 1
</span></code></pre></div></div>

<h3 id="variation-3-remove-invalid-brackets">Variation 3: Remove Invalid Brackets</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">removeInvalidParentheses</span><span class="p">(</span><span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
    <span class="sh">"""</span><span class="s">
    Remove minimum number of brackets to make valid
    
    Two-pass algorithm:
    1. Remove invalid closing brackets (left-to-right)
    2. Remove invalid opening brackets (right-to-left)
    </span><span class="sh">"""</span>
    <span class="k">def</span> <span class="nf">removeInvalid</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="n">open_char</span><span class="p">,</span> <span class="n">close_char</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">
        Single pass to remove invalid closing brackets
        </span><span class="sh">"""</span>
        <span class="n">count</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>
        
        <span class="k">for</span> <span class="n">char</span> <span class="ow">in</span> <span class="n">s</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">char</span> <span class="o">==</span> <span class="n">open_char</span><span class="p">:</span>
                <span class="n">count</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="k">elif</span> <span class="n">char</span> <span class="o">==</span> <span class="n">close_char</span><span class="p">:</span>
                <span class="k">if</span> <span class="n">count</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
                    <span class="c1"># Invalid closing bracket, skip it
</span>                    <span class="k">continue</span>
                <span class="n">count</span> <span class="o">-=</span> <span class="mi">1</span>
            
            <span class="n">result</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">char</span><span class="p">)</span>
        
        <span class="k">return</span> <span class="sh">''</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
    
    <span class="c1"># First pass: remove invalid closing
</span>    <span class="n">s</span> <span class="o">=</span> <span class="nf">removeInvalid</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="sh">'</span><span class="s">(</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">)</span><span class="sh">'</span><span class="p">)</span>
    
    <span class="c1"># Second pass: remove invalid opening (process reversed string)
</span>    <span class="n">s</span> <span class="o">=</span> <span class="nf">removeInvalid</span><span class="p">(</span><span class="n">s</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="sh">'</span><span class="s">)</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">(</span><span class="sh">'</span><span class="p">)[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
    
    <span class="k">return</span> <span class="n">s</span>

<span class="c1"># Examples
</span><span class="nf">print</span><span class="p">(</span><span class="nf">removeInvalidParentheses</span><span class="p">(</span><span class="sh">"</span><span class="s">()())()</span><span class="sh">"</span><span class="p">))</span>  <span class="c1"># "()()()" or "(())()"
</span><span class="nf">print</span><span class="p">(</span><span class="nf">removeInvalidParentheses</span><span class="p">(</span><span class="sh">"</span><span class="s">(a)())()</span><span class="sh">"</span><span class="p">))</span> <span class="c1"># "(a)()()"
</span><span class="nf">print</span><span class="p">(</span><span class="nf">removeInvalidParentheses</span><span class="p">(</span><span class="sh">"</span><span class="s">)(</span><span class="sh">"</span><span class="p">))</span>       <span class="c1"># ""
</span></code></pre></div></div>

<h3 id="variation-4-longest-valid-parentheses">Variation 4: Longest Valid Parentheses</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">longestValidParentheses</span><span class="p">(</span><span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="sh">"""</span><span class="s">
    Find length of longest valid parentheses substring
    
    Example: </span><span class="sh">"</span><span class="s">(()</span><span class="sh">"</span><span class="s"> → 2 (substring </span><span class="sh">"</span><span class="s">()</span><span class="sh">"</span><span class="s">)
             </span><span class="sh">"</span><span class="s">)()())</span><span class="sh">"</span><span class="s"> → 4 (substring </span><span class="sh">"</span><span class="s">()()</span><span class="sh">"</span><span class="s">)
    </span><span class="sh">"""</span>
    <span class="n">stack</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>  <span class="c1"># Initialize with base index
</span>    <span class="n">max_length</span> <span class="o">=</span> <span class="mi">0</span>
    
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">char</span> <span class="ow">in</span> <span class="nf">enumerate</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">char</span> <span class="o">==</span> <span class="sh">'</span><span class="s">(</span><span class="sh">'</span><span class="p">:</span>
            <span class="n">stack</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>  <span class="c1"># char == ')'
</span>            <span class="n">stack</span><span class="p">.</span><span class="nf">pop</span><span class="p">()</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">stack</span><span class="p">:</span>
                <span class="c1"># No matching opening, new base
</span>                <span class="n">stack</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">i</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="c1"># Calculate length from last unmatched
</span>                <span class="n">current_length</span> <span class="o">=</span> <span class="n">i</span> <span class="o">-</span> <span class="n">stack</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
                <span class="n">max_length</span> <span class="o">=</span> <span class="nf">max</span><span class="p">(</span><span class="n">max_length</span><span class="p">,</span> <span class="n">current_length</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="n">max_length</span>

<span class="c1"># Examples
</span><span class="nf">print</span><span class="p">(</span><span class="nf">longestValidParentheses</span><span class="p">(</span><span class="sh">"</span><span class="s">(()</span><span class="sh">"</span><span class="p">))</span>      <span class="c1"># 2
</span><span class="nf">print</span><span class="p">(</span><span class="nf">longestValidParentheses</span><span class="p">(</span><span class="sh">"</span><span class="s">)()())</span><span class="sh">"</span><span class="p">))</span>   <span class="c1"># 4
</span><span class="nf">print</span><span class="p">(</span><span class="nf">longestValidParentheses</span><span class="p">(</span><span class="sh">""</span><span class="p">))</span>         <span class="c1"># 0
</span></code></pre></div></div>

<h3 id="variation-5-generate-all-valid-parentheses">Variation 5: Generate All Valid Parentheses</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">generateParentheses</span><span class="p">(</span><span class="n">n</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
    <span class="sh">"""</span><span class="s">
    Generate all combinations of n pairs of valid parentheses
    
    Example: n=3 → [</span><span class="sh">"</span><span class="s">((()))</span><span class="sh">"</span><span class="s">, </span><span class="sh">"</span><span class="s">(()())</span><span class="sh">"</span><span class="s">, </span><span class="sh">"</span><span class="s">(())()</span><span class="sh">"</span><span class="s">, </span><span class="sh">"</span><span class="s">()(())</span><span class="sh">"</span><span class="s">, </span><span class="sh">"</span><span class="s">()()()</span><span class="sh">"</span><span class="s">]
    
    Uses backtracking with stack validation
    </span><span class="sh">"""</span>
    <span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>
    
    <span class="k">def</span> <span class="nf">backtrack</span><span class="p">(</span><span class="n">current</span><span class="p">,</span> <span class="n">open_count</span><span class="p">,</span> <span class="n">close_count</span><span class="p">):</span>
        <span class="c1"># Base case: used all n pairs
</span>        <span class="k">if</span> <span class="nf">len</span><span class="p">(</span><span class="n">current</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">n</span><span class="p">:</span>
            <span class="n">result</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">current</span><span class="p">)</span>
            <span class="k">return</span>
        
        <span class="c1"># Can add opening if we haven't used all n
</span>        <span class="k">if</span> <span class="n">open_count</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">:</span>
            <span class="nf">backtrack</span><span class="p">(</span><span class="n">current</span> <span class="o">+</span> <span class="sh">'</span><span class="s">(</span><span class="sh">'</span><span class="p">,</span> <span class="n">open_count</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">close_count</span><span class="p">)</span>
        
        <span class="c1"># Can add closing if it would still be valid
</span>        <span class="k">if</span> <span class="n">close_count</span> <span class="o">&lt;</span> <span class="n">open_count</span><span class="p">:</span>
            <span class="nf">backtrack</span><span class="p">(</span><span class="n">current</span> <span class="o">+</span> <span class="sh">'</span><span class="s">)</span><span class="sh">'</span><span class="p">,</span> <span class="n">open_count</span><span class="p">,</span> <span class="n">close_count</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
    
    <span class="nf">backtrack</span><span class="p">(</span><span class="sh">''</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>

<span class="c1"># Example
</span><span class="nf">print</span><span class="p">(</span><span class="nf">generateParentheses</span><span class="p">(</span><span class="mi">3</span><span class="p">))</span>
<span class="c1"># Output: ['((()))', '(()())', '(())()', '()(())', '()()()']
</span></code></pre></div></div>

<hr />

<h2 id="edge-cases">Edge Cases</h2>

<h3 id="edge-case-1-empty-string">Edge Case 1: Empty String</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">s</span> <span class="o">=</span> <span class="sh">""</span>
<span class="c1"># Depends on problem definition
# Usually: return True (vacuously valid)
</span></code></pre></div></div>

<h3 id="edge-case-2-single-character">Edge Case 2: Single Character</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">s</span> <span class="o">=</span> <span class="sh">"</span><span class="s">(</span><span class="sh">"</span>   <span class="c1"># False (unclosed)
</span><span class="n">s</span> <span class="o">=</span> <span class="sh">"</span><span class="s">)</span><span class="sh">"</span>   <span class="c1"># False (no opening)
</span></code></pre></div></div>

<h3 id="edge-case-3-only-opening-brackets">Edge Case 3: Only Opening Brackets</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">s</span> <span class="o">=</span> <span class="sh">"</span><span class="s">(((((</span><span class="sh">"</span>  <span class="c1"># False (none closed)
</span><span class="n">stack</span> <span class="o">=</span> <span class="p">[</span><span class="sh">'</span><span class="s">(</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">(</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">(</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">(</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">(</span><span class="sh">'</span><span class="p">]</span>  <span class="c1"># Not empty
</span></code></pre></div></div>

<h3 id="edge-case-4-only-closing-brackets">Edge Case 4: Only Closing Brackets</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">s</span> <span class="o">=</span> <span class="sh">"</span><span class="s">)))))</span><span class="sh">"</span>  <span class="c1"># False (no opening to match)
# First ')' causes immediate failure
</span></code></pre></div></div>

<h3 id="edge-case-5-deeply-nested">Edge Case 5: Deeply Nested</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">s</span> <span class="o">=</span> <span class="sh">"</span><span class="s">(</span><span class="sh">"</span> <span class="o">*</span> <span class="mi">5000</span> <span class="o">+</span> <span class="sh">"</span><span class="s">)</span><span class="sh">"</span> <span class="o">*</span> <span class="mi">5000</span>  <span class="c1"># 10,000 characters
# Valid! Stack will grow to 5000, then empty
# Tests stack capacity and memory
</span></code></pre></div></div>

<h3 id="edge-case-6-alternating-pattern">Edge Case 6: Alternating Pattern</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">s</span> <span class="o">=</span> <span class="sh">"</span><span class="s">()()()()</span><span class="sh">"</span>  <span class="c1"># Valid
</span><span class="n">stack</span> <span class="n">never</span> <span class="n">grows</span> <span class="n">beyond</span> <span class="n">size</span> <span class="mi">1</span>
<span class="c1"># Efficient: O(1) space in practice
</span></code></pre></div></div>

<h3 id="edge-case-7-completely-nested">Edge Case 7: Completely Nested</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">s</span> <span class="o">=</span> <span class="sh">"</span><span class="s">(((())))</span><span class="sh">"</span>  <span class="c1"># Valid
</span><span class="n">stack</span> <span class="n">grows</span> <span class="n">to</span> <span class="n">n</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="n">then</span> <span class="n">shrinks</span> <span class="n">to</span> <span class="mi">0</span>
<span class="c1"># Worst case for space: O(n/2) = O(n)
</span></code></pre></div></div>

<hr />

<h2 id="production-considerations">Production Considerations</h2>

<h3 id="input-validation">Input Validation</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">isValidRobust</span><span class="p">(</span><span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sh">"""</span><span class="s">
    Production-ready with validation
    </span><span class="sh">"""</span>
    <span class="c1"># Validate input
</span>    <span class="k">if</span> <span class="n">s</span> <span class="ow">is</span> <span class="bp">None</span><span class="p">:</span>
        <span class="k">raise</span> <span class="nc">TypeError</span><span class="p">(</span><span class="sh">"</span><span class="s">Input cannot be None</span><span class="sh">"</span><span class="p">)</span>
    
    <span class="k">if</span> <span class="ow">not</span> <span class="nf">isinstance</span><span class="p">(</span><span class="n">s</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
        <span class="k">raise</span> <span class="nc">TypeError</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Expected string, got </span><span class="si">{</span><span class="nf">type</span><span class="p">(</span><span class="n">s</span><span class="p">)</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    
    <span class="c1"># Empty string is valid
</span>    <span class="k">if</span> <span class="ow">not</span> <span class="n">s</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">True</span>
    
    <span class="c1"># Quick check: odd length can't be valid
</span>    <span class="k">if</span> <span class="nf">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">:</span>
        <span class="k">return</span> <span class="bp">False</span>
    
    <span class="c1"># Define valid characters
</span>    <span class="n">valid_chars</span> <span class="o">=</span> <span class="nf">set</span><span class="p">(</span><span class="sh">'</span><span class="s">()[]{}</span><span class="sh">'</span><span class="p">)</span>
    <span class="n">pairs</span> <span class="o">=</span> <span class="p">{</span><span class="sh">'</span><span class="s">(</span><span class="sh">'</span><span class="p">:</span> <span class="sh">'</span><span class="s">)</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">[</span><span class="sh">'</span><span class="p">:</span> <span class="sh">'</span><span class="s">]</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">{</span><span class="sh">'</span><span class="p">:</span> <span class="sh">'</span><span class="s">}</span><span class="sh">'</span><span class="p">}</span>
    <span class="n">closing</span> <span class="o">=</span> <span class="nf">set</span><span class="p">(</span><span class="n">pairs</span><span class="p">.</span><span class="nf">values</span><span class="p">())</span>
    
    <span class="n">stack</span> <span class="o">=</span> <span class="p">[]</span>
    
    <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">char</span> <span class="ow">in</span> <span class="nf">enumerate</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
        <span class="c1"># Validate character
</span>        <span class="k">if</span> <span class="n">char</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">valid_chars</span><span class="p">:</span>
            <span class="k">raise</span> <span class="nc">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Invalid character </span><span class="sh">'</span><span class="si">{</span><span class="n">char</span><span class="si">}</span><span class="sh">'</span><span class="s"> at index </span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
        
        <span class="k">if</span> <span class="n">char</span> <span class="ow">in</span> <span class="n">pairs</span><span class="p">:</span>
            <span class="c1"># Opening bracket
</span>            <span class="n">stack</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">char</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">char</span> <span class="ow">in</span> <span class="n">closing</span><span class="p">:</span>
            <span class="c1"># Closing bracket
</span>            <span class="k">if</span> <span class="ow">not</span> <span class="n">stack</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">False</span>  <span class="c1"># No opening to match
</span>            
            <span class="n">opening</span> <span class="o">=</span> <span class="n">stack</span><span class="p">.</span><span class="nf">pop</span><span class="p">()</span>
            <span class="k">if</span> <span class="n">pairs</span><span class="p">[</span><span class="n">opening</span><span class="p">]</span> <span class="o">!=</span> <span class="n">char</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">False</span>  <span class="c1"># Type mismatch
</span>    
    <span class="k">return</span> <span class="nf">len</span><span class="p">(</span><span class="n">stack</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span>
</code></pre></div></div>

<h3 id="performance-optimizations">Performance Optimizations</h3>

<p><strong>Optimization 1: Early Exit on Odd Length</strong></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Odd length can never be valid
</span><span class="k">if</span> <span class="nf">len</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mi">1</span><span class="p">:</span>  <span class="c1"># Bitwise AND is faster than modulo
</span>    <span class="k">return</span> <span class="bp">False</span>
</code></pre></div></div>

<p><strong>Savings:</strong> Skip processing for 50% of invalid inputs</p>

<p><strong>Optimization 2: Pre-allocate Stack Capacity</strong></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Python lists auto-resize, but we can hint capacity
</span><span class="n">stack</span> <span class="o">=</span> <span class="p">[]</span>
<span class="c1"># For C++/Java: reserve stack capacity upfront
# stack.reserve(len(s) // 2)
</span></code></pre></div></div>

<p><strong>Savings:</strong> Reduces memory allocations during execution</p>

<p><strong>Optimization 3: Use Set for Closing Brackets</strong></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">pairs</span> <span class="o">=</span> <span class="p">{</span><span class="sh">'</span><span class="s">(</span><span class="sh">'</span><span class="p">:</span> <span class="sh">'</span><span class="s">)</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">[</span><span class="sh">'</span><span class="p">:</span> <span class="sh">'</span><span class="s">]</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">{</span><span class="sh">'</span><span class="p">:</span> <span class="sh">'</span><span class="s">}</span><span class="sh">'</span><span class="p">}</span>
<span class="n">closing</span> <span class="o">=</span> <span class="nf">set</span><span class="p">(</span><span class="n">pairs</span><span class="p">.</span><span class="nf">values</span><span class="p">())</span>  <span class="c1"># O(1) lookup
</span>
<span class="k">for</span> <span class="n">char</span> <span class="ow">in</span> <span class="n">s</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">char</span> <span class="ow">in</span> <span class="n">pairs</span><span class="p">:</span>  <span class="c1"># O(1)
</span>        <span class="n">stack</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">char</span><span class="p">)</span>
    <span class="k">elif</span> <span class="n">char</span> <span class="ow">in</span> <span class="n">closing</span><span class="p">:</span>  <span class="c1"># O(1) instead of O(3) list search
</span>        <span class="c1"># ...
</span></code></pre></div></div>

<p><strong>Savings:</strong> Marginal but cleaner</p>

<p><strong>Optimization 4: Avoid Repeated Dict Lookups</strong></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># Instead of checking pairs[opening] multiple times
# Cache the result
</span><span class="n">expected_closing</span> <span class="o">=</span> <span class="n">pairs</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="n">stack</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="bp">None</span><span class="p">)</span>
<span class="k">if</span> <span class="n">expected_closing</span> <span class="o">!=</span> <span class="n">char</span><span class="p">:</span>
    <span class="k">return</span> <span class="bp">False</span>
</code></pre></div></div>

<h3 id="memory-optimization-for-constrained-environments">Memory Optimization for Constrained Environments</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">isValidMemoryEfficient</span><span class="p">(</span><span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sh">"""</span><span class="s">
    Optimize for memory-constrained environments
    
    Trade-off: Slightly more complex code for lower memory
    </span><span class="sh">"""</span>
    <span class="c1"># Use indices instead of storing characters
</span>    <span class="c1"># Opening brackets: ( = 0, [ = 1, { = 2
</span>    <span class="c1"># Closing brackets: ) = 0, ] = 1, } = 2
</span>    
    <span class="n">opening</span> <span class="o">=</span> <span class="p">{</span><span class="sh">'</span><span class="s">(</span><span class="sh">'</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="sh">'</span><span class="s">[</span><span class="sh">'</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="sh">'</span><span class="s">{</span><span class="sh">'</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>
    <span class="n">closing</span> <span class="o">=</span> <span class="p">{</span><span class="sh">'</span><span class="s">)</span><span class="sh">'</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="sh">'</span><span class="s">]</span><span class="sh">'</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="sh">'</span><span class="s">}</span><span class="sh">'</span><span class="p">:</span> <span class="mi">2</span><span class="p">}</span>
    
    <span class="c1"># Stack stores integers (4 bytes) instead of chars
</span>    <span class="n">stack</span> <span class="o">=</span> <span class="p">[]</span>
    
    <span class="k">for</span> <span class="n">char</span> <span class="ow">in</span> <span class="n">s</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">char</span> <span class="ow">in</span> <span class="n">opening</span><span class="p">:</span>
            <span class="n">stack</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">opening</span><span class="p">[</span><span class="n">char</span><span class="p">])</span>
        <span class="k">elif</span> <span class="n">char</span> <span class="ow">in</span> <span class="n">closing</span><span class="p">:</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">stack</span> <span class="ow">or</span> <span class="n">stack</span><span class="p">.</span><span class="nf">pop</span><span class="p">()</span> <span class="o">!=</span> <span class="n">closing</span><span class="p">[</span><span class="n">char</span><span class="p">]:</span>
                <span class="k">return</span> <span class="bp">False</span>
    
    <span class="k">return</span> <span class="ow">not</span> <span class="n">stack</span>
</code></pre></div></div>

<p><strong>Memory savings:</strong></p>
<ul>
  <li>Storing <code class="language-plaintext highlighter-rouge">int</code> (4 bytes) vs <code class="language-plaintext highlighter-rouge">str</code> (28+ bytes in Python)</li>
  <li>For 10,000 character string: ~240 KB vs ~1.4 MB</li>
</ul>

<hr />

<h2 id="real-world-applications">Real-World Applications</h2>

<h3 id="application-1-expression-parser">Application 1: Expression Parser</h3>

<p><strong>Problem:</strong> Validate mathematical expressions</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">validateExpression</span><span class="p">(</span><span class="n">expr</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sh">"""</span><span class="s">
    Validate expression has balanced brackets
    
    Examples:
    - </span><span class="sh">"</span><span class="s">(2 + 3) * 4</span><span class="sh">"</span><span class="s"> → Valid
    - </span><span class="sh">"</span><span class="s">((2 + 3)</span><span class="sh">"</span><span class="s"> → Invalid
    - </span><span class="sh">"</span><span class="s">2 + (3 * [4 - 5])</span><span class="sh">"</span><span class="s"> → Valid
    </span><span class="sh">"""</span>
    <span class="n">stack</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">pairs</span> <span class="o">=</span> <span class="p">{</span><span class="sh">'</span><span class="s">(</span><span class="sh">'</span><span class="p">:</span> <span class="sh">'</span><span class="s">)</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">[</span><span class="sh">'</span><span class="p">:</span> <span class="sh">'</span><span class="s">]</span><span class="sh">'</span><span class="p">,</span> <span class="sh">'</span><span class="s">{</span><span class="sh">'</span><span class="p">:</span> <span class="sh">'</span><span class="s">}</span><span class="sh">'</span><span class="p">}</span>
    
    <span class="k">for</span> <span class="n">char</span> <span class="ow">in</span> <span class="n">expr</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">char</span> <span class="ow">in</span> <span class="n">pairs</span><span class="p">:</span>
            <span class="n">stack</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">char</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">char</span> <span class="ow">in</span> <span class="n">pairs</span><span class="p">.</span><span class="nf">values</span><span class="p">():</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">stack</span> <span class="ow">or</span> <span class="n">pairs</span><span class="p">[</span><span class="n">stack</span><span class="p">.</span><span class="nf">pop</span><span class="p">()]</span> <span class="o">!=</span> <span class="n">char</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">False</span>
    
    <span class="k">return</span> <span class="ow">not</span> <span class="n">stack</span>

<span class="c1"># Usage in calculator
</span><span class="k">def</span> <span class="nf">evaluate</span><span class="p">(</span><span class="n">expr</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="nf">validateExpression</span><span class="p">(</span><span class="n">expr</span><span class="p">):</span>
        <span class="k">raise</span> <span class="nc">SyntaxError</span><span class="p">(</span><span class="sh">"</span><span class="s">Invalid expression: unmatched brackets</span><span class="sh">"</span><span class="p">)</span>
    
    <span class="c1"># Proceed with evaluation
</span>    <span class="k">return</span> <span class="nf">eval</span><span class="p">(</span><span class="n">expr</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="application-2-htmlxml-tag-validation">Application 2: HTML/XML Tag Validation</h3>

<p><strong>Problem:</strong> Check if HTML tags are properly nested</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">re</span>

<span class="k">def</span> <span class="nf">validateHTML</span><span class="p">(</span><span class="n">html</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
    <span class="sh">"""</span><span class="s">
    Validate HTML tags are properly nested
    
    Example:
    - </span><span class="sh">"</span><span class="s">&lt;div&gt;&lt;p&gt;Hello&lt;/p&gt;&lt;/div&gt;</span><span class="sh">"</span><span class="s"> → Valid
    - </span><span class="sh">"</span><span class="s">&lt;div&gt;&lt;p&gt;Hello&lt;/div&gt;&lt;/p&gt;</span><span class="sh">"</span><span class="s"> → Invalid
    </span><span class="sh">"""</span>
    <span class="c1"># Extract tags
</span>    <span class="n">tag_pattern</span> <span class="o">=</span> <span class="sa">r</span><span class="sh">'</span><span class="s">&lt;(/?)(\w+)[^&gt;]*&gt;</span><span class="sh">'</span>
    <span class="n">tags</span> <span class="o">=</span> <span class="n">re</span><span class="p">.</span><span class="nf">findall</span><span class="p">(</span><span class="n">tag_pattern</span><span class="p">,</span> <span class="n">html</span><span class="p">)</span>
    
    <span class="n">stack</span> <span class="o">=</span> <span class="p">[]</span>
    
    <span class="k">for</span> <span class="n">is_closing</span><span class="p">,</span> <span class="n">tag_name</span> <span class="ow">in</span> <span class="n">tags</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">is_closing</span><span class="p">:</span>
            <span class="c1"># Opening tag
</span>            <span class="n">stack</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">tag_name</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># Closing tag
</span>            <span class="k">if</span> <span class="ow">not</span> <span class="n">stack</span> <span class="ow">or</span> <span class="n">stack</span><span class="p">.</span><span class="nf">pop</span><span class="p">()</span> <span class="o">!=</span> <span class="n">tag_name</span><span class="p">:</span>
                <span class="k">return</span> <span class="bp">False</span>
    
    <span class="k">return</span> <span class="ow">not</span> <span class="n">stack</span>

<span class="c1"># Examples
</span><span class="nf">print</span><span class="p">(</span><span class="nf">validateHTML</span><span class="p">(</span><span class="sh">"</span><span class="s">&lt;div&gt;&lt;p&gt;Text&lt;/p&gt;&lt;/div&gt;</span><span class="sh">"</span><span class="p">))</span>  <span class="c1"># True
</span><span class="nf">print</span><span class="p">(</span><span class="nf">validateHTML</span><span class="p">(</span><span class="sh">"</span><span class="s">&lt;div&gt;&lt;p&gt;Text&lt;/div&gt;&lt;/p&gt;</span><span class="sh">"</span><span class="p">))</span>  <span class="c1"># False
</span></code></pre></div></div>

<h3 id="application-3-function-call-stack-validation">Application 3: Function Call Stack Validation</h3>

<p><strong>Problem:</strong> Ensure function calls are properly matched with returns</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">FunctionCallTracker</span><span class="p">:</span>
    <span class="sh">"""</span><span class="s">
    Track function call depth for debugging/profiling
    </span><span class="sh">"""</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">call_stack</span> <span class="o">=</span> <span class="p">[]</span>
    
    <span class="k">def</span> <span class="nf">enter_function</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">func_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">Called when entering a function</span><span class="sh">"""</span>
        <span class="n">self</span><span class="p">.</span><span class="n">call_stack</span><span class="p">.</span><span class="nf">append</span><span class="p">((</span><span class="n">func_name</span><span class="p">,</span> <span class="n">time</span><span class="p">.</span><span class="nf">time</span><span class="p">()))</span>
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="si">{</span><span class="sh">'</span><span class="s">  </span><span class="sh">'</span> <span class="o">*</span> <span class="nf">len</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">call_stack</span><span class="p">)</span><span class="si">}</span><span class="s">→ </span><span class="si">{</span><span class="n">func_name</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">exit_function</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">func_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">Called when exiting a function</span><span class="sh">"""</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">self</span><span class="p">.</span><span class="n">call_stack</span><span class="p">:</span>
            <span class="k">raise</span> <span class="nc">RuntimeError</span><span class="p">(</span><span class="sh">"</span><span class="s">exit_function called without matching enter</span><span class="sh">"</span><span class="p">)</span>
        
        <span class="n">name</span><span class="p">,</span> <span class="n">start_time</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">call_stack</span><span class="p">.</span><span class="nf">pop</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">name</span> <span class="o">!=</span> <span class="n">func_name</span><span class="p">:</span>
            <span class="k">raise</span> <span class="nc">RuntimeError</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Expected to exit </span><span class="si">{</span><span class="n">name</span><span class="si">}</span><span class="s">, got </span><span class="si">{</span><span class="n">func_name</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
        
        <span class="n">duration</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="nf">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start_time</span>
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="si">{</span><span class="sh">'</span><span class="s">  </span><span class="sh">'</span> <span class="o">*</span> <span class="nf">len</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">call_stack</span><span class="p">)</span><span class="si">}</span><span class="s">← </span><span class="si">{</span><span class="n">func_name</span><span class="si">}</span><span class="s"> (</span><span class="si">{</span><span class="n">duration</span><span class="si">:</span><span class="p">.</span><span class="mi">3</span><span class="n">f</span><span class="si">}</span><span class="s">s)</span><span class="sh">"</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">is_balanced</span><span class="p">(</span><span class="n">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sh">"""</span><span class="s">Check if all function calls have been exited</span><span class="sh">"""</span>
        <span class="k">return</span> <span class="nf">len</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">call_stack</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span>

<span class="c1"># Usage
</span><span class="n">tracker</span> <span class="o">=</span> <span class="nc">FunctionCallTracker</span><span class="p">()</span>

<span class="k">def</span> <span class="nf">func_a</span><span class="p">():</span>
    <span class="n">tracker</span><span class="p">.</span><span class="nf">enter_function</span><span class="p">(</span><span class="sh">"</span><span class="s">func_a</span><span class="sh">"</span><span class="p">)</span>
    <span class="nf">func_b</span><span class="p">()</span>
    <span class="n">tracker</span><span class="p">.</span><span class="nf">exit_function</span><span class="p">(</span><span class="sh">"</span><span class="s">func_a</span><span class="sh">"</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">func_b</span><span class="p">():</span>
    <span class="n">tracker</span><span class="p">.</span><span class="nf">enter_function</span><span class="p">(</span><span class="sh">"</span><span class="s">func_b</span><span class="sh">"</span><span class="p">)</span>
    <span class="c1"># ... do work ...
</span>    <span class="n">tracker</span><span class="p">.</span><span class="nf">exit_function</span><span class="p">(</span><span class="sh">"</span><span class="s">func_b</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="application-4-ml-pipeline-validation">Application 4: ML Pipeline Validation</h3>

<p><strong>Problem:</strong> Ensure data transformation pipeline stages are properly nested</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">PipelineValidator</span><span class="p">:</span>
    <span class="sh">"""</span><span class="s">
    Validate ML pipeline stages are properly structured
    
    Example pipeline:
    StartPipeline
      |- StartPreprocess
      |    |- StartNormalization
      |    |- EndNormalization
      |- EndPreprocess
      |- StartModel
      |    |- StartTraining
      |    |- EndTraining
      |- EndModel
    EndPipeline
    </span><span class="sh">"""</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">stage_stack</span> <span class="o">=</span> <span class="p">[]</span>
    
    <span class="k">def</span> <span class="nf">start_stage</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">stage_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">Enter a pipeline stage</span><span class="sh">"""</span>
        <span class="n">self</span><span class="p">.</span><span class="n">stage_stack</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">stage_name</span><span class="p">)</span>
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="si">{</span><span class="sh">'</span><span class="s">  </span><span class="sh">'</span> <span class="o">*</span> <span class="nf">len</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">stage_stack</span><span class="p">)</span><span class="si">}</span><span class="s">Start: </span><span class="si">{</span><span class="n">stage_name</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">end_stage</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">stage_name</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">Exit a pipeline stage</span><span class="sh">"""</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">self</span><span class="p">.</span><span class="n">stage_stack</span><span class="p">:</span>
            <span class="k">raise</span> <span class="nc">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">end_stage(</span><span class="si">{</span><span class="n">stage_name</span><span class="si">}</span><span class="s">) called without matching start</span><span class="sh">"</span><span class="p">)</span>
        
        <span class="n">expected</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">stage_stack</span><span class="p">.</span><span class="nf">pop</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">expected</span> <span class="o">!=</span> <span class="n">stage_name</span><span class="p">:</span>
            <span class="k">raise</span> <span class="nc">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Expected to end </span><span class="si">{</span><span class="n">expected</span><span class="si">}</span><span class="s">, got </span><span class="si">{</span><span class="n">stage_name</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
        
        <span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="si">{</span><span class="sh">'</span><span class="s">  </span><span class="sh">'</span> <span class="o">*</span> <span class="nf">len</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">stage_stack</span><span class="p">)</span><span class="si">}</span><span class="s">End: </span><span class="si">{</span><span class="n">stage_name</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
    
    <span class="k">def</span> <span class="nf">validate</span><span class="p">(</span><span class="n">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="sh">"""</span><span class="s">Check if all stages properly closed</span><span class="sh">"""</span>
        <span class="k">if</span> <span class="n">self</span><span class="p">.</span><span class="n">stage_stack</span><span class="p">:</span>
            <span class="k">raise</span> <span class="nc">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Unclosed stages: </span><span class="si">{</span><span class="n">self</span><span class="p">.</span><span class="n">stage_stack</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
        <span class="k">return</span> <span class="bp">True</span>

<span class="c1"># Usage
</span><span class="n">validator</span> <span class="o">=</span> <span class="nc">PipelineValidator</span><span class="p">()</span>

<span class="c1"># Valid pipeline
</span><span class="n">validator</span><span class="p">.</span><span class="nf">start_stage</span><span class="p">(</span><span class="sh">"</span><span class="s">Pipeline</span><span class="sh">"</span><span class="p">)</span>
<span class="n">validator</span><span class="p">.</span><span class="nf">start_stage</span><span class="p">(</span><span class="sh">"</span><span class="s">Preprocess</span><span class="sh">"</span><span class="p">)</span>
<span class="n">validator</span><span class="p">.</span><span class="nf">start_stage</span><span class="p">(</span><span class="sh">"</span><span class="s">Normalize</span><span class="sh">"</span><span class="p">)</span>
<span class="n">validator</span><span class="p">.</span><span class="nf">end_stage</span><span class="p">(</span><span class="sh">"</span><span class="s">Normalize</span><span class="sh">"</span><span class="p">)</span>
<span class="n">validator</span><span class="p">.</span><span class="nf">end_stage</span><span class="p">(</span><span class="sh">"</span><span class="s">Preprocess</span><span class="sh">"</span><span class="p">)</span>
<span class="n">validator</span><span class="p">.</span><span class="nf">start_stage</span><span class="p">(</span><span class="sh">"</span><span class="s">Model</span><span class="sh">"</span><span class="p">)</span>
<span class="n">validator</span><span class="p">.</span><span class="nf">end_stage</span><span class="p">(</span><span class="sh">"</span><span class="s">Model</span><span class="sh">"</span><span class="p">)</span>
<span class="n">validator</span><span class="p">.</span><span class="nf">end_stage</span><span class="p">(</span><span class="sh">"</span><span class="s">Pipeline</span><span class="sh">"</span><span class="p">)</span>

<span class="n">validator</span><span class="p">.</span><span class="nf">validate</span><span class="p">()</span>  <span class="c1"># ✓ All stages properly nested
</span></code></pre></div></div>

<h3 id="application-5-undoredo-functionality">Application 5: Undo/Redo Functionality</h3>

<p><strong>Problem:</strong> Implement undo/redo for text editor</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">TextEditor</span><span class="p">:</span>
    <span class="sh">"""</span><span class="s">
    Text editor with undo/redo using two stacks
    </span><span class="sh">"""</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="n">self</span><span class="p">.</span><span class="n">text</span> <span class="o">=</span> <span class="sh">""</span>
        <span class="n">self</span><span class="p">.</span><span class="n">undo_stack</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1"># Stack of previous states
</span>        <span class="n">self</span><span class="p">.</span><span class="n">redo_stack</span> <span class="o">=</span> <span class="p">[]</span>  <span class="c1"># Stack of undone actions
</span>    
    <span class="k">def</span> <span class="nf">type</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">char</span><span class="p">:</span> <span class="nb">str</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">Add character</span><span class="sh">"""</span>
        <span class="c1"># Save current state for undo
</span>        <span class="n">self</span><span class="p">.</span><span class="n">undo_stack</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>
        
        <span class="c1"># Clear redo stack (new action invalidates redo)
</span>        <span class="n">self</span><span class="p">.</span><span class="n">redo_stack</span> <span class="o">=</span> <span class="p">[]</span>
        
        <span class="c1"># Update text
</span>        <span class="n">self</span><span class="p">.</span><span class="n">text</span> <span class="o">+=</span> <span class="n">char</span>
    
    <span class="k">def</span> <span class="nf">undo</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">Undo last action</span><span class="sh">"""</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">self</span><span class="p">.</span><span class="n">undo_stack</span><span class="p">:</span>
            <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">Nothing to undo</span><span class="sh">"</span><span class="p">)</span>
            <span class="k">return</span>
        
        <span class="c1"># Save current state for redo
</span>        <span class="n">self</span><span class="p">.</span><span class="n">redo_stack</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>
        
        <span class="c1"># Restore previous state
</span>        <span class="n">self</span><span class="p">.</span><span class="n">text</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">undo_stack</span><span class="p">.</span><span class="nf">pop</span><span class="p">()</span>
    
    <span class="k">def</span> <span class="nf">redo</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">Redo last undone action</span><span class="sh">"""</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">self</span><span class="p">.</span><span class="n">redo_stack</span><span class="p">:</span>
            <span class="nf">print</span><span class="p">(</span><span class="sh">"</span><span class="s">Nothing to redo</span><span class="sh">"</span><span class="p">)</span>
            <span class="k">return</span>
        
        <span class="c1"># Save current state for undo
</span>        <span class="n">self</span><span class="p">.</span><span class="n">undo_stack</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">self</span><span class="p">.</span><span class="n">text</span><span class="p">)</span>
        
        <span class="c1"># Restore redone state
</span>        <span class="n">self</span><span class="p">.</span><span class="n">text</span> <span class="o">=</span> <span class="n">self</span><span class="p">.</span><span class="n">redo_stack</span><span class="p">.</span><span class="nf">pop</span><span class="p">()</span>
    
    <span class="k">def</span> <span class="nf">__str__</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">self</span><span class="p">.</span><span class="n">text</span>

<span class="c1"># Example
</span><span class="n">editor</span> <span class="o">=</span> <span class="nc">TextEditor</span><span class="p">()</span>
<span class="n">editor</span><span class="p">.</span><span class="nf">type</span><span class="p">(</span><span class="sh">'</span><span class="s">H</span><span class="sh">'</span><span class="p">)</span>
<span class="n">editor</span><span class="p">.</span><span class="nf">type</span><span class="p">(</span><span class="sh">'</span><span class="s">e</span><span class="sh">'</span><span class="p">)</span>
<span class="n">editor</span><span class="p">.</span><span class="nf">type</span><span class="p">(</span><span class="sh">'</span><span class="s">l</span><span class="sh">'</span><span class="p">)</span>
<span class="n">editor</span><span class="p">.</span><span class="nf">type</span><span class="p">(</span><span class="sh">'</span><span class="s">l</span><span class="sh">'</span><span class="p">)</span>
<span class="n">editor</span><span class="p">.</span><span class="nf">type</span><span class="p">(</span><span class="sh">'</span><span class="s">o</span><span class="sh">'</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="n">editor</span><span class="p">)</span>  <span class="c1"># "Hello"
</span>
<span class="n">editor</span><span class="p">.</span><span class="nf">undo</span><span class="p">()</span>
<span class="nf">print</span><span class="p">(</span><span class="n">editor</span><span class="p">)</span>  <span class="c1"># "Hell"
</span>
<span class="n">editor</span><span class="p">.</span><span class="nf">redo</span><span class="p">()</span>
<span class="nf">print</span><span class="p">(</span><span class="n">editor</span><span class="p">)</span>  <span class="c1"># "Hello"
</span></code></pre></div></div>

<hr />

<h2 id="testing-strategy">Testing Strategy</h2>

<h3 id="comprehensive-test-suite">Comprehensive Test Suite</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">unittest</span>

<span class="k">class</span> <span class="nc">TestValidParentheses</span><span class="p">(</span><span class="n">unittest</span><span class="p">.</span><span class="n">TestCase</span><span class="p">):</span>
    
    <span class="k">def</span> <span class="nf">test_empty_string</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">Empty string should be valid</span><span class="sh">"""</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">assertTrue</span><span class="p">(</span><span class="nf">isValid</span><span class="p">(</span><span class="sh">""</span><span class="p">))</span>
    
    <span class="k">def</span> <span class="nf">test_single_pair</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">Single pair of each type</span><span class="sh">"""</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">assertTrue</span><span class="p">(</span><span class="nf">isValid</span><span class="p">(</span><span class="sh">"</span><span class="s">()</span><span class="sh">"</span><span class="p">))</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">assertTrue</span><span class="p">(</span><span class="nf">isValid</span><span class="p">(</span><span class="sh">"</span><span class="s">[]</span><span class="sh">"</span><span class="p">))</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">assertTrue</span><span class="p">(</span><span class="nf">isValid</span><span class="p">(</span><span class="sh">"</span><span class="s">{}</span><span class="sh">"</span><span class="p">))</span>
    
    <span class="k">def</span> <span class="nf">test_multiple_pairs</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">Multiple pairs in sequence</span><span class="sh">"""</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">assertTrue</span><span class="p">(</span><span class="nf">isValid</span><span class="p">(</span><span class="sh">"</span><span class="s">()[]{}</span><span class="sh">"</span><span class="p">))</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">assertTrue</span><span class="p">(</span><span class="nf">isValid</span><span class="p">(</span><span class="sh">"</span><span class="s">()[]{()}</span><span class="sh">"</span><span class="p">))</span>
    
    <span class="k">def</span> <span class="nf">test_nested</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">Nested brackets</span><span class="sh">"""</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">assertTrue</span><span class="p">(</span><span class="nf">isValid</span><span class="p">(</span><span class="sh">"</span><span class="s">{[]}</span><span class="sh">"</span><span class="p">))</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">assertTrue</span><span class="p">(</span><span class="nf">isValid</span><span class="p">(</span><span class="sh">"</span><span class="s">{</span><span class="sh">"</span> <span class="o">+</span> <span class="sh">"</span><span class="s">{}}</span><span class="sh">"</span><span class="p">))</span>  <span class="c1"># Escaped for Jekyll
</span>        <span class="n">self</span><span class="p">.</span><span class="nf">assertTrue</span><span class="p">(</span><span class="nf">isValid</span><span class="p">(</span><span class="sh">"</span><span class="s">([{}])</span><span class="sh">"</span><span class="p">))</span>
    
    <span class="k">def</span> <span class="nf">test_wrong_type</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">Mismatched bracket types</span><span class="sh">"""</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">assertFalse</span><span class="p">(</span><span class="nf">isValid</span><span class="p">(</span><span class="sh">"</span><span class="s">(]</span><span class="sh">"</span><span class="p">))</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">assertFalse</span><span class="p">(</span><span class="nf">isValid</span><span class="p">(</span><span class="sh">"</span><span class="s">{)</span><span class="sh">"</span><span class="p">))</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">assertFalse</span><span class="p">(</span><span class="nf">isValid</span><span class="p">(</span><span class="sh">"</span><span class="s">[}</span><span class="sh">"</span><span class="p">))</span>
    
    <span class="k">def</span> <span class="nf">test_wrong_order</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">Wrong closing order</span><span class="sh">"""</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">assertFalse</span><span class="p">(</span><span class="nf">isValid</span><span class="p">(</span><span class="sh">"</span><span class="s">([)]</span><span class="sh">"</span><span class="p">))</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">assertFalse</span><span class="p">(</span><span class="nf">isValid</span><span class="p">(</span><span class="sh">"</span><span class="s">{[}]</span><span class="sh">"</span><span class="p">))</span>
    
    <span class="k">def</span> <span class="nf">test_unclosed</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">Unclosed opening brackets</span><span class="sh">"""</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">assertFalse</span><span class="p">(</span><span class="nf">isValid</span><span class="p">(</span><span class="sh">"</span><span class="s">((</span><span class="sh">"</span><span class="p">))</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">assertFalse</span><span class="p">(</span><span class="nf">isValid</span><span class="p">(</span><span class="sh">"</span><span class="s">{[(</span><span class="sh">"</span><span class="p">))</span>
    
    <span class="k">def</span> <span class="nf">test_extra_closing</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">Extra closing brackets</span><span class="sh">"""</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">assertFalse</span><span class="p">(</span><span class="nf">isValid</span><span class="p">(</span><span class="sh">"</span><span class="s">))</span><span class="sh">"</span><span class="p">))</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">assertFalse</span><span class="p">(</span><span class="nf">isValid</span><span class="p">(</span><span class="sh">"</span><span class="s">())</span><span class="sh">"</span><span class="p">))</span>
    
    <span class="k">def</span> <span class="nf">test_deeply_nested</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">Deep nesting</span><span class="sh">"""</span>
        <span class="n">s</span> <span class="o">=</span> <span class="sh">"</span><span class="s">(</span><span class="sh">"</span> <span class="o">*</span> <span class="mi">1000</span> <span class="o">+</span> <span class="sh">"</span><span class="s">)</span><span class="sh">"</span> <span class="o">*</span> <span class="mi">1000</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">assertTrue</span><span class="p">(</span><span class="nf">isValid</span><span class="p">(</span><span class="n">s</span><span class="p">))</span>
    
    <span class="k">def</span> <span class="nf">test_alternating</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">Alternating pattern</span><span class="sh">"""</span>
        <span class="n">s</span> <span class="o">=</span> <span class="sh">"</span><span class="s">()</span><span class="sh">"</span> <span class="o">*</span> <span class="mi">1000</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">assertTrue</span><span class="p">(</span><span class="nf">isValid</span><span class="p">(</span><span class="n">s</span><span class="p">))</span>
    
    <span class="k">def</span> <span class="nf">test_complex_valid</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">Complex valid cases</span><span class="sh">"""</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">assertTrue</span><span class="p">(</span><span class="nf">isValid</span><span class="p">(</span><span class="sh">"</span><span class="s">{[()()]}</span><span class="sh">"</span><span class="p">))</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">assertTrue</span><span class="p">(</span><span class="nf">isValid</span><span class="p">(</span><span class="sh">"</span><span class="s">([]){}</span><span class="sh">"</span><span class="p">))</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">assertTrue</span><span class="p">(</span><span class="nf">isValid</span><span class="p">(</span><span class="sh">"</span><span class="s">{[({})]}</span><span class="sh">"</span><span class="p">))</span>
    
    <span class="k">def</span> <span class="nf">test_complex_invalid</span><span class="p">(</span><span class="n">self</span><span class="p">):</span>
        <span class="sh">"""</span><span class="s">Complex invalid cases</span><span class="sh">"""</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">assertFalse</span><span class="p">(</span><span class="nf">isValid</span><span class="p">(</span><span class="sh">"</span><span class="s">((((()</span><span class="sh">"</span><span class="p">))</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">assertFalse</span><span class="p">(</span><span class="nf">isValid</span><span class="p">(</span><span class="sh">"</span><span class="s">(((()))</span><span class="sh">"</span><span class="p">))</span>
        <span class="n">self</span><span class="p">.</span><span class="nf">assertFalse</span><span class="p">(</span><span class="nf">isValid</span><span class="p">(</span><span class="sh">"</span><span class="s">{[(])}</span><span class="sh">"</span><span class="p">))</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="sh">'</span><span class="s">__main__</span><span class="sh">'</span><span class="p">:</span>
    <span class="n">unittest</span><span class="p">.</span><span class="nf">main</span><span class="p">()</span>
</code></pre></div></div>

<h3 id="performance-benchmarking">Performance Benchmarking</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">time</span>
<span class="kn">import</span> <span class="n">random</span>

<span class="k">def</span> <span class="nf">benchmark</span><span class="p">(</span><span class="n">func</span><span class="p">,</span> <span class="n">test_cases</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">Benchmark function performance</span><span class="sh">"""</span>
    <span class="n">start</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="nf">time</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">test</span> <span class="ow">in</span> <span class="n">test_cases</span><span class="p">:</span>
        <span class="nf">func</span><span class="p">(</span><span class="n">test</span><span class="p">)</span>
    <span class="n">elapsed</span> <span class="o">=</span> <span class="n">time</span><span class="p">.</span><span class="nf">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">start</span>
    <span class="k">return</span> <span class="n">elapsed</span>

<span class="c1"># Generate test cases
</span><span class="k">def</span> <span class="nf">generate_valid_string</span><span class="p">(</span><span class="n">length</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">Generate valid bracket string</span><span class="sh">"""</span>
    <span class="n">s</span> <span class="o">=</span> <span class="sh">""</span>
    <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="n">length</span> <span class="o">//</span> <span class="mi">2</span><span class="p">):</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="sh">"</span><span class="s">(</span><span class="sh">"</span>
    <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="n">length</span> <span class="o">//</span> <span class="mi">2</span><span class="p">):</span>
        <span class="n">s</span> <span class="o">+=</span> <span class="sh">"</span><span class="s">)</span><span class="sh">"</span>
    <span class="k">return</span> <span class="n">s</span>

<span class="k">def</span> <span class="nf">generate_invalid_string</span><span class="p">(</span><span class="n">length</span><span class="p">):</span>
    <span class="sh">"""</span><span class="s">Generate invalid bracket string</span><span class="sh">"""</span>
    <span class="n">brackets</span> <span class="o">=</span> <span class="sh">"</span><span class="s">()[]{}</span><span class="sh">"</span>
    <span class="k">return</span> <span class="sh">''</span><span class="p">.</span><span class="nf">join</span><span class="p">(</span><span class="n">random</span><span class="p">.</span><span class="nf">choice</span><span class="p">(</span><span class="n">brackets</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="n">length</span><span class="p">))</span>

<span class="c1"># Test cases
</span><span class="n">test_cases</span> <span class="o">=</span> <span class="p">[</span>
    <span class="nf">generate_valid_string</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
<span class="p">]</span> <span class="o">+</span> <span class="p">[</span>
    <span class="nf">generate_invalid_string</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span> <span class="k">for</span> <span class="n">_</span> <span class="ow">in</span> <span class="nf">range</span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
<span class="p">]</span>

<span class="c1"># Benchmark
</span><span class="n">time_stack</span> <span class="o">=</span> <span class="nf">benchmark</span><span class="p">(</span><span class="n">isValid</span><span class="p">,</span> <span class="n">test_cases</span><span class="p">)</span>
<span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">Stack solution: </span><span class="si">{</span><span class="n">time_stack</span><span class="si">:</span><span class="p">.</span><span class="mi">3</span><span class="n">f</span><span class="si">}</span><span class="s">s</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># Expected: ~0.02s for 2000 strings of length 100
</span></code></pre></div></div>

<hr />

<h2 id="key-takeaways">Key Takeaways</h2>

<p>✅ <strong>Stacks naturally solve LIFO problems</strong> (brackets, function calls, undo)<br />
✅ <strong>O(n) single-pass solution</strong> is optimal for validation<br />
✅ <strong>Hash map for pairs</strong> makes code clean and extensible<br />
✅ <strong>Pattern applies widely</strong> in compilers, parsers, editors, ML pipelines<br />
✅ <strong>Early exit optimizations</strong> improve average-case performance<br />
✅ <strong>Consider edge cases</strong> (empty, single char, deeply nested)</p>

<hr />

<h2 id="related-problems">Related Problems</h2>

<p><strong>LeetCode:</strong></p>
<ul>
  <li><a href="https://leetcode.com/problems/valid-parentheses/">20. Valid Parentheses</a> (This problem)</li>
  <li><a href="https://leetcode.com/problems/generate-parentheses/">22. Generate Parentheses</a></li>
  <li><a href="https://leetcode.com/problems/longest-valid-parentheses/">32. Longest Valid Parentheses</a></li>
  <li><a href="https://leetcode.com/problems/remove-invalid-parentheses/">301. Remove Invalid Parentheses</a></li>
  <li><a href="https://leetcode.com/problems/remove-outermost-parentheses/">1021. Remove Outermost Parentheses</a></li>
</ul>

<p><strong>Stack Problems:</strong></p>
<ul>
  <li><a href="https://leetcode.com/problems/min-stack/">155. Min Stack</a></li>
  <li><a href="https://leetcode.com/problems/implement-queue-using-stacks/">232. Implement Queue using Stacks</a></li>
  <li><a href="https://leetcode.com/problems/decode-string/">394. Decode String</a></li>
  <li><a href="https://leetcode.com/problems/daily-temperatures/">739. Daily Temperatures</a></li>
</ul>

<hr />

<h2 id="further-reading">Further Reading</h2>

<p><strong>Books:</strong></p>
<ul>
  <li><em>Introduction to Algorithms</em> (CLRS) - Chapter 10: Elementary Data Structures</li>
  <li><em>The Algorithm Design Manual</em> (Skiena) - Section 3.2: Stacks and Queues</li>
  <li><em>Data Structures and Algorithm Analysis</em> (Weiss) - Chapter 3</li>
</ul>

<p><strong>Articles:</strong></p>
<ul>
  <li><a href="https://en.wikipedia.org/wiki/Stack_(abstract_data_type)">Understanding Stacks in Depth</a></li>
  <li><a href="https://brilliant.org/wiki/stacks-queues/">Bracket Matching Algorithm</a></li>
</ul>

<hr />

<h2 id="conclusion">Conclusion</h2>

<p>The Valid Parentheses problem beautifully demonstrates how the right data structure makes a seemingly complex problem trivial. The stack’s LIFO property is a perfect match for nested structures, eliminating the need for complex bookkeeping or multiple passes.</p>

<p>Beyond the specific problem, understanding stacks prepares you for:</p>
<ul>
  <li><strong>Parsing and compilation</strong> (expression evaluation, syntax analysis)</li>
  <li><strong>Backtracking algorithms</strong> (DFS, path finding)</li>
  <li><strong>Memory management</strong> (call stack, activation records)</li>
  <li><strong>Undo/redo systems</strong> (editors, version control)</li>
</ul>

<p>The patterns you’ve learned here using stacks for matching, validation, and tracking nested structures will appear repeatedly in system design, algorithm implementation, and production code.</p>

<p>Master the stack, and you’ve mastered a fundamental building block of computer science! 🚀</p>

<hr />

<p><strong>Originally published at:</strong> <a href="https://www.arunbaby.com/dsa/0002-valid-parentheses/">arunbaby.com/dsa/0002-valid-parentheses</a></p>

<p><em>If you found this helpful, consider sharing it with others who might benefit.</em></p>

        
      </section>

      <footer class="page__meta">
        
        
  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      <a href="/tags/#stack" class="page__taxonomy-item p-category" rel="tag">stack</a><span class="sep">, </span>
    
      <a href="/tags/#strings" class="page__taxonomy-item p-category" rel="tag">strings</a>
    
    </span>
  </p>




  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      <a href="/categories/#dsa" class="page__taxonomy-item p-category" rel="tag">dsa</a>
    
    </span>
  </p>


        

  <p class="page__date"><strong><i class="fas fa-fw fa-calendar-alt" aria-hidden="true"></i> Updated:</strong> <time class="dt-published" datetime="2025-10-13T17:44:23+05:30">October 13, 2025</time></p>

      </footer>

      <section class="page__share">
  <h4 class="page__share-title">Share on</h4>

  <a href="https://twitter.com/intent/tweet?via=arunbaby0&text=Valid+Parentheses%20https%3A%2F%2Fwww.arunbaby.com%2Fdsa%2F0002-valid-parentheses%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fwww.arunbaby.com%2Fdsa%2F0002-valid-parentheses%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://www.arunbaby.com/dsa/0002-valid-parentheses/" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="/dsa/0001-two-sum/" class="pagination--pager" title="Two Sum">Previous</a>
    
    
      <a href="/dsa/0003-merge-sorted-lists/" class="pagination--pager" title="Merge Two Sorted Lists">Next</a>
    
  </nav>


    </div>

    
  </article>

  
  
</div>

      
    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';" role="search">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    
      
        
          <li><a href="https://twitter.com/arunbaby0" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
        
      
        
          <li><a href="https://github.com/arunbaby0" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
        
          <li><a href="https://www.linkedin.com/in/arunbaby0/" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i> LinkedIn</a></li>
        
      
        
          <li><a href="https://scholar.google.co.in/citations?user=6fSYWhkAAAAJ" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-graduation-cap" aria-hidden="true"></i> Google Scholar</a></li>
        
      
    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 1990 - 2143 <a href="https://www.arunbaby.com">Arun Baby</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>




  <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-0JRJPEC9SS"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-0JRJPEC9SS', { 'anonymize_ip': false});
</script>








  </body>
</html>
