<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.26.2 by Michael Rose
  Copyright 2013-2024 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->

<html lang="en-US" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Reverse Linked List - Arun Baby</title>
<meta name="description" content="Master linked list manipulation through reversal - a fundamental pattern for understanding pointer logic and in-place algorithms.">


  <meta name="author" content="Arun Baby">
  
  <meta property="article:author" content="Arun Baby">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Arun Baby">
<meta property="og:title" content="Reverse Linked List">
<meta property="og:url" content="https://www.arunbaby.com/dsa/0010-reverse-linked-list/">


  <meta property="og:description" content="Master linked list manipulation through reversal - a fundamental pattern for understanding pointer logic and in-place algorithms.">



  <meta property="og:image" content="https://www.arunbaby.com/assets/images/profile-photo.png">



  <meta name="twitter:site" content="@arunbaby0">
  <meta name="twitter:title" content="Reverse Linked List">
  <meta name="twitter:description" content="Master linked list manipulation through reversal - a fundamental pattern for understanding pointer logic and in-place algorithms.">
  <meta name="twitter:url" content="https://www.arunbaby.com/dsa/0010-reverse-linked-list/">

  
    <meta name="twitter:card" content="summary">
    
      <meta name="twitter:image" content="https://www.arunbaby.com/assets/images/profile-photo.png">
    
  

  



  <meta property="article:published_time" content="2025-12-31T10:08:45+05:30">





  

  


<link rel="canonical" href="https://www.arunbaby.com/dsa/0010-reverse-linked-list/">












<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Arun Baby Feed">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
  
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css"></noscript>



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single" dir="ltr">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
           
          <span class="site-subtitle">Arun Baby</span>
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a
                href="/about/"
                
                
              >About</a>
            </li><li class="masthead__menu-item">
              <a
                href="/dsa/"
                
                
              >DSA</a>
            </li><li class="masthead__menu-item">
              <a
                href="/ml-system-design/"
                
                
              >ML Systems</a>
            </li><li class="masthead__menu-item">
              <a
                href="/speech-tech/"
                
                
              >Speech Tech</a>
            </li><li class="masthead__menu-item">
              <a
                href="/ai-agents/"
                
                
              >AI Agents</a>
            </li><li class="masthead__menu-item">
              <a
                href="/publications/"
                
                
              >Publications</a>
            </li><li class="masthead__menu-item">
              <a
                href="/statuses/"
                
                
              >Statuses</a>
            </li><li class="masthead__menu-item">
              <a
                href="/contact/"
                
                
              >Contact</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <i class="fas fa-search"></i>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      





<div id="main" role="main" class="no-author-sidebar">
  
  <div class="sidebar sticky">
  
  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Reverse Linked List">
    <meta itemprop="description" content="Master linked list manipulation through reversal - a fundamental pattern for understanding pointer logic and in-place algorithms.">
    <meta itemprop="datePublished" content="2025-12-31T10:08:45+05:30">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">
            <a href="https://www.arunbaby.com/dsa/0010-reverse-linked-list/" itemprop="url">Reverse Linked List
</a>
          </h1>
          

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          27 minute read
        
      </span>
    
  </p>


        </header>
      

      <section class="page__content" itemprop="text">
        
          <aside class="sidebar__right sticky">
            <nav class="toc">
              <header><h4 class="nav__title"><i class="fas fa-file-alt"></i> On this page</h4></header>
              <ul class="toc__menu"><li><a href="#problem">Problem</a></li><li><a href="#understanding-linked-lists">Understanding Linked Lists</a><ul><li><a href="#node-structure">Node Structure</a></li><li><a href="#helper-functions">Helper Functions</a></li></ul></li><li><a href="#approach-1-iterative-three-pointers">Approach 1: Iterative (Three Pointers)</a><ul><li><a href="#visualization">Visualization</a></li><li><a href="#implementation">Implementation</a></li><li><a href="#step-by-step-trace">Step-by-Step Trace</a></li></ul></li><li><a href="#approach-2-recursive">Approach 2: Recursive</a><ul><li><a href="#visualization-1">Visualization</a></li><li><a href="#implementation-1">Implementation</a></li><li><a href="#understanding-the-recursion">Understanding the Recursion</a></li></ul></li><li><a href="#approach-3-using-stack">Approach 3: Using Stack</a></li><li><a href="#advanced-variations">Advanced Variations</a><ul><li><a href="#variation-1-reverse-first-k-nodes">Variation 1: Reverse First K Nodes</a></li><li><a href="#variation-2-reverse-between-positions">Variation 2: Reverse Between Positions</a></li><li><a href="#variation-3-reverse-in-k-groups">Variation 3: Reverse in K Groups</a></li><li><a href="#variation-4-palindrome-check-using-reversal">Variation 4: Palindrome Check (Using Reversal)</a></li></ul></li><li><a href="#common-mistakes--edge-cases">Common Mistakes &amp; Edge Cases</a><ul><li><a href="#mistake-1-forgetting-to-save-next">Mistake 1: Forgetting to Save Next</a></li><li><a href="#mistake-2-not-setting-last-nodes-next-to-none">Mistake 2: Not Setting Last Node’s Next to None</a></li><li><a href="#edge-cases-test-suite">Edge Cases Test Suite</a></li></ul></li><li><a href="#performance-comparison">Performance Comparison</a></li><li><a href="#connection-to-caching-ml">Connection to Caching (ML)</a></li><li><a href="#production-patterns">Production Patterns</a><ul><li><a href="#pattern-1-safe-reversal-with-validation">Pattern 1: Safe Reversal with Validation</a></li><li><a href="#pattern-2-reversing-in-streaming-context">Pattern 2: Reversing in Streaming Context</a></li></ul></li><li><a href="#why-reversing-linked-lists-matters">Why Reversing Linked Lists Matters</a><ul><li><a href="#beyond-the-interview">Beyond the Interview</a></li><li><a href="#real-world-applications">Real-World Applications</a></li></ul></li><li><a href="#deep-dive-understanding-pointers">Deep Dive: Understanding Pointers</a><ul><li><a href="#visualizing-pointer-changes">Visualizing Pointer Changes</a></li><li><a href="#memory-layout-visualization">Memory Layout Visualization</a></li></ul></li><li><a href="#interview-deep-dive">Interview Deep Dive</a><ul><li><a href="#common-follow-up-questions">Common Follow-up Questions</a><ul><li><a href="#q1-can-you-do-it-without-recursion">Q1: “Can you do it without recursion?”</a></li><li><a href="#q2-what-if-the-list-has-a-cycle">Q2: “What if the list has a cycle?”</a></li><li><a href="#q3-how-would-you-reverse-only-odd-positioned-nodes">Q3: “How would you reverse only odd-positioned nodes?”</a></li><li><a href="#q4-can-you-reverse-in-groups-and-connect-them">Q4: “Can you reverse in groups and connect them?”</a></li></ul></li></ul></li><li><a href="#advanced-techniques">Advanced Techniques</a><ul><li><a href="#technique-1-reverse-with-constraints">Technique 1: Reverse with Constraints</a></li><li><a href="#technique-2-reverse-using-recursion-with-tail">Technique 2: Reverse Using Recursion with Tail</a></li><li><a href="#technique-3-reverse-maintaining-original-order-information">Technique 3: Reverse Maintaining Original Order Information</a></li></ul></li><li><a href="#performance-optimization">Performance Optimization</a><ul><li><a href="#space-optimized-variations">Space-Optimized Variations</a></li><li><a href="#time-complexity-analysis">Time Complexity Analysis</a></li></ul></li><li><a href="#key-takeaways">Key Takeaways</a></li><li><a href="#related-problems">Related Problems</a></li></ul>
            </nav>
          </aside>
        
        <p><strong>Master linked list manipulation through reversal - a fundamental pattern for understanding pointer logic and in-place algorithms.</strong></p>

<h2 id="problem">Problem</h2>

<p>Given the <code class="language-plaintext highlighter-rouge">head</code> of a singly linked list, reverse the list, and return the reversed list.</p>

<p><strong>Example 1:</strong>
``
Input: head = [1,2,3,4,5]
Output: [5,4,3,2,1]</p>

<p>Visual:
1 → 2 → 3 → 4 → 5 → null
 ↓
5 → 4 → 3 → 2 → 1 → null
``</p>

<p><strong>Example 2:</strong>
<code class="language-plaintext highlighter-rouge">
Input: head = [1,2]
Output: [2,1]
</code></p>

<p><strong>Example 3:</strong>
<code class="language-plaintext highlighter-rouge">
Input: head = []
Output: []
</code></p>

<p><strong>Constraints:</strong></p>
<ul>
  <li>The number of nodes in the list is in the range <code class="language-plaintext highlighter-rouge">[0, 5000]</code></li>
  <li><code class="language-plaintext highlighter-rouge">-5000 &lt;= Node.val &lt;= 5000</code></li>
</ul>

<p><strong>Follow-up:</strong> Can you reverse the linked list both iteratively and recursively?</p>

<hr />

<h2 id="understanding-linked-lists">Understanding Linked Lists</h2>

<h3 id="node-structure">Node Structure</h3>

<p>``python
class ListNode:
 “"”Singly-linked list node”””</p>

<p>def <strong>init</strong>(self, val=0, next=None):
 self.val = val
 self.next = next</p>

<p>def <strong>repr</strong>(self):
 “"”String representation for debugging”””
 return f”ListNode({self.val})”</p>

<h1 id="create-a-linked-list-1--2--3">Create a linked list: 1 → 2 → 3</h1>
<p>head = ListNode(1)
head.next = ListNode(2)
head.next.next = ListNode(3)
``</p>

<h3 id="helper-functions">Helper Functions</h3>

<p>``python
def create_linked_list(values):
 “"”Create linked list from list of values”””
 if not values:
 return None</p>

<p>head = ListNode(values[0])
 current = head</p>

<p>for val in values[1:]:
 current.next = ListNode(val)
 current = current.next</p>

<p>return head</p>

<p>def list_to_array(head):
 “"”Convert linked list to array for easy visualization”””
 result = []
 current = head</p>

<p>while current:
 result.append(current.val)
 current = current.next</p>

<p>return result</p>

<p>def print_linked_list(head):
 “"”Pretty print linked list”””
 values = list_to_array(head)
 print(“ → “.join(map(str, values)) + “ → null”)</p>

<h1 id="usage">Usage</h1>
<p>head = create_linked_list([1, 2, 3, 4, 5])
print_linked_list(head) # 1 → 2 → 3 → 4 → 5 → null
``</p>

<hr />

<h2 id="approach-1-iterative-three-pointers">Approach 1: Iterative (Three Pointers)</h2>

<p><strong>The standard and most intuitive approach</strong></p>

<h3 id="visualization">Visualization</h3>

<p>``
Initial: 1 → 2 → 3 → 4 → 5 → null
 prev curr next</p>

<p>Step 1: Reverse 1’s pointer
null ← 1 2 → 3 → 4 → 5 → null
 prev curr next</p>

<p>Step 2: Reverse 2’s pointer
null ← 1 ← 2 3 → 4 → 5 → null
 prev curr next</p>

<p>Step 3: Reverse 3’s pointer
null ← 1 ← 2 ← 3 4 → 5 → null
 prev curr next</p>

<p>Step 4: Reverse 4’s pointer
null ← 1 ← 2 ← 3 ← 4 5 → null
 prev curr next</p>

<p>Step 5: Reverse 5’s pointer
null ← 1 ← 2 ← 3 ← 4 ← 5 null
 prev curr</p>

<p>Result: prev is new head
``</p>

<h3 id="implementation">Implementation</h3>

<p>``python
def reverseList(head: ListNode) -&gt; ListNode:
 “””
 Iterative reversal using three pointers</p>

<p>Time: O(n) - visit each node once
 Space: O(1) - only use 3 pointers</p>

<p>Strategy:</p>
<ol>
  <li>Track previous, current, and next nodes</li>
  <li>Reverse current’s pointer to previous</li>
  <li>Move all pointers one step forward</li>
  <li>Repeat until end of list
 “””
 prev = None
 curr = head</li>
</ol>

<p>while curr:
 # Save next node before we change the pointer
 next_temp = curr.next</p>

<p># Reverse the pointer
 curr.next = prev</p>

<p># Move prev and curr one step forward
 prev = curr
 curr = next_temp</p>

<p># prev is now the new head
 return prev</p>

<h1 id="test">Test</h1>
<p>head = create_linked_list([1, 2, 3, 4, 5])
print(“Original:”, list_to_array(head))
reversed_head = reverseList(head)
print(“Reversed:”, list_to_array(reversed_head))</p>
<h1 id="output">Output:</h1>
<h1 id="original-1-2-3-4-5">Original: [1, 2, 3, 4, 5]</h1>
<h1 id="reversed-5-4-3-2-1">Reversed: [5, 4, 3, 2, 1]</h1>
<p>``</p>

<h3 id="step-by-step-trace">Step-by-Step Trace</h3>

<p>``python
def reverseListVerbose(head: ListNode) -&gt; ListNode:
 “"”Iterative reversal with detailed logging”””
 prev = None
 curr = head
 step = 0</p>

<p>print(“Initial state:”)
 print(f” List: {list_to_array(head)}”)</p>

<p>while curr:
 step += 1
 print(f”\nStep {step}:”)
 print(f” Current node: {curr.val}”)</p>

<p># Save next
 next_temp = curr.next
 print(f” Saved next: {next_temp.val if next_temp else ‘null’}”)</p>

<p># Reverse pointer
 curr.next = prev
 print(f” Reversed {curr.val}’s pointer to {prev.val if prev else ‘null’}”)</p>

<p># Move forward
 prev = curr
 curr = next_temp</p>

<p># Show partial result
 if prev:
 print(f” Reversed portion: {list_to_array(prev)}”)</p>

<p>print(f”\nFinal: {list_to_array(prev)}”)
 return prev
``</p>

<hr />

<h2 id="approach-2-recursive">Approach 2: Recursive</h2>

<p><strong>Elegant but uses call stack</strong></p>

<h3 id="visualization-1">Visualization</h3>

<p><code class="language-plaintext highlighter-rouge">
reverseList(1 → 2 → 3 → 4 → 5)
 ↓
 reverseList(2 → 3 → 4 → 5)
 ↓
 reverseList(3 → 4 → 5)
 ↓
 reverseList(4 → 5)
 ↓
 reverseList(5)
 ↓
 return 5 (base case)
 ← reverse 4's pointer
 ← reverse 3's pointer
 ← reverse 2's pointer
 ← reverse 1's pointer
← return 5 as new head
</code></p>

<h3 id="implementation-1">Implementation</h3>

<p>``python
def reverseListRecursive(head: ListNode) -&gt; ListNode:
 “””
 Recursive reversal</p>

<p>Time: O(n)
 Space: O(n) - recursion stack</p>

<p>Key insight:</p>
<ul>
  <li>Reverse rest of list first</li>
  <li>Then fix current node’s pointer
 “””
 # Base case: empty list or single node
 if not head or not head.next:
 return head</li>
</ul>

<p># Recursively reverse rest of list
 new_head = reverseListRecursive(head.next)</p>

<p># Fix pointers
 # head.next is now the last node of reversed list
 # Make it point back to head
 head.next.next = head</p>

<p># Remove head’s forward pointer
 head.next = None</p>

<p>return new_head</p>

<h1 id="test-1">Test</h1>
<p>head = create_linked_list([1, 2, 3, 4, 5])
reversed_head = reverseListRecursive(head)
print(list_to_array(reversed_head)) # [5, 4, 3, 2, 1]
``</p>

<h3 id="understanding-the-recursion">Understanding the Recursion</h3>

<p>``python
def reverseListRecursiveVerbose(head: ListNode, depth=0) -&gt; ListNode:
 “"”Recursive reversal with visualization”””
 indent = “ “ * depth</p>

<p># Base case
 if not head or not head.next:
 print(f”{indent}Base case: {head.val if head else ‘null’}”)
 return head</p>

<p>print(f”{indent}Reversing from node {head.val}”)
 print(f”{indent} Going deeper…”)</p>

<p># Recursive call
 new_head = reverseListRecursiveVerbose(head.next, depth + 1)</p>

<p>print(f”{indent} Returned from recursion”)
 print(f”{indent} Fixing pointers for node {head.val}”)
 print(f”{indent} Making {head.next.val} point to {head.val}”)</p>

<p># Fix pointers
 head.next.next = head
 head.next = None</p>

<p>return new_head</p>

<h1 id="test-2">Test</h1>
<p>head = create_linked_list([1, 2, 3, 4, 5])
result = reverseListRecursiveVerbose(head)
``</p>

<hr />

<h2 id="approach-3-using-stack">Approach 3: Using Stack</h2>

<p><strong>Less efficient but intuitive</strong></p>

<p>``python
def reverseListStack(head: ListNode) -&gt; ListNode:
 “””
 Reverse using stack</p>

<p>Time: O(n)
 Space: O(n) - stack storage</p>

<p>Not optimal, but shows alternative thinking
 “””
 if not head:
 return None</p>

<p># Push all nodes onto stack
 stack = []
 current = head</p>

<p>while current:
 stack.append(current)
 current = current.next</p>

<p># Pop from stack to build reversed list
 new_head = stack.pop()
 current = new_head</p>

<p>while stack:
 current.next = stack.pop()
 current = current.next</p>

<p># Important: set last node’s next to None
 current.next = None</p>

<p>return new_head</p>

<h1 id="test-3">Test</h1>
<p>head = create_linked_list([1, 2, 3, 4, 5])
reversed_head = reverseListStack(head)
print(list_to_array(reversed_head)) # [5, 4, 3, 2, 1]
``</p>

<hr />

<h2 id="advanced-variations">Advanced Variations</h2>

<h3 id="variation-1-reverse-first-k-nodes">Variation 1: Reverse First K Nodes</h3>

<p>``python
def reverseFirstK(head: ListNode, k: int) -&gt; ListNode:
 “””
 Reverse only first k nodes</p>

<p>Example: [1,2,3,4,5], k=3 → [3,2,1,4,5]
 “””
 if not head or k &lt;= 1:
 return head</p>

<p># Reverse first k nodes
 prev = None
 curr = head
 count = 0</p>

<p># Reverse
 while curr and count &lt; k:
 next_temp = curr.next
 curr.next = prev
 prev = curr
 curr = next_temp
 count += 1</p>

<p># Connect reversed part to rest of list
 if head:
 head.next = curr # head is now tail of reversed part</p>

<p>return prev</p>

<h1 id="test-4">Test</h1>
<p>head = create_linked_list([1, 2, 3, 4, 5])
result = reverseFirstK(head, 3)
print(list_to_array(result)) # [3, 2, 1, 4, 5]
``</p>

<h3 id="variation-2-reverse-between-positions">Variation 2: Reverse Between Positions</h3>

<p>``python
def reverseBetween(head: ListNode, left: int, right: int) -&gt; ListNode:
 “””
 Reverse nodes from position left to right (1-indexed)</p>

<p>Example: [1,2,3,4,5], left=2, right=4 → [1,4,3,2,5]</p>

<p>LeetCode 92: Reverse Linked List II
 “””
 if not head or left == right:
 return head</p>

<p># Dummy node to handle edge case where left=1
 dummy = ListNode(0)
 dummy.next = head</p>

<p># Move to node before left
 prev = dummy
 for _ in range(left - 1):
 prev = prev.next</p>

<p># Reverse from left to right
 reverse_start = prev.next
 curr = reverse_start.next</p>

<p>for _ in range(right - left):
 # Extract curr
 reverse_start.next = curr.next</p>

<p># Insert curr after prev
 curr.next = prev.next
 prev.next = curr</p>

<p># Move to next node to reverse
 curr = reverse_start.next</p>

<p>return dummy.next</p>

<h1 id="test-5">Test</h1>
<p>head = create_linked_list([1, 2, 3, 4, 5])
result = reverseBetween(head, 2, 4)
print(list_to_array(result)) # [1, 4, 3, 2, 5]
``</p>

<h3 id="variation-3-reverse-in-k-groups">Variation 3: Reverse in K Groups</h3>

<p>``python
def reverseKGroup(head: ListNode, k: int) -&gt; ListNode:
 “””
 Reverse nodes in k-group</p>

<p>Example: [1,2,3,4,5], k=2 → [2,1,4,3,5]
 Example: [1,2,3,4,5], k=3 → [3,2,1,4,5]</p>

<p>LeetCode 25: Reverse Nodes in k-Group
 “””
 # Count total nodes
 count = 0
 current = head
 while current:
 count += 1
 current = current.next</p>

<p>dummy = ListNode(0)
 dummy.next = head
 prev_group_end = dummy</p>

<p>while count &gt;= k:
 # Reverse k nodes
 group_start = prev_group_end.next
 prev = None
 curr = group_start</p>

<p>for _ in range(k):
 next_temp = curr.next
 curr.next = prev
 prev = curr
 curr = next_temp</p>

<p># Connect reversed group
 prev_group_end.next = prev # prev is new group start
 group_start.next = curr # group_start is now group end</p>

<p># Move to next group
 prev_group_end = group_start
 count -= k</p>

<p>return dummy.next</p>

<h1 id="test-6">Test</h1>
<p>head = create_linked_list([1, 2, 3, 4, 5])
result = reverseKGroup(head, 2)
print(list_to_array(result)) # [2, 1, 4, 3, 5]</p>

<p>head = create_linked_list([1, 2, 3, 4, 5])
result = reverseKGroup(head, 3)
print(list_to_array(result)) # [3, 2, 1, 4, 5]
``</p>

<h3 id="variation-4-palindrome-check-using-reversal">Variation 4: Palindrome Check (Using Reversal)</h3>

<p>``python
def isPalindrome(head: ListNode) -&gt; bool:
 “””
 Check if linked list is palindrome</p>

<p>Strategy:</p>
<ol>
  <li>Find middle of list (slow/fast pointers)</li>
  <li>Reverse second half</li>
  <li>Compare first and second half</li>
</ol>

<p>Time: O(n), Space: O(1)
 “””
 if not head or not head.next:
 return True</p>

<p># Find middle using slow/fast pointers
 slow = fast = head
 while fast.next and fast.next.next:
 slow = slow.next
 fast = fast.next.next</p>

<p># Reverse second half
 second_half = reverseList(slow.next)</p>

<p># Compare both halves
 first_half = head
 while second_half:
 if first_half.val != second_half.val:
 return False
 first_half = first_half.next
 second_half = second_half.next</p>

<p>return True</p>

<h1 id="test-7">Test</h1>
<p>head = create_linked_list([1, 2, 3, 2, 1])
print(isPalindrome(head)) # True</p>

<p>head = create_linked_list([1, 2, 3, 4, 5])
print(isPalindrome(head)) # False
``</p>

<hr />

<h2 id="common-mistakes--edge-cases">Common Mistakes &amp; Edge Cases</h2>

<h3 id="mistake-1-forgetting-to-save-next">Mistake 1: Forgetting to Save Next</h3>

<p>``python</p>
<h1 id="wrong-loses-reference-to-rest-of-list">WRONG: Loses reference to rest of list</h1>
<p>def reverseListWrong(head):
 prev = None
 curr = head</p>

<p>while curr:
 curr.next = prev # Lost reference to rest!
 prev = curr
 curr = curr.next # curr.next was just changed!</p>

<p>return prev</p>

<h1 id="correct-save-next-before-changing-pointer">CORRECT: Save next before changing pointer</h1>
<p>def reverseListCorrect(head):
 prev = None
 curr = head</p>

<p>while curr:
 next_temp = curr.next # Save first!
 curr.next = prev
 prev = curr
 curr = next_temp</p>

<p>return prev
``</p>

<h3 id="mistake-2-not-setting-last-nodes-next-to-none">Mistake 2: Not Setting Last Node’s Next to None</h3>

<p>``python</p>
<h1 id="wrong-creates-cycle">WRONG: Creates cycle</h1>
<p>def reverseListCycle(head):
 if not head or not head.next:
 return head</p>

<p>new_head = reverseListCycle(head.next)
 head.next.next = head
 # Missing: head.next = None</p>

<p>return new_head # Creates cycle!</p>

<h1 id="correct">CORRECT</h1>
<p>def reverseListNoCycle(head):
 if not head or not head.next:
 return head</p>

<p>new_head = reverseListNoCycle(head.next)
 head.next.next = head
 head.next = None # Break cycle</p>

<p>return new_head
``</p>

<h3 id="edge-cases-test-suite">Edge Cases Test Suite</h3>

<p>``python
import unittest</p>

<p>class TestReverseLinkedList(unittest.TestCase):</p>

<p>def test_empty_list(self):
 “"”Test with empty list”””
 self.assertIsNone(reverseList(None))</p>

<p>def test_single_node(self):
 “"”Test with single node”””
 head = ListNode(1)
 result = reverseList(head)
 self.assertEqual(result.val, 1)
 self.assertIsNone(result.next)</p>

<p>def test_two_nodes(self):
 “"”Test with two nodes”””
 head = create_linked_list([1, 2])
 result = reverseList(head)
 self.assertEqual(list_to_array(result), [2, 1])</p>

<p>def test_multiple_nodes(self):
 “"”Test with multiple nodes”””
 head = create_linked_list([1, 2, 3, 4, 5])
 result = reverseList(head)
 self.assertEqual(list_to_array(result), [5, 4, 3, 2, 1])</p>

<p>def test_duplicate_values(self):
 “"”Test with duplicate values”””
 head = create_linked_list([1, 1, 2, 2, 3])
 result = reverseList(head)
 self.assertEqual(list_to_array(result), [3, 2, 2, 1, 1])</p>

<p>def test_all_same_values(self):
 “"”Test with all same values”””
 head = create_linked_list([5, 5, 5, 5])
 result = reverseList(head)
 self.assertEqual(list_to_array(result), [5, 5, 5, 5])</p>

<p>def test_no_cycle_created(self):
 “"”Ensure no cycle is created”””
 head = create_linked_list([1, 2, 3])
 result = reverseList(head)</p>

<p># Traverse and count nodes
 count = 0
 curr = result
 while curr and count &lt; 10: # Max 10 to detect cycle
 count += 1
 curr = curr.next</p>

<p>self.assertEqual(count, 3) # Should be exactly 3 nodes</p>

<p>if <strong>name</strong> == ‘<strong>main</strong>’:
 unittest.main()
``</p>

<hr />

<h2 id="performance-comparison">Performance Comparison</h2>

<p>``python
import time
import sys</p>

<p>def benchmark_reversal():
 “"”Compare different reversal approaches”””
 sizes = [100, 1000, 5000]
 iterations = 1000</p>

<p>print(“Reversal Method Comparison”)
 print(“=” * 60)
 print(f”{‘Size’:&lt;10} {‘Iterative’:&lt;15} {‘Recursive’:&lt;15} {‘Stack’:&lt;15}”)
 print(“-“ * 60)</p>

<p>for size in sizes:
 # Create test list
 head = create_linked_list(list(range(size)))</p>

<p># Benchmark iterative
 start = time.perf_counter()
 for _ in range(iterations):
 test_head = create_linked_list(list(range(size)))
 reverseList(test_head)
 iter_time = (time.perf_counter() - start) / iterations * 1000</p>

<p># Benchmark recursive (careful with stack overflow)
 if size &lt;= 1000: # Limit recursion depth
 start = time.perf_counter()
 for _ in range(iterations):
 test_head = create_linked_list(list(range(size)))
 reverseListRecursive(test_head)
 rec_time = (time.perf_counter() - start) / iterations * 1000
 else:
 rec_time = float(‘inf’) # Too deep for recursion</p>

<p># Benchmark stack
 start = time.perf_counter()
 for _ in range(iterations):
 test_head = create_linked_list(list(range(size)))
 reverseListStack(test_head)
 stack_time = (time.perf_counter() - start) / iterations * 1000</p>

<p>print(f”{size:&lt;10} {iter_time:&lt;15.4f} {rec_time:&lt;15.4f} {stack_time:&lt;15.4f}”)</p>

<p>print(“\n* Times in milliseconds”)
 print(“* Recursive shows ‘inf’ for large lists (stack overflow risk)”)</p>

<p>benchmark_reversal()
``</p>

<hr />

<h2 id="connection-to-caching-ml">Connection to Caching (ML)</h2>

<p>Linked lists are fundamental to cache implementations:</p>

<p>``python
class LRUNode:
 “"”Node for LRU cache doubly-linked list”””</p>

<p>def <strong>init</strong>(self, key, value):
 self.key = key
 self.value = value
 self.prev = None
 self.next = None</p>

<p>class LRUCache:
 “””
 LRU Cache using doubly-linked list</p>

<p>Connection to reversal:</p>
<ul>
  <li>Both manipulate pointers</li>
  <li>Both require careful pointer management</li>
  <li>Understanding reversal helps understand cache eviction
 “””</li>
</ul>

<p>def <strong>init</strong>(self, capacity: int):
 self.capacity = capacity
 self.cache = {} # key -&gt; node</p>

<p># Dummy head and tail
 self.head = LRUNode(0, 0)
 self.tail = LRUNode(0, 0)
 self.head.next = self.tail
 self.tail.prev = self.head</p>

<p>def _add_to_head(self, node):
 “"”Add node right after head (most recently used)”””
 node.next = self.head.next
 node.prev = self.head
 self.head.next.prev = node
 self.head.next = node</p>

<p>def _remove_node(self, node):
 “"”Remove node from list”””
 prev_node = node.prev
 next_node = node.next
 prev_node.next = next_node
 next_node.prev = prev_node</p>

<p>def get(self, key: int) -&gt; int:
 “"”Get value and mark as recently used”””
 if key in self.cache:
 node = self.cache[key]
 self._remove_node(node)
 self._add_to_head(node)
 return node.value
 return -1</p>

<p>def put(self, key: int, value: int) -&gt; None:
 “"”Put key-value pair”””
 if key in self.cache:
 # Update existing
 node = self.cache[key]
 node.value = value
 self._remove_node(node)
 self._add_to_head(node)
 else:
 # Add new
 node = LRUNode(key, value)
 self.cache[key] = node
 self._add_to_head(node)</p>

<p># Evict if over capacity
 if len(self.cache) &gt; self.capacity:
 # Remove least recently used (tail.prev)
 lru = self.tail.prev
 self._remove_node(lru)
 del self.cache[lru.key]</p>

<h1 id="usage-1">Usage</h1>
<p>cache = LRUCache(2)
cache.put(1, 1)
cache.put(2, 2)
print(cache.get(1)) # 1
cache.put(3, 3) # Evicts key 2
print(cache.get(2)) # -1 (not found)
``</p>

<hr />

<h2 id="production-patterns">Production Patterns</h2>

<h3 id="pattern-1-safe-reversal-with-validation">Pattern 1: Safe Reversal with Validation</h3>

<p>``python
class LinkedListReverser:
 “””
 Production-ready linked list reversal</p>

<p>Features:</p>
<ul>
  <li>Input validation</li>
  <li>Cycle detection</li>
  <li>Logging</li>
  <li>Error handling
 “””</li>
</ul>

<p>def <strong>init</strong>(self):
 self.operations = 0</p>

<p>def reverse(self, head: ListNode) -&gt; ListNode:
 “"”Safely reverse linked list”””
 # Validate input
 if not self._validate_list(head):
 raise ValueError(“Invalid linked list”)</p>

<p># Check for cycles
 if self._has_cycle(head):
 raise ValueError(“Cannot reverse list with cycle”)</p>

<p># Perform reversal
 return self._reverse_iterative(head)</p>

<p>def _validate_list(self, head: ListNode) -&gt; bool:
 “"”Validate list structure”””
 if head is None:
 return True</p>

<p># Check for reasonable length (prevent infinite loop)
 max_length = 10000
 count = 0
 current = head</p>

<p>while current and count &lt; max_length:
 count += 1
 current = current.next</p>

<p>return count &lt; max_length</p>

<p>def _has_cycle(self, head: ListNode) -&gt; bool:
 “"”Detect cycle using Floyd’s algorithm”””
 if not head:
 return False</p>

<p>slow = fast = head</p>

<p>while fast and fast.next:
 slow = slow.next
 fast = fast.next.next</p>

<p>if slow == fast:
 return True</p>

<p>return False</p>

<p>def _reverse_iterative(self, head: ListNode) -&gt; ListNode:
 “"”Iterative reversal with counting”””
 prev = None
 curr = head</p>

<p>while curr:
 self.operations += 1
 next_temp = curr.next
 curr.next = prev
 prev = curr
 curr = next_temp</p>

<p>return prev</p>

<p>def get_stats(self):
 “"”Get operation statistics”””
 return {‘operations’: self.operations}</p>

<h1 id="usage-2">Usage</h1>
<p>reverser = LinkedListReverser()
head = create_linked_list([1, 2, 3, 4, 5])
result = reverser.reverse(head)
print(f”Reversed list: {list_to_array(result)}”)
print(f”Operations: {reverser.get_stats()[‘operations’]}”)
``</p>

<h3 id="pattern-2-reversing-in-streaming-context">Pattern 2: Reversing in Streaming Context</h3>

<p>``python
class StreamingListReverser:
 “””
 Reverse linked list built from stream</p>

<p>Useful when building list from incoming data
 “””</p>

<p>def <strong>init</strong>(self):
 self.head = None
 self.count = 0</p>

<p>def add_value(self, value):
 “””
 Add value to front (effectively building reversed list)</p>

<p>More efficient than building forward then reversing
 “””
 new_node = ListNode(value)
 new_node.next = self.head
 self.head = new_node
 self.count += 1</p>

<p>def add_values(self, values):
 “"”Add multiple values”””
 for val in values:
 self.add_value(val)</p>

<p>def get_list(self):
 “"”Get the reversed list”””
 return self.head</p>

<p>def get_array(self):
 “"”Get as array”””
 return list_to_array(self.head)</p>

<h1 id="usage-build-reversed-list-efficiently">Usage: Build reversed list efficiently</h1>
<p>reverser = StreamingListReverser()</p>

<h1 id="add-values-from-stream">Add values from stream</h1>
<p>for value in [5, 4, 3, 2, 1]:
 reverser.add_value(value)</p>

<h1 id="result-is-already-in-order-1-2-3-4-5">Result is already in order [1, 2, 3, 4, 5]</h1>
<p>print(reverser.get_array()) # [1, 2, 3, 4, 5]
``</p>

<hr />

<h2 id="why-reversing-linked-lists-matters">Why Reversing Linked Lists Matters</h2>

<h3 id="beyond-the-interview">Beyond the Interview</h3>

<p>Linked list reversal is more than just an interview question - it’s a fundamental skill that teaches:</p>

<ol>
  <li><strong>Pointer manipulation</strong> - Understanding how to change references carefully</li>
  <li><strong>In-place algorithms</strong> - Modifying data structures without extra space</li>
  <li><strong>State management</strong> - Tracking multiple pieces of information simultaneously</li>
  <li><strong>Edge case handling</strong> - Dealing with empty lists, single nodes, etc.</li>
</ol>

<h3 id="real-world-applications">Real-World Applications</h3>

<p>``python</p>
<h1 id="application-1-undoredo-functionality">Application 1: Undo/Redo functionality</h1>
<p>class UndoStack:
 “””
 Undo stack using linked list</p>

<p>Reversing helps implement redo after undo
 “””</p>

<p>def <strong>init</strong>(self):
 self.undo_head = None
 self.redo_head = None</p>

<p>def do_action(self, action):
 “"”Perform action and add to undo stack”””
 new_node = ListNode(action)
 new_node.next = self.undo_head
 self.undo_head = new_node</p>

<p># Clear redo stack
 self.redo_head = None</p>

<p>def undo(self):
 “"”Undo last action”””
 if not self.undo_head:
 return None</p>

<p># Move from undo to redo
 action = self.undo_head.val</p>

<p>new_redo = ListNode(action)
 new_redo.next = self.redo_head
 self.redo_head = new_redo</p>

<p>self.undo_head = self.undo_head.next</p>

<p>return action</p>

<p>def redo(self):
 “"”Redo previously undone action”””
 if not self.redo_head:
 return None</p>

<p># Move from redo to undo
 action = self.redo_head.val
 self.do_action(action)
 self.redo_head = self.redo_head.next</p>

<p>return action</p>

<h1 id="application-2-browser-history">Application 2: Browser history</h1>
<p>class BrowserHistory:
 “””
 Browser forward/back navigation using two stacks</p>

<p>Avoids requiring a doubly-linked prev pointer on ListNode
 “””</p>

<p>def <strong>init</strong>(self, homepage):
 self.back_stack = [homepage]
 self.forward_stack = []</p>

<p>def visit(self, url):
 “"”Visit new URL”””
 self.back_stack.append(url)
 self.forward_stack.clear()</p>

<p>def back(self, steps):
 “"”Go back steps pages”””
 while steps &gt; 0 and len(self.back_stack) &gt; 1:
 self.forward_stack.append(self.back_stack.pop())
 steps -= 1
 return self.back_stack[-1]</p>

<p>def forward(self, steps):
 “"”Go forward steps pages”””
 while steps &gt; 0 and self.forward_stack:
 self.back_stack.append(self.forward_stack.pop())
 steps -= 1
 return self.back_stack[-1]
``</p>

<hr />

<h2 id="deep-dive-understanding-pointers">Deep Dive: Understanding Pointers</h2>

<h3 id="visualizing-pointer-changes">Visualizing Pointer Changes</h3>

<p>Let’s understand exactly what happens to pointers during reversal:</p>

<p>``python
def reverseListDetailed(head: ListNode) -&gt; ListNode:
 “””
 Detailed reversal with ASCII visualization
 “””
 if not head:
 print(“Empty list - nothing to reverse”)
 return None</p>

<p>print(“Initial state:”)
 print_list_with_addresses(head)</p>

<p>prev = None
 curr = head
 step = 0</p>

<p>while curr:
 step += 1
 print(f”\n{‘=’<em>60}”)
 print(f”STEP {step}”)
 print(f”{‘=’</em>60}”)</p>

<p># Show current state
 print(f”\nBefore pointer change:”)
 print(f” prev -&gt; {prev.val if prev else ‘None’}”)
 print(f” curr -&gt; {curr.val}”)
 print(f” curr.next -&gt; {curr.next.val if curr.next else ‘None’}”)</p>

<p># Save next
 next_temp = curr.next
 print(f”\n Saved next_temp -&gt; {next_temp.val if next_temp else ‘None’}”)</p>

<p># Reverse pointer
 print(f”\n Reversing: curr.next = prev”)
 print(f” This makes {curr.val} point to {prev.val if prev else ‘None’}”)
 curr.next = prev</p>

<p># Show after reversal
 print(f”\nAfter pointer change:”)
 print(f” {curr.val}.next now points to {curr.next.val if curr.next else ‘None’}”)</p>

<p># Move pointers
 print(f”\n Moving pointers forward:”)
 print(f” prev = curr ({prev.val if prev else ‘None’} -&gt; {curr.val})”)
 print(f” curr = next_temp ({curr.val} -&gt; {next_temp.val if next_temp else ‘None’})”)</p>

<p>prev = curr
 curr = next_temp</p>

<p># Show current reversed portion
 if prev:
 print(f”\n Reversed so far:”)
 print_list_with_addresses(prev, limit=step)</p>

<p>print(f”\n{‘=’<em>60}”)
 print(“FINAL RESULT”)
 print(f”{‘=’</em>60}”)
 print_list_with_addresses(prev)</p>

<p>return prev</p>

<p>def print_list_with_addresses(head, limit=None):
 “"”Print list with pointer addresses for clarity”””
 current = head
 count = 0</p>

<p>while current and (limit is None or count &lt; limit):
 next_addr = id(current.next) if current.next else “None”
 print(f” [{id(current)}] {current.val} -&gt; {next_addr}”)
 current = current.next
 count += 1</p>

<h1 id="example-usage">Example usage</h1>
<p>print(“DETAILED REVERSAL EXAMPLE”)
print(“=”*60)
head = create_linked_list([1, 2, 3])
reversed_head = reverseListDetailed(head)
``</p>

<h3 id="memory-layout-visualization">Memory Layout Visualization</h3>

<p>``python
class VisualListNode:
 “””
 Enhanced ListNode with visualization
 “””</p>

<p>def <strong>init</strong>(self, val=0, next=None):
 self.val = val
 self.next = next
 self.id = id(self) # Memory address</p>

<p>def visualize_memory(self):
 “"”Show memory layout”””
 print(f”┌─────────────────────┐”)
 print(f”│ Node at {self.id:x} │”)
 print(f”├─────────────────────┤”)
 print(f”│ val: {self.val:8d} │”)
 print(f”│ next: {id(self.next):x} │”) if self.next else print(f”│ next: None │”)
 print(f”└─────────────────────┘”)</p>

<p>def visualize_reversal_step_by_step():
 “"”Complete visualization of reversal process”””
 # Create list
 nodes = [VisualListNode(i) for i in [1, 2, 3]]
 for i in range(len(nodes) - 1):
 nodes[i].next = nodes[i + 1]</p>

<p>head = nodes[0]</p>

<p>print(“INITIAL STATE”)
 print(“=”*60)
 for node in nodes:
 node.visualize_memory()
 if node.next:
 print(“ ↓”)</p>

<p># Reverse
 prev = None
 curr = head
 step = 0</p>

<p>while curr:
 step += 1
 print(f”\nSTEP {step}: Reversing node {curr.val}”)
 print(“-“*60)</p>

<p>next_temp = curr.next</p>

<p>print(f”Breaking link: {curr.val} -/-&gt; {next_temp.val if next_temp else ‘None’}”)
 print(f”Creating link: {curr.val} -&gt; {prev.val if prev else ‘None’}”)</p>

<p>curr.next = prev
 prev = curr
 curr = next_temp</p>

<p>print(“\nFINAL STATE”)
 print(“=”*60)
 current = prev
 while current:
 current.visualize_memory()
 if current.next:
 print(“ ↓”)
 current = current.next</p>

<p>visualize_reversal_step_by_step()
``</p>

<hr />

<h2 id="interview-deep-dive">Interview Deep Dive</h2>

<h3 id="common-follow-up-questions">Common Follow-up Questions</h3>

<h4 id="q1-can-you-do-it-without-recursion">Q1: “Can you do it without recursion?”</h4>

<p><strong>Answer:</strong> Yes, using the iterative 3-pointer approach (O(1) space instead of O(n)).</p>

<p>``python</p>
<h1 id="already-covered---iterative-is-preferred-in-interviews">Already covered - iterative is preferred in interviews</h1>
<p>def reverseListIterative(head):
 prev = None
 curr = head</p>

<p>while curr:
 next_temp = curr.next
 curr.next = prev
 prev = curr
 curr = next_temp</p>

<p>return prev
``</p>

<h4 id="q2-what-if-the-list-has-a-cycle">Q2: “What if the list has a cycle?”</h4>

<p>``python
def reverseListWithCycleDetection(head: ListNode) -&gt; ListNode:
 “””
 Reverse list, but first check for cycle</p>

<p>If cycle exists, cannot reverse safely
 “””
 # Detect cycle using Floyd’s algorithm
 if has_cycle(head):
 raise ValueError(“Cannot reverse list with cycle”)</p>

<p># Safe to reverse
 return reverseList(head)</p>

<p>def has_cycle(head: ListNode) -&gt; bool:
 “"”Floyd’s cycle detection”””
 if not head:
 return False</p>

<p>slow = fast = head</p>

<p>while fast and fast.next:
 slow = slow.next
 fast = fast.next.next</p>

<p>if slow == fast:
 return True</p>

<p>return False
``</p>

<h4 id="q3-how-would-you-reverse-only-odd-positioned-nodes">Q3: “How would you reverse only odd-positioned nodes?”</h4>

<p>``python
def reverseOddPositions(head: ListNode) -&gt; ListNode:
 “””
 Reverse nodes at odd positions (1st, 3rd, 5th, …)</p>

<p>Example: 1-&gt;2-&gt;3-&gt;4-&gt;5 becomes 5-&gt;2-&gt;3-&gt;4-&gt;1
 Actually: 1-&gt;2-&gt;3-&gt;4-&gt;5 becomes 3-&gt;2-&gt;1-&gt;4-&gt;5</p>

<p>More precisely: reverse 1st, 3rd, 5th positions in place
 “””
 if not head or not head.next:
 return head</p>

<p># Collect odd-positioned nodes
 odd_nodes = []
 even_nodes = []</p>

<p>current = head
 position = 1</p>

<p>while current:
 if position % 2 == 1:
 odd_nodes.append(current)
 else:
 even_nodes.append(current)</p>

<p>current = current.next
 position += 1</p>

<p># Reverse odd nodes
 odd_nodes.reverse()</p>

<p># Reconstruct list
 dummy = ListNode(0)
 current = dummy</p>

<p>for i in range(max(len(odd_nodes), len(even_nodes))):
 if i &lt; len(odd_nodes):
 current.next = odd_nodes[i]
 current = current.next</p>

<p>if i &lt; len(even_nodes):
 current.next = even_nodes[i]
 current = current.next</p>

<p>current.next = None</p>

<p>return dummy.next</p>

<h1 id="test-8">Test</h1>
<p>head = create_linked_list([1, 2, 3, 4, 5])
result = reverseOddPositions(head)
print(list_to_array(result))
``</p>

<h4 id="q4-can-you-reverse-in-groups-and-connect-them">Q4: “Can you reverse in groups and connect them?”</h4>

<p>``python
def reverseAndConnect(head: ListNode, k: int) -&gt; ListNode:
 “””
 Reverse in groups of k and connect reversed groups</p>

<p>Example: [1,2,3,4,5,6,7,8], k=3
 Result: [3,2,1,6,5,4,8,7]</p>

<p>Detailed walkthrough:</p>
<ol>
  <li>Group 1: [1,2,3] -&gt; [3,2,1]</li>
  <li>Group 2: [4,5,6] -&gt; [6,5,4]</li>
  <li>Group 3: [7,8] -&gt; [8,7] (incomplete group)</li>
</ol>

<p>Connect: [3,2,1] -&gt; [6,5,4] -&gt; [8,7]
 “””
 if not head or k &lt;= 1:
 return head</p>

<p>dummy = ListNode(0)
 dummy.next = head</p>

<p>prev_group_end = dummy</p>

<p>while True:
 # Check if we have k nodes remaining
 kth_node = prev_group_end
 for i in range(k):
 kth_node = kth_node.next
 if not kth_node:
 return dummy.next</p>

<p># Save next group start
 next_group_start = kth_node.next</p>

<p># Reverse current group
 group_start = prev_group_end.next
 prev = next_group_start
 curr = group_start</p>

<p>for _ in range(k):
 next_temp = curr.next
 curr.next = prev
 prev = curr
 curr = next_temp</p>

<p># Connect reversed group
 prev_group_end.next = prev # prev is new group start
 prev_group_end = group_start # group_start is now group end</p>

<p>return dummy.next</p>

<h1 id="test-with-detailed-output">Test with detailed output</h1>
<p>head = create_linked_list([1, 2, 3, 4, 5, 6, 7, 8])
print(“Original:”, list_to_array(head))</p>

<p>result = reverseAndConnect(head, 3)
print(“Reversed in groups of 3:”, list_to_array(result))
``</p>

<hr />

<h2 id="advanced-techniques">Advanced Techniques</h2>

<h3 id="technique-1-reverse-with-constraints">Technique 1: Reverse with Constraints</h3>

<p>``python
def reverseWithMaxValue(head: ListNode, max_val: int) -&gt; ListNode:
 “””
 Reverse only nodes with value &lt;= max_val</p>

<p>Example: [1,5,2,6,3], max_val=4
 Result: [3,5,2,6,1] (reversed 1,2,3)
 “””
 # Collect nodes to reverse
 to_reverse = []
 all_nodes = []</p>

<p>current = head
 while current:
 all_nodes.append((current, current.val))
 if current.val &lt;= max_val:
 to_reverse.append(current)
 current = current.next</p>

<p># Reverse qualified nodes’ values
 values = [node.val for node in to_reverse]
 values.reverse()</p>

<p>for i, node in enumerate(to_reverse):
 node.val = values[i]</p>

<p>return head</p>

<h1 id="test-9">Test</h1>
<p>head = create_linked_list([1, 5, 2, 6, 3])
result = reverseWithMaxValue(head, 4)
print(list_to_array(result)) # [3, 5, 2, 6, 1]
``</p>

<h3 id="technique-2-reverse-using-recursion-with-tail">Technique 2: Reverse Using Recursion with Tail</h3>

<p>``python
def reverseListTailRecursive(head: ListNode) -&gt; ListNode:
 “””
 Tail-recursive reversal</p>

<p>More efficient as can be optimized by compiler
 (though Python doesn’t do tail call optimization)
 “””
 def reverse_helper(curr, prev):
 # Base case
 if not curr:
 return prev</p>

<p># Save next
 next_node = curr.next</p>

<p># Reverse pointer
 curr.next = prev</p>

<p># Tail recursive call
 return reverse_helper(next_node, curr)</p>

<p>return reverse_helper(head, None)
``</p>

<h3 id="technique-3-reverse-maintaining-original-order-information">Technique 3: Reverse Maintaining Original Order Information</h3>

<p>``python
class ReversibleList:
 “””
 Linked list that can be reversed and un-reversed</p>

<p>Maintains original order information
 “””</p>

<p>def <strong>init</strong>(self, values):
 self.original_head = create_linked_list(values)
 self.current_head = self.original_head
 self.is_reversed = False</p>

<p>def reverse(self):
 “"”Reverse the list”””
 self.current_head = reverseList(self.current_head)
 self.is_reversed = not self.is_reversed</p>

<p>def restore_original(self):
 “"”Restore to original order”””
 if self.is_reversed:
 self.reverse()</p>

<p>def get_array(self):
 “"”Get current list as array”””
 return list_to_array(self.current_head)</p>

<p>def get_state(self):
 “"”Get current state”””
 return {
 ‘values’: self.get_array(),
 ‘is_reversed’: self.is_reversed
 }</p>

<h1 id="usage-3">Usage</h1>
<p>rlist = ReversibleList([1, 2, 3, 4, 5])
print(“Original:”, rlist.get_state())</p>

<p>rlist.reverse()
print(“Reversed:”, rlist.get_state())</p>

<p>rlist.restore_original()
print(“Restored:”, rlist.get_state())
``</p>

<hr />

<h2 id="performance-optimization">Performance Optimization</h2>

<h3 id="space-optimized-variations">Space-Optimized Variations</h3>

<p>``python
import sys</p>

<p>def measure_space_complexity():
 “””
 Measure actual space usage of different approaches
 “””
 import tracemalloc</p>

<p># Create large list
 values = list(range(10000))</p>

<p>print(“Space Complexity Analysis”)
 print(“=”*60)</p>

<p># Iterative approach
 tracemalloc.start()
 head = create_linked_list(values)
 before = tracemalloc.get_traced_memory()[0]</p>

<p>reversed_head = reverseList(head)</p>

<p>after = tracemalloc.get_traced_memory()[0]
 tracemalloc.stop()</p>

<p>iterative_space = after - before
 print(f”Iterative: {iterative_space:,} bytes”)</p>

<p># Recursive approach (will use more stack space)
 tracemalloc.start()
 head = create_linked_list(values)
 before = tracemalloc.get_traced_memory()[0]</p>

<p>try:
 reversed_head = reverseListRecursive(head)
 after = tracemalloc.get_traced_memory()[0]
 recursive_space = after - before
 print(f”Recursive: {recursive_space:,} bytes”)
 except RecursionError:
 print(“Recursive: Stack overflow (list too large)”)
 finally:
 tracemalloc.stop()</p>

<p>measure_space_complexity()
``</p>

<h3 id="time-complexity-analysis">Time Complexity Analysis</h3>

<p>``python
def benchmark_reversal_comprehensive():
 “””
 Comprehensive performance benchmark
 “””
 import time
 import matplotlib.pyplot as plt</p>

<p>sizes = [100, 500, 1000, 5000, 10000]
 iterations = 100</p>

<p>results = {
 ‘iterative’: [],
 ‘recursive’: [],
 ‘stack’: []
 }</p>

<p>print(f”{‘Size’:&lt;10} {‘Iterative’:&gt;12} {‘Recursive’:&gt;12} {‘Stack’:&gt;12}”)
 print(“-“ * 50)</p>

<p>for size in sizes:
 # Iterative
 times = []
 for _ in range(iterations):
 head = create_linked_list(list(range(size)))
 start = time.perf_counter()
 reverseList(head)
 times.append(time.perf_counter() - start)</p>

<p>iter_avg = sum(times) / len(times) * 1000 # ms
 results[‘iterative’].append(iter_avg)</p>

<p># Recursive (skip for large sizes)
 if size &lt;= 1000:
 times = []
 for _ in range(iterations):
 head = create_linked_list(list(range(size)))
 start = time.perf_counter()
 reverseListRecursive(head)
 times.append(time.perf_counter() - start)</p>

<p>rec_avg = sum(times) / len(times) * 1000
 results[‘recursive’].append(rec_avg)
 else:
 results[‘recursive’].append(None)</p>

<p># Stack-based
 times = []
 for _ in range(iterations):
 head = create_linked_list(list(range(size)))
 start = time.perf_counter()
 reverseListStack(head)
 times.append(time.perf_counter() - start)</p>

<p>stack_avg = sum(times) / len(times) * 1000
 results[‘stack’].append(stack_avg)</p>

<p>print(f”{size:&lt;10} {iter_avg:&gt;11.4f} {rec_avg if rec_avg else ‘N/A’:&gt;11} {stack_avg:&gt;11.4f}”)</p>

<p>return results</p>

<h1 id="run-benchmark">Run benchmark</h1>
<p>benchmark_results = benchmark_reversal_comprehensive()
``</p>

<hr />

<h2 id="key-takeaways">Key Takeaways</h2>

<p>✅ <strong>Pointer manipulation</strong> - Core skill for linked list problems 
✅ <strong>Iterative O(1) space</strong> - Most efficient approach 
✅ <strong>Recursive elegance</strong> - Beautiful but O(n) space 
✅ <strong>Save next first</strong> - Critical pattern to avoid losing references 
✅ <strong>Many variations</strong> - Reverse k nodes, between positions, in groups 
✅ <strong>Foundation for caching</strong> - Understanding for LRU cache implementation 
✅ <strong>Production considerations</strong> - Validation, cycle detection, error handling</p>

<hr />

<h2 id="related-problems">Related Problems</h2>

<ul>
  <li><strong><a href="https://leetcode.com/problems/reverse-linked-list-ii/">Reverse Linked List II</a></strong> - Reverse between positions</li>
  <li><strong><a href="https://leetcode.com/problems/reverse-nodes-in-k-group/">Reverse Nodes in k-Group</a></strong> - Reverse k nodes at a time</li>
  <li><strong><a href="https://leetcode.com/problems/palindrome-linked-list/">Palindrome Linked List</a></strong> - Uses reversal</li>
  <li><strong><a href="https://leetcode.com/problems/reorder-list/">Reorder List</a></strong> - L0→Ln→L1→Ln-1→…</li>
  <li><strong><a href="https://leetcode.com/problems/swap-nodes-in-pairs/">Swap Nodes in Pairs</a></strong> - Reverse in groups of 2</li>
  <li><strong><a href="https://leetcode.com/problems/add-two-numbers/">Add Two Numbers</a></strong> - Linked list manipulation</li>
  <li><strong><a href="https://leetcode.com/problems/merge-two-sorted-lists/">Merge Two Sorted Lists</a></strong> - Pointer manipulation</li>
</ul>

<hr />

<p><strong>Originally published at:</strong> <a href="https://www.arunbaby.com/dsa/0010-reverse-linked-list/">arunbaby.com/dsa/0010-reverse-linked-list</a></p>

<p><em>If you found this helpful, consider sharing it with others who might benefit.</em></p>


        
      </section>

      <footer class="page__meta">
        
        
  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      <a href="/tags/#iteration" class="page__taxonomy-item p-category" rel="tag">iteration</a><span class="sep">, </span>
    
      <a href="/tags/#linked-list" class="page__taxonomy-item p-category" rel="tag">linked-list</a><span class="sep">, </span>
    
      <a href="/tags/#pointers" class="page__taxonomy-item p-category" rel="tag">pointers</a><span class="sep">, </span>
    
      <a href="/tags/#recursion" class="page__taxonomy-item p-category" rel="tag">recursion</a>
    
    </span>
  </p>




  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      <a href="/categories/#dsa" class="page__taxonomy-item p-category" rel="tag">dsa</a>
    
    </span>
  </p>


        
      </footer>

      <div class="page__related page__related--full">
  <h2 class="page__related-title">Related across topics</h2>
  <style>
    /* Make section span full content width and use 2 equal columns */
    .page__related--full { float: inline-start; width: 100%; padding: 0; }
    .cross-related-grid { display: grid; grid-template-columns: repeat(2, minmax(0, 1fr)); gap: 2rem; }
    @media (max-width: 768px) { .cross-related-grid { grid-template-columns: 1fr; } }
    /* Ensure archive cards stretch nicely in the grid */
    .cross-related-grid .list__item, .cross-related-grid .grid__item { width: auto; float: none; margin: 0; }
  </style>
  <div class="cross-related-grid">
    



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/ml-system-design/0010-caching-strategies/" rel="permalink">Caching Strategies for ML Systems
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          23 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Design efficient caching layers for ML systems to reduce latency, save compute costs, and improve user experience at scale.
</p>
  </article>
</div>




<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/speech-tech/0010-voice-enhancement/" rel="permalink">Voice Enhancement &amp; Noise Reduction
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          17 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Build systems that enhance voice quality by removing noise, improving intelligibility, and optimizing audio for speech applications.
</p>
  </article>
</div>




<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/ai-agents/0010-document-processing/" rel="permalink">Document Processing for Agents
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          5 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">“Garbage In, Garbage Out. The Art of Reading Messy Data.”
</p>
  </article>
</div>

  </div>
</div>

      <section class="page__share">
  <h4 class="page__share-title">Share on</h4>

  <a href="https://twitter.com/intent/tweet?via=arunbaby0&text=Reverse+Linked+List%20https%3A%2F%2Fwww.arunbaby.com%2Fdsa%2F0010-reverse-linked-list%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fwww.arunbaby.com%2Fdsa%2F0010-reverse-linked-list%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://www.arunbaby.com/dsa/0010-reverse-linked-list/" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="/dsa/0009-binary-search/" class="pagination--pager" title="Binary Search">Previous</a>
    
    
      <a href="/dsa/0011-lru-cache/" class="pagination--pager" title="LRU Cache">Next</a>
    
  </nav>


    </div>

    
  </article>

  
  
</div>

      
    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';" role="search">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    
      
        
          <li><a href="https://twitter.com/arunbaby0" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
        
      
        
          <li><a href="https://github.com/arunbaby0" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
        
          <li><a href="https://www.linkedin.com/in/arunbaby0/" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i> LinkedIn</a></li>
        
      
        
          <li><a href="https://scholar.google.co.in/citations?user=6fSYWhkAAAAJ" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-graduation-cap" aria-hidden="true"></i> Google Scholar</a></li>
        
      
    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 1990 - 2143 <a href="https://www.arunbaby.com">Arun Baby</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>




  <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-0JRJPEC9SS"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-0JRJPEC9SS', { 'anonymize_ip': false});
</script>








  </body>
</html>
