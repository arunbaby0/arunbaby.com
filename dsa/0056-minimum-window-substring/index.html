<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.26.2 by Michael Rose
  Copyright 2013-2024 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->

<html lang="en-US" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Minimum Window Substring - Arun Baby</title>
<meta name="description" content="“Minimum Window Substring is the crown jewel of the sliding window pattern—it teaches us how to find the smallest container that satisfies a complex set of requirements.”">


  <meta name="author" content="Arun Baby">
  
  <meta property="article:author" content="Arun Baby">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Arun Baby">
<meta property="og:title" content="Minimum Window Substring">
<meta property="og:url" content="https://www.arunbaby.com/dsa/0056-minimum-window-substring/">


  <meta property="og:description" content="“Minimum Window Substring is the crown jewel of the sliding window pattern—it teaches us how to find the smallest container that satisfies a complex set of requirements.”">



  <meta property="og:image" content="https://www.arunbaby.com/assets/images/profile-photo.png">



  <meta name="twitter:site" content="@arunbaby0">
  <meta name="twitter:title" content="Minimum Window Substring">
  <meta name="twitter:description" content="“Minimum Window Substring is the crown jewel of the sliding window pattern—it teaches us how to find the smallest container that satisfies a complex set of requirements.”">
  <meta name="twitter:url" content="https://www.arunbaby.com/dsa/0056-minimum-window-substring/">

  
    <meta name="twitter:card" content="summary">
    
      <meta name="twitter:image" content="https://www.arunbaby.com/assets/images/profile-photo.png">
    
  

  



  <meta property="article:published_time" content="2025-12-29T15:12:33+05:30">





  

  


<link rel="canonical" href="https://www.arunbaby.com/dsa/0056-minimum-window-substring/">












<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Arun Baby Feed">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
  
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css"></noscript>



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single" dir="ltr">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
           
          <span class="site-subtitle">Arun Baby</span>
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a
                href="/about/"
                
                
              >About</a>
            </li><li class="masthead__menu-item">
              <a
                href="/dsa/"
                
                
              >DSA</a>
            </li><li class="masthead__menu-item">
              <a
                href="/ml-system-design/"
                
                
              >ML Systems</a>
            </li><li class="masthead__menu-item">
              <a
                href="/speech-tech/"
                
                
              >Speech Tech</a>
            </li><li class="masthead__menu-item">
              <a
                href="/ai-agents/"
                
                
              >AI Agents</a>
            </li><li class="masthead__menu-item">
              <a
                href="/publications/"
                
                
              >Publications</a>
            </li><li class="masthead__menu-item">
              <a
                href="/statuses/"
                
                
              >Statuses</a>
            </li><li class="masthead__menu-item">
              <a
                href="/contact/"
                
                
              >Contact</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <i class="fas fa-search"></i>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      





<div id="main" role="main" class="no-author-sidebar">
  
  <div class="sidebar sticky">
  
  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Minimum Window Substring">
    <meta itemprop="description" content="“Minimum Window Substring is the crown jewel of the sliding window pattern—it teaches us how to find the smallest container that satisfies a complex set of requirements.”">
    <meta itemprop="datePublished" content="2025-12-29T15:12:33+05:30">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">
            <a href="https://www.arunbaby.com/dsa/0056-minimum-window-substring/" itemprop="url">Minimum Window Substring
</a>
          </h1>
          

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          19 minute read
        
      </span>
    
  </p>


        </header>
      

      <section class="page__content" itemprop="text">
        
          <aside class="sidebar__right sticky">
            <nav class="toc">
              <header><h4 class="nav__title"><i class="fas fa-file-alt"></i> On this page</h4></header>
              <ul class="toc__menu"><li><a href="#1-introduction-the-power-of-local-constraints">1. Introduction: The Power of Local Constraints</a></li><li><a href="#2-problem-statement-finding-the-smallest-vessel">2. Problem Statement: Finding the Smallest Vessel</a><ul><li><a href="#11-requirements-and-constraints">1.1 Requirements and Constraints</a></li></ul></li><li><a href="#2-understanding-the-problem-the-search-space">2. Understanding the Problem: The Search Space</a><ul><li><a href="#21-why-brute-force-fails">2.1 Why Brute Force Fails</a></li><li><a href="#22-the-sliding-window-intuition">2.2 The Sliding Window Intuition</a></li><li><a href="#23-thematic-link-real-time-personalization-and-adaptation">2.3 Thematic Link: Real-time Personalization and Adaptation</a></li></ul></li><li><a href="#3-high-level-logic-the-two-pointer-dance">3. High-Level Logic: The Two-Pointer Dance</a><ul><li><a href="#31-the-expansion-phase-right-pointer">3.1 The Expansion Phase (Right Pointer)</a></li><li><a href="#32-the-contraction-phase-left-pointer">3.2 The Contraction Phase (Left Pointer)</a></li></ul></li><li><a href="#4-implementation-strategy">4. Implementation Strategy</a><ul><li><a href="#41-ascii-walkthrough">4.1 ASCII Walkthrough</a></li></ul></li><li><a href="#5-implementation-case-study-multiple-optimizations">5. Implementation Case Study: Multiple Optimizations</a><ul><li><a href="#51-standard-sliding-window-interview-ready">5.1 Standard Sliding Window (Interview Ready)</a></li><li><a href="#52-filtered-s-optimization-production-ready">5.2 Filtered S Optimization (Production Ready)</a></li></ul></li><li><a href="#6-implementation-deep-dive-line-by-line">6. Implementation Deep Dive: Line-by-Line</a><ul><li><a href="#71-historical-context-why-sliding-windows">7.1 Historical Context: Why “Sliding Windows”?</a></li></ul></li><li><a href="#8-comparative-performance-memory-layouts">8. Comparative Performance: Memory Layouts</a><ul><li><a href="#81-hash-map-high-flex-high-overhead">8.1 Hash Map (High Flex, High Overhead)</a></li><li><a href="#82-fixed-array-low-flex-zero-overhead">8.2 Fixed Array (Low Flex, Zero Overhead)</a></li></ul></li><li><a href="#9-implementation-deep-dive-line-by-line-complexity">9. Implementation Deep Dive: Line-by-Line Complexity</a></li><li><a href="#9-production-considerations">9. Production Considerations</a><ul><li><a href="#91-memory-constraints-and-streaming">9.1 Memory Constraints and Streaming</a></li><li><a href="#92-thread-safety">9.2 Thread Safety</a></li><li><a href="#93-non-ascii-support">9.3 Non-ASCII Support</a></li></ul></li><li><a href="#10-thematic-link-real-time-personalization">10. Thematic Link: Real-time Personalization</a><ul><li><a href="#101-the-stale-data-problem">10.1 The “Stale Data” Problem</a></li><li><a href="#102-window-shrinking-for-efficiency">10.2 Window Shrinking for Efficiency</a></li></ul></li><li><a href="#15-a-letter-to-the-aspiring-engineer-the-bridge-from-on2-to-on">15. A Letter to the Aspiring Engineer: The Bridge from $O(N^2)$ to $O(N)$</a></li><li><a href="#16-testing-and-verification-strategy">16. Testing and Verification Strategy</a><ul><li><a href="#161-fundamental-cases">16.1 Fundamental Cases</a></li><li><a href="#162-edge-cases">16.2 Edge Cases</a></li><li><a href="#163-constraint-stress-tests">16.3 Constraint Stress Tests</a></li><li><a href="#164-character-set-tests">16.4 Character Set Tests</a></li><li><a href="#165-automated-testing-with-pytest">16.5 Automated Testing with Pytest</a></li></ul></li><li><a href="#17-the-window-within-a-window-pattern-multi-pointer-variant">17. The “Window Within a Window” Pattern: Multi-pointer variant</a></li><li><a href="#18-key-takeaways-and-final-review">18. Key Takeaways and Final Review</a></li><li><a href="#12-advanced-sliding-window-in-distributed-systems">12. Advanced: Sliding Window in Distributed Systems</a><ul><li><a href="#121-the-waterfront-problem">12.1 The Waterfront Problem</a></li><li><a href="#122-implementation-in-sql">12.2 Implementation in SQL</a></li></ul></li><li><a href="#13-strategic-interview-tips">13. Strategic Interview Tips</a></li><li><a href="#14-visualization-step-by-step-state">14. Visualization: Step-by-Step State</a></li></ul>
            </nav>
          </aside>
        
        <p><strong>“Minimum Window Substring is the crown jewel of the sliding window pattern—it teaches us how to find the smallest container that satisfies a complex set of requirements.”</strong></p>

<h2 id="1-introduction-the-power-of-local-constraints">1. Introduction: The Power of Local Constraints</h2>

<p>In the vast landscape of data structures and algorithms, few patterns are as visceral and satisfying as the <strong>Sliding Window</strong>. It mimics how we read text, how we analyze streaming financial data, and how we monitor heart rates in a hospital. We don’t look at the entire history of the world at once; we look at a “window” of time or space, moving it as new data arrives.</p>

<p>The <strong>Minimum Window Substring</strong> problem is the apex of this pattern. It isn’t just a string puzzle; it is a masterclass in managing <strong>invariants</strong> under motion. How do you keep a set of requirements satisfied while constantly changing both boundaries of your search?</p>

<p>Today, we will dismantle this problem, rebuilt it with optimized logic, and connect it to the broader systems of <strong>Real-time Personalization</strong> and <strong>Adaptive Systems</strong>.</p>

<hr />

<h2 id="2-problem-statement-finding-the-smallest-vessel">2. Problem Statement: Finding the Smallest Vessel</h2>

<p>Given two strings <code class="language-plaintext highlighter-rouge">s</code> and <code class="language-plaintext highlighter-rouge">t</code> of lengths <code class="language-plaintext highlighter-rouge">m</code> and <code class="language-plaintext highlighter-rouge">n</code> respectively, return the <strong>minimum window substring</strong> of <code class="language-plaintext highlighter-rouge">s</code> such that every character in <code class="language-plaintext highlighter-rouge">t</code> (including duplicates) is included in the window. If there is no such substring, return the empty string <code class="language-plaintext highlighter-rouge">""</code>.</p>

<p>The test cases will be generated such that the answer is <strong>unique</strong>.</p>

<h3 id="11-requirements-and-constraints">1.1 Requirements and Constraints</h3>
<ul>
  <li><code class="language-plaintext highlighter-rouge">m == s.length</code></li>
  <li><code class="language-plaintext highlighter-rouge">n == t.length</code></li>
  <li><code class="language-plaintext highlighter-rouge">1 &lt;= m, n &lt;= 10^5</code></li>
  <li><code class="language-plaintext highlighter-rouge">s</code> and <code class="language-plaintext highlighter-rouge">t</code> consist of uppercase and lowercase English letters.</li>
</ul>

<p><strong>Example 1</strong></p>
<ul>
  <li>Input: <code class="language-plaintext highlighter-rouge">s = "ADOBECODEBANC"</code>, <code class="language-plaintext highlighter-rouge">t = "ABC"</code></li>
  <li>Output: <code class="language-plaintext highlighter-rouge">"BANC"</code></li>
  <li>Explanation: The minimum window substring “BANC” includes ‘A’, ‘B’, and ‘C’ from string t.</li>
</ul>

<p><strong>Example 2</strong></p>
<ul>
  <li>Input: <code class="language-plaintext highlighter-rouge">s = "a"</code>, <code class="language-plaintext highlighter-rouge">t = "a"</code></li>
  <li>Output: <code class="language-plaintext highlighter-rouge">"a"</code></li>
</ul>

<p><strong>Example 3</strong></p>
<ul>
  <li>Input: <code class="language-plaintext highlighter-rouge">s = "a"</code>, <code class="language-plaintext highlighter-rouge">t = "aa"</code></li>
  <li>Output: <code class="language-plaintext highlighter-rouge">""</code></li>
  <li>Explanation: Both ‘a’s from t must be included in the window. Since the largest window of s only has one ‘a’, return empty.</li>
</ul>

<hr />

<h2 id="2-understanding-the-problem-the-search-space">2. Understanding the Problem: The Search Space</h2>

<h3 id="21-why-brute-force-fails">2.1 Why Brute Force Fails</h3>
<p>A naive approach would be to check every possible substring of <code class="language-plaintext highlighter-rouge">s</code>:</p>
<ol>
  <li>Generate all substrings ($O(N^2)$).</li>
  <li>For each substring, count character frequencies and compare with <code class="language-plaintext highlighter-rouge">t</code>’s frequencies ($O(N)$).</li>
  <li>Total time: $O(N^3)$.
With $N = 10^5$, $N^3 = 10^{15}$, which is computationally impossible for any modern machine.</li>
</ol>

<h3 id="22-the-sliding-window-intuition">2.2 The Sliding Window Intuition</h3>
<p>The “Minimum Window” problem is a classic <strong>constrained optimization</strong> problem. We are searching for an interval <code class="language-plaintext highlighter-rouge">[left, right]</code> that minimizes <code class="language-plaintext highlighter-rouge">right - left + 1</code> subject to the constraint that all characters in <code class="language-plaintext highlighter-rouge">t</code> are present.</p>

<p>The key observation is:</p>
<ul>
  <li>If we find a valid window, can we make it smaller from the left?</li>
  <li>If the window is invalid, we must make it larger from the right.</li>
</ul>

<p>This “contract and expand” movement is the essence of the <strong>Sliding Window</strong> pattern. It reduces the $O(N^2)$ search space of substrings into an $O(N)$ search space of window boundaries.</p>

<h3 id="23-thematic-link-real-time-personalization-and-adaptation">2.3 Thematic Link: Real-time Personalization and Adaptation</h3>
<p>Today’s shared theme across tracks is <strong>Real-time Adaptation and Dynamic Windowing</strong>:</p>
<ul>
  <li><strong>DSA</strong>: We are using a dynamic sliding window to adapt to the constraints of the target string.</li>
  <li><strong>ML System Design</strong>: Real-time Personalization systems use “feature windows” to capture a user’s most recent interests while discarding stale data.</li>
  <li><strong>Speech Tech</strong>: Real-time Voice Adaptation uses moving windows of audio to adapt the model to a speaker’s unique acoustic profile.</li>
  <li><strong>Agents</strong>: Fine-tuning for agent tasks involves isolating the “minimum necessary context” (the window) to achieve a high-quality response.</li>
</ul>

<hr />

<h2 id="3-high-level-logic-the-two-pointer-dance">3. High-Level Logic: The Two-Pointer Dance</h2>

<p>The algorithm uses two pointers, <code class="language-plaintext highlighter-rouge">left</code> and <code class="language-plaintext highlighter-rouge">right</code>, and a frequency map (or hash table) to keep track of characters.</p>

<h3 id="31-the-expansion-phase-right-pointer">3.1 The Expansion Phase (Right Pointer)</h3>
<ol>
  <li>Move the <code class="language-plaintext highlighter-rouge">right</code> pointer to the right, one character at a time.</li>
  <li>Update the frequency of the character at <code class="language-plaintext highlighter-rouge">right</code> in our current window map.</li>
  <li>If this character helps satisfy a requirement in <code class="language-plaintext highlighter-rouge">t</code>, increment a <code class="language-plaintext highlighter-rouge">formed</code> count.</li>
  <li>Continue until <code class="language-plaintext highlighter-rouge">formed</code> equals the number of unique characters in <code class="language-plaintext highlighter-rouge">t</code>.</li>
</ol>

<h3 id="32-the-contraction-phase-left-pointer">3.2 The Contraction Phase (Left Pointer)</h3>
<ol>
  <li>Once the window is valid, try to move the <code class="language-plaintext highlighter-rouge">left</code> pointer to the right.</li>
  <li>For each character removed at <code class="language-plaintext highlighter-rouge">left</code>:
    <ul>
      <li>Check if the window is still valid.</li>
      <li>Update the “minimum window found so far” if the current valid window is smaller.</li>
      <li>If removing the character makes the window invalid, stop contracting and go back to the expansion phase.</li>
    </ul>
  </li>
</ol>

<hr />

<h2 id="4-implementation-strategy">4. Implementation Strategy</h2>

<p>We need two hash maps:</p>
<ol>
  <li><code class="language-plaintext highlighter-rouge">dict_t</code>: Frequencies of characters in the target string <code class="language-plaintext highlighter-rouge">t</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">window_counts</code>: Frequencies of characters in the current window.</li>
</ol>

<p>We also use a <code class="language-plaintext highlighter-rouge">required</code> variable (number of unique chars in <code class="language-plaintext highlighter-rouge">t</code>) and a <code class="language-plaintext highlighter-rouge">formed</code> variable (number of unique chars that met their frequency requirement in the current window).</p>

<h3 id="41-ascii-walkthrough">4.1 ASCII Walkthrough</h3>

<p><code class="language-plaintext highlighter-rouge">s = "ABAACBAB"</code>, <code class="language-plaintext highlighter-rouge">t = "ABC"</code></p>

<ol>
  <li><code class="language-plaintext highlighter-rouge">right</code> moves to ‘A’: <code class="language-plaintext highlighter-rouge">window = {"A": 1}</code>, <code class="language-plaintext highlighter-rouge">formed = 1</code></li>
  <li><code class="language-plaintext highlighter-rouge">right</code> moves to ‘B’: <code class="language-plaintext highlighter-rouge">window = {"A": 1, "B": 1}</code>, <code class="language-plaintext highlighter-rouge">formed = 2</code></li>
  <li><code class="language-plaintext highlighter-rouge">right</code> moves to ‘A’: <code class="language-plaintext highlighter-rouge">window = {"A": 2, "B": 1}</code>, <code class="language-plaintext highlighter-rouge">formed = 2</code></li>
  <li><code class="language-plaintext highlighter-rouge">right</code> moves to ‘A’: <code class="language-plaintext highlighter-rouge">window = {"A": 3, "B": 1}</code>, <code class="language-plaintext highlighter-rouge">formed = 2</code></li>
  <li><code class="language-plaintext highlighter-rouge">right</code> moves to ‘C’: <code class="language-plaintext highlighter-rouge">window = {"A": 3, "B": 1, "C": 1}</code>, <code class="language-plaintext highlighter-rouge">formed = 3</code>. <strong>Window valid!</strong></li>
  <li><code class="language-plaintext highlighter-rouge">left</code> moves from 0 to 1: Remove ‘A’. <code class="language-plaintext highlighter-rouge">window = {"A": 2, "B": 1, "C": 1}</code>, still valid.</li>
  <li><code class="language-plaintext highlighter-rouge">left</code> moves from 1 to 2: Remove ‘B’. <code class="language-plaintext highlighter-rouge">window = {"A": 2, "B": 0, "C": 1}</code>, <strong>invalid</strong>.</li>
  <li>… and so on.</li>
</ol>

<hr />

<h2 id="5-implementation-case-study-multiple-optimizations">5. Implementation Case Study: Multiple Optimizations</h2>

<h3 id="51-standard-sliding-window-interview-ready">5.1 Standard Sliding Window (Interview Ready)</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">collections</span> <span class="kn">import</span> <span class="n">Counter</span>

<span class="k">class</span> <span class="nc">Solution</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">minWindow</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">t</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="sh">"""</span><span class="s">
        Minimum Window Substring using Two Pointers.
        Time: O(S + T)
        Space: O(S + T)
        </span><span class="sh">"""</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">t</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">s</span><span class="p">:</span>
            <span class="k">return</span> <span class="sh">""</span>

        <span class="c1"># Dictionary to store the frequency of characters in t
</span>        <span class="n">dict_t</span> <span class="o">=</span> <span class="nc">Counter</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
        <span class="n">required</span> <span class="o">=</span> <span class="nf">len</span><span class="p">(</span><span class="n">dict_t</span><span class="p">)</span>

        <span class="c1"># Left and Right pointers
</span>        <span class="n">l</span><span class="p">,</span> <span class="n">r</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span>

        <span class="c1"># formed is used to keep track of how many unique characters in t
</span>        <span class="c1"># are present in the current window in its required frequency.
</span>        <span class="n">formed</span> <span class="o">=</span> <span class="mi">0</span>

        <span class="c1"># Dictionary which keeps a count of all the unique characters in the current window.
</span>        <span class="n">window_counts</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="c1"># ans tuple of (window length, left, right)
</span>        <span class="n">ans</span> <span class="o">=</span> <span class="nf">float</span><span class="p">(</span><span class="sh">"</span><span class="s">inf</span><span class="sh">"</span><span class="p">),</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span>

        <span class="k">while</span> <span class="n">r</span> <span class="o">&lt;</span> <span class="nf">len</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
            <span class="c1"># 1. EXPANSION: Add character from the right
</span>            <span class="n">character</span> <span class="o">=</span> <span class="n">s</span><span class="p">[</span><span class="n">r</span><span class="p">]</span>
            <span class="n">window_counts</span><span class="p">[</span><span class="n">character</span><span class="p">]</span> <span class="o">=</span> <span class="n">window_counts</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="n">character</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>

            <span class="c1"># If the frequency of the current character added equals to the
</span>            <span class="c1"># desired count in t then increment the formed count by 1.
</span>            <span class="k">if</span> <span class="n">character</span> <span class="ow">in</span> <span class="n">dict_t</span> <span class="ow">and</span> <span class="n">window_counts</span><span class="p">[</span><span class="n">character</span><span class="p">]</span> <span class="o">==</span> <span class="n">dict_t</span><span class="p">[</span><span class="n">character</span><span class="p">]:</span>
                <span class="n">formed</span> <span class="o">+=</span> <span class="mi">1</span>

            <span class="c1"># 2. CONTRACTION: Try to minimize the window
</span>            <span class="k">while</span> <span class="n">l</span> <span class="o">&lt;=</span> <span class="n">r</span> <span class="ow">and</span> <span class="n">formed</span> <span class="o">==</span> <span class="n">required</span><span class="p">:</span>
                <span class="n">character</span> <span class="o">=</span> <span class="n">s</span><span class="p">[</span><span class="n">l</span><span class="p">]</span>

                <span class="c1"># Save the smallest window until now.
</span>                <span class="k">if</span> <span class="n">r</span> <span class="o">-</span> <span class="n">l</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">&lt;</span> <span class="n">ans</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
                    <span class="n">ans</span> <span class="o">=</span> <span class="p">(</span><span class="n">r</span> <span class="o">-</span> <span class="n">l</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">l</span><span class="p">,</span> <span class="n">r</span><span class="p">)</span>

                <span class="c1"># The character at the position pointed by the `left` pointer 
</span>                <span class="c1"># is no longer a part of the window.
</span>                <span class="n">window_counts</span><span class="p">[</span><span class="n">character</span><span class="p">]</span> <span class="o">-=</span> <span class="mi">1</span>
                <span class="k">if</span> <span class="n">character</span> <span class="ow">in</span> <span class="n">dict_t</span> <span class="ow">and</span> <span class="n">window_counts</span><span class="p">[</span><span class="n">character</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">dict_t</span><span class="p">[</span><span class="n">character</span><span class="p">]:</span>
                    <span class="n">formed</span> <span class="o">-=</span> <span class="mi">1</span>

                <span class="c1"># Move the left pointer ahead, this will help to look for a new window.
</span>                <span class="n">l</span> <span class="o">+=</span> <span class="mi">1</span>    

            <span class="c1"># Keep moving the right pointer
</span>            <span class="n">r</span> <span class="o">+=</span> <span class="mi">1</span>    

        <span class="k">return</span> <span class="sh">""</span> <span class="k">if</span> <span class="n">ans</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="nf">float</span><span class="p">(</span><span class="sh">"</span><span class="s">inf</span><span class="sh">"</span><span class="p">)</span> <span class="k">else</span> <span class="n">s</span><span class="p">[</span><span class="n">ans</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">:</span> <span class="n">ans</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span>
</code></pre></div></div>

<h3 id="52-filtered-s-optimization-production-ready">5.2 Filtered S Optimization (Production Ready)</h3>

<p>If string <code class="language-plaintext highlighter-rouge">s</code> is very long and <code class="language-plaintext highlighter-rouge">t</code> is very short, most characters in <code class="language-plaintext highlighter-rouge">s</code> are “noise”. We can pre-filter <code class="language-plaintext highlighter-rouge">s</code> to contain only characters in <code class="language-plaintext highlighter-rouge">t</code>, along with their original indices.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">class</span> <span class="nc">SolutionFiltered</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">minWindow</span><span class="p">(</span><span class="n">self</span><span class="p">,</span> <span class="n">s</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="n">t</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">t</span> <span class="ow">or</span> <span class="ow">not</span> <span class="n">s</span><span class="p">:</span> <span class="k">return</span> <span class="sh">""</span>

        <span class="n">dict_t</span> <span class="o">=</span> <span class="nc">Counter</span><span class="p">(</span><span class="n">t</span><span class="p">)</span>
        <span class="n">required</span> <span class="o">=</span> <span class="nf">len</span><span class="p">(</span><span class="n">dict_t</span><span class="p">)</span>

        <span class="c1"># Filter s: only keep chars that are in t
</span>        <span class="n">filtered_s</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">char</span> <span class="ow">in</span> <span class="nf">enumerate</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
            <span class="k">if</span> <span class="n">char</span> <span class="ow">in</span> <span class="n">dict_t</span><span class="p">:</span>
                <span class="n">filtered_s</span><span class="p">.</span><span class="nf">append</span><span class="p">((</span><span class="n">i</span><span class="p">,</span> <span class="n">char</span><span class="p">))</span>

        <span class="n">l</span><span class="p">,</span> <span class="n">r</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span>
        <span class="n">formed</span> <span class="o">=</span> <span class="mi">0</span>
        <span class="n">window_counts</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">ans</span> <span class="o">=</span> <span class="nf">float</span><span class="p">(</span><span class="sh">"</span><span class="s">inf</span><span class="sh">"</span><span class="p">),</span> <span class="bp">None</span><span class="p">,</span> <span class="bp">None</span>

        <span class="c1"># Look for the window in the filtered list
</span>        <span class="k">while</span> <span class="n">r</span> <span class="o">&lt;</span> <span class="nf">len</span><span class="p">(</span><span class="n">filtered_s</span><span class="p">):</span>
            <span class="n">character</span> <span class="o">=</span> <span class="n">filtered_s</span><span class="p">[</span><span class="n">r</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>
            <span class="n">window_counts</span><span class="p">[</span><span class="n">character</span><span class="p">]</span> <span class="o">=</span> <span class="n">window_counts</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="n">character</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span>

            <span class="k">if</span> <span class="n">window_counts</span><span class="p">[</span><span class="n">character</span><span class="p">]</span> <span class="o">==</span> <span class="n">dict_t</span><span class="p">[</span><span class="n">character</span><span class="p">]:</span>
                <span class="n">formed</span> <span class="o">+=</span> <span class="mi">1</span>

            <span class="k">while</span> <span class="n">l</span> <span class="o">&lt;=</span> <span class="n">r</span> <span class="ow">and</span> <span class="n">formed</span> <span class="o">==</span> <span class="n">required</span><span class="p">:</span>
                <span class="n">character</span> <span class="o">=</span> <span class="n">filtered_s</span><span class="p">[</span><span class="n">l</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span>

                <span class="c1"># Indices of the window in the original s
</span>                <span class="n">start</span> <span class="o">=</span> <span class="n">filtered_s</span><span class="p">[</span><span class="n">l</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>
                <span class="n">end</span> <span class="o">=</span> <span class="n">filtered_s</span><span class="p">[</span><span class="n">r</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span>

                <span class="k">if</span> <span class="n">end</span> <span class="o">-</span> <span class="n">start</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">&lt;</span> <span class="n">ans</span><span class="p">[</span><span class="mi">0</span><span class="p">]:</span>
                    <span class="n">ans</span> <span class="o">=</span> <span class="p">(</span><span class="n">end</span> <span class="o">-</span> <span class="n">start</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">start</span><span class="p">,</span> <span class="n">end</span><span class="p">)</span>

                <span class="n">window_counts</span><span class="p">[</span><span class="n">character</span><span class="p">]</span> <span class="o">-=</span> <span class="mi">1</span>
                <span class="k">if</span> <span class="n">window_counts</span><span class="p">[</span><span class="n">character</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">dict_t</span><span class="p">[</span><span class="n">character</span><span class="p">]:</span>
                    <span class="n">formed</span> <span class="o">-=</span> <span class="mi">1</span>
                <span class="n">l</span> <span class="o">+=</span> <span class="mi">1</span>
            <span class="n">r</span> <span class="o">+=</span> <span class="mi">1</span>
            
        <span class="k">return</span> <span class="sh">""</span> <span class="k">if</span> <span class="n">ans</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="nf">float</span><span class="p">(</span><span class="sh">"</span><span class="s">inf</span><span class="sh">"</span><span class="p">)</span> <span class="k">else</span> <span class="n">s</span><span class="p">[</span><span class="n">ans</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="p">:</span> <span class="n">ans</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span>
</code></pre></div></div>

<hr />

<h2 id="6-implementation-deep-dive-line-by-line">6. Implementation Deep Dive: Line-by-Line</h2>

<p>Let’s dissect the core logic of the <code class="language-plaintext highlighter-rouge">while l &lt;= r and formed == required</code> block:</p>

<ol>
  <li><code class="language-plaintext highlighter-rouge">character = s[l]</code>: We are looking at the character that is about to be evicted from the window.</li>
  <li><code class="language-plaintext highlighter-rouge">if r - l + 1 &lt; ans[0]</code>: Before we evict, we check if this is the “best” (smallest) valid window we’ve seen. We store the result in a tuple to avoid slicing strings inside the loop (which is an $O(N)$ operation).</li>
  <li><code class="language-plaintext highlighter-rouge">window_counts[character] -= 1</code>: We decrement the count in our current window tracking map.</li>
  <li><code class="language-plaintext highlighter-rouge">if character in dict_t and window_counts[character] &lt; dict_t[character]</code>: This is the <strong>critical decision point</strong>. If the character we just evicted was part of the required set AND its new count is less than what <code class="language-plaintext highlighter-rouge">t</code> needs, the window is no longer valid.</li>
  <li><code class="language-plaintext highlighter-rouge">formed -= 1</code>: We signal that we are missing a requirement. This will break the inner <code class="language-plaintext highlighter-rouge">while</code> loop, and the next iteration of the outer <code class="language-plaintext highlighter-rouge">while</code> loop will expand the <code class="language-plaintext highlighter-rouge">right</code> pointer to look for a replacement.</li>
</ol>

<hr />

<h3 id="71-historical-context-why-sliding-windows">7.1 Historical Context: Why “Sliding Windows”?</h3>

<p>The term “Sliding Window” didn’t originate in coding interviews; it comes from <strong>Network Engineering</strong>. Specifically, it is the core of <strong>TCP (Transmission Control Protocol)</strong>.</p>

<p>In the 1970s and 80s, as the internet was being built, engineers faced a problem: how do you send data over a packet-loss-prone network without overwhelming the receiver?</p>
<ul>
  <li>If you send too much, you drop packets.</li>
  <li>If you send too little, the network is underutilized.</li>
</ul>

<p>The solution was the <strong>Sliding Window Protocol</strong>. The “window” represents the number of packets that have been sent but not yet acknowledged. Just like our algorithm, the TCP window:</p>
<ol>
  <li><strong>Expands</strong> (increases “congestion window”) as long as data is being acknowledged successfully.</li>
  <li><strong>Contracts</strong> (shrinks or resets) when a packet is lost.</li>
</ol>

<p>When you solve a LeetCode problem like Minimum Window Substring, you are using the same mathematical logic that allows Netflix to stream 4K video to your TV without stuttering. You are managing a dynamic range that adapts to live feedback.</p>

<hr />

<h2 id="8-comparative-performance-memory-layouts">8. Comparative Performance: Memory Layouts</h2>

<p>In production systems (especially in C++, Go, or Rust), the choice of how you store your character counts is a “make or break” decision for p99 latency.</p>

<h3 id="81-hash-map-high-flex-high-overhead">8.1 Hash Map (High Flex, High Overhead)</h3>
<p>Python’s <code class="language-plaintext highlighter-rouge">dict</code> is an open-addressed hash table.</p>
<ul>
  <li><strong>Pros</strong>: Handles Unicode, easy to implement.</li>
  <li><strong>Cons</strong>: Every lookup requires calculating a hash. Frequent insertions and deletions trigger re-hashing and memory allocation.</li>
  <li><strong>Latency</strong>: Variable. $O(1)$ average, but $O(N)$ worst-case.</li>
</ul>

<h3 id="82-fixed-array-low-flex-zero-overhead">8.2 Fixed Array (Low Flex, Zero Overhead)</h3>
<p>An <code class="language-plaintext highlighter-rouge">int[256]</code> or <code class="language-plaintext highlighter-rouge">int[128]</code> array.</p>
<ul>
  <li><strong>Pros</strong>: $O(1)$ constant lookup. No hashing. Perfect <strong>Cache Locality</strong> (the entire array likely fits in the L1 cache).</li>
  <li><strong>Cons</strong>: Only works if you know the character range (e.g., ASCII).</li>
  <li><strong>Latency</strong>: Deterministic. This is why high-frequency trading engines use arrays over maps whenever possible.</li>
</ul>

<hr />

<h2 id="9-implementation-deep-dive-line-by-line-complexity">9. Implementation Deep Dive: Line-by-Line Complexity</h2>

<table>
  <thead>
    <tr>
      <th>Metric</th>
      <th>Complexity</th>
      <th>Explanation</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Time</strong></td>
      <td>$O(S + T)$</td>
      <td>Each character in <code class="language-plaintext highlighter-rouge">s</code> is visited at most twice (once by <code class="language-plaintext highlighter-rouge">right</code>, once by <code class="language-plaintext highlighter-rouge">left</code>).</td>
    </tr>
    <tr>
      <td><strong>Space</strong></td>
      <td>$O(S + T)$</td>
      <td>In the worst case, the hash maps store all unique characters in <code class="language-plaintext highlighter-rouge">s</code> and <code class="language-plaintext highlighter-rouge">t</code>.</td>
    </tr>
  </tbody>
</table>

<hr />

<h2 id="9-production-considerations">9. Production Considerations</h2>

<h3 id="91-memory-constraints-and-streaming">9.1 Memory Constraints and Streaming</h3>
<p>What if string <code class="language-plaintext highlighter-rouge">s</code> is too large to fit in memory (e.g., a real-time log file of several Terabytes)?</p>
<ul>
  <li>We cannot use the filtered approach.</li>
  <li>We must process the string in a <strong>streaming</strong> fashion.</li>
  <li>The sliding window pointers <code class="language-plaintext highlighter-rouge">left</code> and <code class="language-plaintext highlighter-rouge">right</code> should represent <strong>byte offsets</strong> in the file rather than indices in a memory-loaded string.</li>
</ul>

<h3 id="92-thread-safety">9.2 Thread Safety</h3>
<p>If multiple threads are analyzing subsets of the data, the sliding window must be isolated.</p>
<ul>
  <li><strong>Problem</strong>: A global frequency map is a bottleneck.</li>
  <li><strong>Solution</strong>: Use <strong>MapReduce</strong>. Divide the string into chunks, find candidates in each chunk, and handle cross-boundary windows using a separate merging step.</li>
</ul>

<h3 id="93-non-ascii-support">9.3 Non-ASCII Support</h3>
<p>Modern strings use <strong>UTF-8</strong>. The assumption that we only have 128 characters breaks down.</p>
<ul>
  <li>In production, use <code class="language-plaintext highlighter-rouge">collections.Counter</code> or a more robust hash-based character frequency map.</li>
  <li>Be careful with multi-byte characters (Unicode grapheme clusters). A single “character” might consist of multiple bytes.</li>
</ul>

<hr />

<h2 id="10-thematic-link-real-time-personalization">10. Thematic Link: Real-time Personalization</h2>

<p>This algorithm is the foundation of <strong>Dynamic Feature Windows</strong> in ML System Design.</p>

<h3 id="101-the-stale-data-problem">10.1 The “Stale Data” Problem</h3>
<p>In personalization, we want to recommend products based on a user’s <em>recent</em> behavior.</p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">s</code>: The stream of all user actions (clicks, views, purchases).</li>
  <li><code class="language-plaintext highlighter-rouge">t</code>: The “critical signals” we need to see before we can make a confident recommendation (e.g., at least one ‘buy’ intent and two ‘category’ clicks).</li>
  <li><strong>Minimum Window</strong>: We want the shortest sequence of recent events that contains all these signals. This represents the unit of contextmost relevant to the user’s current intent.</li>
</ul>

<h3 id="102-window-shrinking-for-efficiency">10.2 Window Shrinking for Efficiency</h3>
<p>Just as we move the <code class="language-plaintext highlighter-rouge">left</code> pointer to shrink the window, real-time systems prune older features to:</p>
<ol>
  <li><strong>Reduce Noise</strong>: Older actions might no longer reflect current interest.</li>
  <li><strong>Save Cost</strong>: Processing a smaller context window reduces token usage in LLM agents and latency in inference pipelines.</li>
</ol>

<hr />

<h2 id="15-a-letter-to-the-aspiring-engineer-the-bridge-from-on2-to-on">15. A Letter to the Aspiring Engineer: The Bridge from $O(N^2)$ to $O(N)$</h2>

<p>Dear Fellow Engineer,</p>

<p>When you first encounter a problem like this, your brain naturally thinks in “Substrings.” You think: <em>“I’ll just try every possible combination and see which one fits.”</em> This is a beautiful, intuitive way of thinking. It’s how we explore the world.</p>

<p>But professional engineering is the art of <strong>Recognizing Redundant Work</strong>.</p>

<p>Inside an $O(N^2)$ search, you are asking the same questions thousands of times:</p>
<ul>
  <li><em>“Does this window have an ‘A’?”</em></li>
  <li><em>“Is it still valid after I move the end by one pixel?”</em></li>
</ul>

<p>The Sliding Window is your way of saying: <em>“I remember what I saw.”</em></p>

<p>When you move the <code class="language-plaintext highlighter-rouge">right</code> pointer, you don’t re-scan the window. You just add one number. When you move the <code class="language-plaintext highlighter-rouge">left</code> pointer, you just subtract one. This <strong>Incremental Update</strong> is the secret to all high-performance software.</p>

<p>Whether you are building a database engine, a game physics loop, or a speech-to-text model, look for the “redundant scan.” Once you find it, you’ll find your $O(N)$ solution.</p>

<p>Keep building,
Antigravity.</p>

<hr />

<h2 id="16-testing-and-verification-strategy">16. Testing and Verification Strategy</h2>

<p>Never trust a “Hard” algorithm without a comprehensive test suite. For Minimum Window Substring, you should test at least these five categories:</p>

<h3 id="161-fundamental-cases">16.1 Fundamental Cases</h3>
<ul>
  <li>Standard match: <code class="language-plaintext highlighter-rouge">s="ABAACBAB", t="ABC"</code> -&gt; <code class="language-plaintext highlighter-rouge">"BANC"</code></li>
  <li>Entire string is the match: <code class="language-plaintext highlighter-rouge">s="ABC", t="ABC"</code> -&gt; <code class="language-plaintext highlighter-rouge">"ABC"</code></li>
</ul>

<h3 id="162-edge-cases">16.2 Edge Cases</h3>
<ul>
  <li>Single character match: <code class="language-plaintext highlighter-rouge">s="A", t="A"</code> -&gt; <code class="language-plaintext highlighter-rouge">"A"</code></li>
  <li>No possible match: <code class="language-plaintext highlighter-rouge">s="A", t="B"</code> -&gt; <code class="language-plaintext highlighter-rouge">""</code></li>
  <li><code class="language-plaintext highlighter-rouge">t</code> is much longer than <code class="language-plaintext highlighter-rouge">s</code>: <code class="language-plaintext highlighter-rouge">s="ABC", t="ABCDEF"</code> -&gt; <code class="language-plaintext highlighter-rouge">""</code></li>
</ul>

<h3 id="163-constraint-stress-tests">16.3 Constraint Stress Tests</h3>
<ul>
  <li>All characters are the same: <code class="language-plaintext highlighter-rouge">s="AAAAAA", t="AA"</code> -&gt; <code class="language-plaintext highlighter-rouge">"AA"</code></li>
  <li>Match is at the very end: <code class="language-plaintext highlighter-rouge">s="XXXXABC", t="ABC"</code> -&gt; <code class="language-plaintext highlighter-rouge">"ABC"</code></li>
  <li>Match is at the very beginning: <code class="language-plaintext highlighter-rouge">s="ABCXXXX", t="ABC"</code> -&gt; <code class="language-plaintext highlighter-rouge">"ABC"</code></li>
</ul>

<h3 id="164-character-set-tests">16.4 Character Set Tests</h3>
<ul>
  <li>Case Sensitivity: <code class="language-plaintext highlighter-rouge">s="aa", t="AA"</code> -&gt; <code class="language-plaintext highlighter-rouge">""</code></li>
  <li>Symbols and Numbers: <code class="language-plaintext highlighter-rouge">s="123!@#456", t="2!6"</code> -&gt; <code class="language-plaintext highlighter-rouge">"2!@#456"</code></li>
</ul>

<h3 id="165-automated-testing-with-pytest">16.5 Automated Testing with Pytest</h3>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">pytest</span>

<span class="k">def</span> <span class="nf">test_min_window</span><span class="p">():</span>
    <span class="n">sol</span> <span class="o">=</span> <span class="nc">Solution</span><span class="p">()</span>
    <span class="c1"># Standard
</span>    <span class="k">assert</span> <span class="n">sol</span><span class="p">.</span><span class="nf">minWindow</span><span class="p">(</span><span class="sh">"</span><span class="s">ADOBECODEBANC</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">ABC</span><span class="sh">"</span><span class="p">)</span> <span class="o">==</span> <span class="sh">"</span><span class="s">BANC</span><span class="sh">"</span>
    <span class="c1"># Identity
</span>    <span class="k">assert</span> <span class="n">sol</span><span class="p">.</span><span class="nf">minWindow</span><span class="p">(</span><span class="sh">"</span><span class="s">a</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">a</span><span class="sh">"</span><span class="p">)</span> <span class="o">==</span> <span class="sh">"</span><span class="s">a</span><span class="sh">"</span>
    <span class="c1"># Impossible
</span>    <span class="k">assert</span> <span class="n">sol</span><span class="p">.</span><span class="nf">minWindow</span><span class="p">(</span><span class="sh">"</span><span class="s">a</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">aa</span><span class="sh">"</span><span class="p">)</span> <span class="o">==</span> <span class="sh">""</span>
    <span class="c1"># Duplicate letters
</span>    <span class="k">assert</span> <span class="n">sol</span><span class="p">.</span><span class="nf">minWindow</span><span class="p">(</span><span class="sh">"</span><span class="s">aaflslflfas</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">aa</span><span class="sh">"</span><span class="p">)</span> <span class="o">==</span> <span class="sh">"</span><span class="s">aa</span><span class="sh">"</span>
    <span class="c1"># Letters at edges
</span>    <span class="k">assert</span> <span class="n">sol</span><span class="p">.</span><span class="nf">minWindow</span><span class="p">(</span><span class="sh">"</span><span class="s">ABCDEF</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">F</span><span class="sh">"</span><span class="p">)</span> <span class="o">==</span> <span class="sh">"</span><span class="s">F</span><span class="sh">"</span>
    <span class="k">assert</span> <span class="n">sol</span><span class="p">.</span><span class="nf">minWindow</span><span class="p">(</span><span class="sh">"</span><span class="s">ABCDEF</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">A</span><span class="sh">"</span><span class="p">)</span> <span class="o">==</span> <span class="sh">"</span><span class="s">A</span><span class="sh">"</span>

<span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="sh">"</span><span class="s">__main__</span><span class="sh">"</span><span class="p">:</span>
    <span class="n">pytest</span><span class="p">.</span><span class="nf">main</span><span class="p">([</span><span class="n">__file__</span><span class="p">])</span>
</code></pre></div></div>

<hr />

<h2 id="17-the-window-within-a-window-pattern-multi-pointer-variant">17. The “Window Within a Window” Pattern: Multi-pointer variant</h2>

<p>Advanced interviewers might ask: <em>“Can you solve this if you can only look at the first 1000 characters at a time due to memory limits?”</em></p>

<p>This leads to the <strong>Chunked Sliding Window</strong>:</p>
<ol>
  <li>Load 1000 chars.</li>
  <li>Run the algorithm.</li>
  <li>If no solution, keep the last <code class="language-plaintext highlighter-rouge">length(t)</code> characters (because a window could bridge the chunk boundary).</li>
  <li>Load the next 1000 chars.</li>
  <li>Merge.</li>
</ol>

<p>This “Buffered Sliding Window” is exactly how <strong>Acoustic Pattern Matching</strong> (Speech Track) works when processing streaming live audio. We don’t wait for the user to stop talking; we process chunks and maintain “state” across the boundaries.</p>

<hr />

<h2 id="18-key-takeaways-and-final-review">18. Key Takeaways and Final Review</h2>

<ol>
  <li><strong>State over Stuttering</strong>: Use a numeric <code class="language-plaintext highlighter-rouge">formed</code> variable or a count of requirements to avoid $O(26)$ or $O(K)$ comparisons on every pointer movement.</li>
  <li><strong>Expansion then Exhaustion</strong>: The right pointer finds a “candidate” (Validity); the left pointer “optimizes” (Minimality).</li>
  <li><strong>Indices over Slices</strong>: Store indices <code class="language-plaintext highlighter-rouge">(start, end)</code> until the very last line. Slicing strings <code class="language-plaintext highlighter-rouge">s[l:r]</code> inside the loop creates $O(N^2)$ time and space overhead.</li>
  <li><strong>Data Contract</strong>: Always clarify if the character set is restricted (ASCII) or open (UTF-8).</li>
</ol>

<hr />

<p><strong>Originally published at:</strong> <a href="https://www.arunbaby.com/dsa/0056-minimum-window-substring/">arunbaby.com/dsa/0056-minimum-window-substring</a></p>

<p><em>If you found this helpful, consider sharing it with others who might benefit.</em></p>

<hr />

<h2 id="12-advanced-sliding-window-in-distributed-systems">12. Advanced: Sliding Window in Distributed Systems</h2>

<p>In high-throughput systems like Kafka Streams or Flink, “Minimum Window Substring” is a variant of <strong>Session Windowing</strong>.</p>

<h3 id="121-the-waterfront-problem">12.1 The Waterfront Problem</h3>
<p>In a distributed system, events arrive <strong>out of order</strong>.</p>
<ul>
  <li>How do we calculate a sliding window when <code class="language-plaintext highlighter-rouge">right</code> pointer events arrive before <code class="language-plaintext highlighter-rouge">left</code> pointer events?</li>
  <li><strong>Solution</strong>: Use <strong>Event-Time Processing</strong> and <strong>Watermarks</strong>. We buffer events and only “slide” the window once we are confident that no more late-arriving data will affect the current calculation.</li>
</ul>

<h3 id="122-implementation-in-sql">12.2 Implementation in SQL</h3>
<p>Many developers are surprised that you can implement this logic in SQL using <strong>Window Functions</strong>:</p>
<div class="language-sql highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">SELECT</span> <span class="n">user_id</span><span class="p">,</span> 
       <span class="k">MIN</span><span class="p">(</span><span class="n">window_length</span><span class="p">)</span> <span class="n">OVER</span> <span class="p">(</span><span class="k">PARTITION</span> <span class="k">BY</span> <span class="n">user_id</span><span class="p">)</span>
<span class="k">FROM</span> <span class="p">(</span>
  <span class="k">SELECT</span> <span class="n">user_id</span><span class="p">,</span>
         <span class="n">TIMESTAMP_DIFF</span><span class="p">(</span><span class="k">current_time</span><span class="p">,</span> <span class="n">first_time</span><span class="p">,</span> <span class="k">SECOND</span><span class="p">)</span> <span class="k">as</span> <span class="n">window_length</span>
  <span class="k">FROM</span> <span class="n">user_actions</span>
  <span class="c1">-- Complex joining logic to check "presence of required tags"</span>
<span class="p">)</span>
</code></pre></div></div>

<hr />

<h2 id="13-strategic-interview-tips">13. Strategic Interview Tips</h2>

<ol>
  <li><strong>Ask about the character set</strong>: “Is it ASCII? Is it Unicode?”</li>
  <li><strong>Ask about duplicates</strong>: “Do the counts in <code class="language-plaintext highlighter-rouge">t</code> matter, or just the presence?” (In our problem, counts matter).</li>
  <li><strong>Start with the high-level logic</strong>: Explain the right pointer’s role (find validity) and the left pointer’s role (optimize).</li>
  <li><strong>Manage the Edge Cases</strong>:
    <ul>
      <li><code class="language-plaintext highlighter-rouge">t</code> is empty.</li>
      <li><code class="language-plaintext highlighter-rouge">s</code> is shorter than <code class="language-plaintext highlighter-rouge">t</code>.</li>
      <li>No solution exists.</li>
    </ul>
  </li>
</ol>

<hr />

<h2 id="14-visualization-step-by-step-state">14. Visualization: Step-by-Step State</h2>

<p>Let’s trace <code class="language-plaintext highlighter-rouge">s="ADOBECODEBANC", t="ABC"</code></p>

<table>
  <thead>
    <tr>
      <th style="text-align: center">Right</th>
      <th style="text-align: center">Char</th>
      <th style="text-align: left">Window Counts</th>
      <th style="text-align: center">Formed</th>
      <th style="text-align: center">Valid?</th>
      <th style="text-align: left">Action</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: center">0</td>
      <td style="text-align: center">A</td>
      <td style="text-align: left">{A:1}</td>
      <td style="text-align: center">1</td>
      <td style="text-align: center">No</td>
      <td style="text-align: left">Move R</td>
    </tr>
    <tr>
      <td style="text-align: center">1</td>
      <td style="text-align: center">D</td>
      <td style="text-align: left">{A:1, D:1}</td>
      <td style="text-align: center">1</td>
      <td style="text-align: center">No</td>
      <td style="text-align: left">Move R</td>
    </tr>
    <tr>
      <td style="text-align: center">2</td>
      <td style="text-align: center">O</td>
      <td style="text-align: left">{A:1, D:1, O:1}</td>
      <td style="text-align: center">1</td>
      <td style="text-align: center">No</td>
      <td style="text-align: left">Move R</td>
    </tr>
    <tr>
      <td style="text-align: center">3</td>
      <td style="text-align: center">B</td>
      <td style="text-align: left">{A:1, D:1, O:1, B:1}</td>
      <td style="text-align: center">2</td>
      <td style="text-align: center">No</td>
      <td style="text-align: left">Move R</td>
    </tr>
    <tr>
      <td style="text-align: center">4</td>
      <td style="text-align: center">E</td>
      <td style="text-align: left">… B:1, E:1</td>
      <td style="text-align: center">2</td>
      <td style="text-align: center">No</td>
      <td style="text-align: left">Move R</td>
    </tr>
    <tr>
      <td style="text-align: center">5</td>
      <td style="text-align: center">C</td>
      <td style="text-align: left">… B:1, C:1</td>
      <td style="text-align: center">3</td>
      <td style="text-align: center"><strong>YES</strong></td>
      <td style="text-align: left">Shrink L</td>
    </tr>
    <tr>
      <td style="text-align: center">…</td>
      <td style="text-align: center">…</td>
      <td style="text-align: left">…</td>
      <td style="text-align: center">3</td>
      <td style="text-align: center">YES</td>
      <td style="text-align: left"><strong>Found “ADOBEC”</strong></td>
    </tr>
    <tr>
      <td style="text-align: center">12</td>
      <td style="text-align: center">C</td>
      <td style="text-align: left">{A:1, B:1, C:1, …}</td>
      <td style="text-align: center">3</td>
      <td style="text-align: center">YES</td>
      <td style="text-align: left"><strong>Found “BANC”</strong></td>
    </tr>
  </tbody>
</table>

<p>“BANC” is length 4, while “ADOBEC” is length 6 and “CODEBA” is length 6. Thus, “BANC” is the winner.</p>

        
      </section>

      <footer class="page__meta">
        
        
  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      <a href="/tags/#hard" class="page__taxonomy-item p-category" rel="tag">hard</a><span class="sep">, </span>
    
      <a href="/tags/#hash-table" class="page__taxonomy-item p-category" rel="tag">hash-table</a><span class="sep">, </span>
    
      <a href="/tags/#optimization" class="page__taxonomy-item p-category" rel="tag">optimization</a><span class="sep">, </span>
    
      <a href="/tags/#sliding-window" class="page__taxonomy-item p-category" rel="tag">sliding-window</a><span class="sep">, </span>
    
      <a href="/tags/#string" class="page__taxonomy-item p-category" rel="tag">string</a>
    
    </span>
  </p>




  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      <a href="/categories/#dsa" class="page__taxonomy-item p-category" rel="tag">dsa</a>
    
    </span>
  </p>


        
      </footer>

      <div class="page__related page__related--full">
  <h2 class="page__related-title">Related across topics</h2>
  <style>
    /* Make section span full content width and use 2 equal columns */
    .page__related--full { float: inline-start; width: 100%; padding: 0; }
    .cross-related-grid { display: grid; grid-template-columns: repeat(2, minmax(0, 1fr)); gap: 2rem; }
    @media (max-width: 768px) { .cross-related-grid { grid-template-columns: 1fr; } }
    /* Ensure archive cards stretch nicely in the grid */
    .cross-related-grid .list__item, .cross-related-grid .grid__item { width: auto; float: none; margin: 0; }
  </style>
  <div class="cross-related-grid">
    



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/ml-system-design/0056-real-time-personalization/" rel="permalink">Real-time Personalization
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          19 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">“Generalization is the goal of ML, but Personalization is the goal of Products. Real-time personalization is about capturing the intent of the ‘now’.”
</p>
  </article>
</div>




<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/speech-tech/0056-real-time-voice-adaptation/" rel="permalink">Real-time Voice Adaptation
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          7 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">“A speech model that doesn’t adapt is like a listener who doesn’t pay attention to who is speaking. Voice adaptation is about moving from ‘Universal Speech’ ...</p>
  </article>
</div>




<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/ai-agents/0056-fine-tuning-for-agent-tasks/" rel="permalink">Fine-Tuning for Agent Tasks
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          8 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">"Fine-tuning is the bridge between a general-purpose reasoner and a specialized autonomous agent—it’s about teaching the model not just what to know, but how...</p>
  </article>
</div>

  </div>
</div>

      <section class="page__share">
  <h4 class="page__share-title">Share on</h4>

  <a href="https://twitter.com/intent/tweet?via=arunbaby0&text=Minimum+Window+Substring%20https%3A%2F%2Fwww.arunbaby.com%2Fdsa%2F0056-minimum-window-substring%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fwww.arunbaby.com%2Fdsa%2F0056-minimum-window-substring%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://www.arunbaby.com/dsa/0056-minimum-window-substring/" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="/dsa/0055-n-queens/" class="pagination--pager" title="N-Queens">Previous</a>
    
    
      <a href="/dsa/0057-largest-rectangle-in-histogram/" class="pagination--pager" title="Largest Rectangle in Histogram">Next</a>
    
  </nav>


    </div>

    
  </article>

  
  
</div>

      
    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';" role="search">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    
      
        
          <li><a href="https://twitter.com/arunbaby0" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
        
      
        
          <li><a href="https://github.com/arunbaby0" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
        
          <li><a href="https://www.linkedin.com/in/arunbaby0/" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i> LinkedIn</a></li>
        
      
        
          <li><a href="https://scholar.google.co.in/citations?user=6fSYWhkAAAAJ" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-graduation-cap" aria-hidden="true"></i> Google Scholar</a></li>
        
      
    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 1990 - 2143 <a href="https://www.arunbaby.com">Arun Baby</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>




  <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-0JRJPEC9SS"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-0JRJPEC9SS', { 'anonymize_ip': false});
</script>








  </body>
</html>
