<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.26.2 by Michael Rose
  Copyright 2013-2024 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->

<html lang="en-US" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Container With Most Water - Arun Baby</title>
<meta name="description" content="Master the two-pointer greedy technique that powers resource optimization in production ML systems.">


  <meta name="author" content="Arun Baby">
  
  <meta property="article:author" content="Arun Baby">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Arun Baby">
<meta property="og:title" content="Container With Most Water">
<meta property="og:url" content="https://www.arunbaby.com/dsa/0013-container-with-most-water/">


  <meta property="og:description" content="Master the two-pointer greedy technique that powers resource optimization in production ML systems.">



  <meta property="og:image" content="https://www.arunbaby.com/assets/images/profile-photo.png">



  <meta name="twitter:site" content="@arunbaby0">
  <meta name="twitter:title" content="Container With Most Water">
  <meta name="twitter:description" content="Master the two-pointer greedy technique that powers resource optimization in production ML systems.">
  <meta name="twitter:url" content="https://www.arunbaby.com/dsa/0013-container-with-most-water/">

  
    <meta name="twitter:card" content="summary">
    
      <meta name="twitter:image" content="https://www.arunbaby.com/assets/images/profile-photo.png">
    
  

  



  <meta property="article:published_time" content="2025-12-31T09:51:02+05:30">





  

  


<link rel="canonical" href="https://www.arunbaby.com/dsa/0013-container-with-most-water/">












<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Arun Baby Feed">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
  
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css"></noscript>



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single" dir="ltr">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
           
          <span class="site-subtitle">Arun Baby</span>
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a
                href="/about/"
                
                
              >About</a>
            </li><li class="masthead__menu-item">
              <a
                href="/dsa/"
                
                
              >DSA</a>
            </li><li class="masthead__menu-item">
              <a
                href="/ml-system-design/"
                
                
              >ML Systems</a>
            </li><li class="masthead__menu-item">
              <a
                href="/speech-tech/"
                
                
              >Speech Tech</a>
            </li><li class="masthead__menu-item">
              <a
                href="/ai-agents/"
                
                
              >AI Agents</a>
            </li><li class="masthead__menu-item">
              <a
                href="/publications/"
                
                
              >Publications</a>
            </li><li class="masthead__menu-item">
              <a
                href="/statuses/"
                
                
              >Statuses</a>
            </li><li class="masthead__menu-item">
              <a
                href="/contact/"
                
                
              >Contact</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <i class="fas fa-search"></i>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      





<div id="main" role="main" class="no-author-sidebar">
  
  <div class="sidebar sticky">
  
  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Container With Most Water">
    <meta itemprop="description" content="Master the two-pointer greedy technique that powers resource optimization in production ML systems.">
    <meta itemprop="datePublished" content="2025-12-31T09:51:02+05:30">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">
            <a href="https://www.arunbaby.com/dsa/0013-container-with-most-water/" itemprop="url">Container With Most Water
</a>
          </h1>
          

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          24 minute read
        
      </span>
    
  </p>


        </header>
      

      <section class="page__content" itemprop="text">
        
          <aside class="sidebar__right sticky">
            <nav class="toc">
              <header><h4 class="nav__title"><i class="fas fa-file-alt"></i> On this page</h4></header>
              <ul class="toc__menu"><li><a href="#problem-statement">Problem Statement</a><ul><li><a href="#examples">Examples</a></li><li><a href="#constraints">Constraints</a></li></ul></li><li><a href="#understanding-the-problem">Understanding the Problem</a><ul><li><a href="#core-insight">Core Insight</a></li><li><a href="#why-this-problem-matters">Why This Problem Matters</a></li></ul></li><li><a href="#approach-1-brute-force">Approach 1: Brute Force</a><ul><li><a href="#intuition">Intuition</a></li><li><a href="#implementation">Implementation</a></li><li><a href="#test-the-brute-force">Test the Brute Force</a></li><li><a href="#complexity-analysis">Complexity Analysis</a></li></ul></li><li><a href="#approach-2-two-pointer-greedy-optimal">Approach 2: Two-Pointer Greedy (Optimal)</a><ul><li><a href="#the-key-insight">The Key Insight</a></li><li><a href="#why-does-this-work">Why Does This Work?</a></li><li><a href="#implementation-1">Implementation</a></li><li><a href="#step-by-step-visualization">Step-by-Step Visualization</a></li><li><a href="#optimized-implementation-with-early-termination">Optimized Implementation with Early Termination</a></li></ul></li><li><a href="#implementation-production-grade-solution">Implementation: Production-Grade Solution</a></li><li><a href="#testing">Testing</a><ul><li><a href="#comprehensive-test-suite">Comprehensive Test Suite</a></li></ul></li><li><a href="#complexity-analysis-1">Complexity Analysis</a><ul><li><a href="#two-pointer-solution-optimal">Two-Pointer Solution (Optimal)</a></li><li><a href="#brute-force-solution">Brute Force Solution</a></li><li><a href="#comparison">Comparison</a></li></ul></li><li><a href="#production-considerations">Production Considerations</a><ul><li><a href="#1-input-validation">1. Input Validation</a></li><li><a href="#2-monitoring-and-metrics">2. Monitoring and Metrics</a></li><li><a href="#3-handling-real-world-data">3. Handling Real-World Data</a></li><li><a href="#4-error-handling-and-resilience">4. Error Handling and Resilience</a></li></ul></li><li><a href="#connections-to-ml-systems">Connections to ML Systems</a><ul><li><a href="#1-resource-allocation-for-ml">1. Resource Allocation for ML</a></li><li><a href="#2-batch-size-optimization">2. Batch Size Optimization</a></li><li><a href="#3-model-serving">3. Model Serving</a></li><li><a href="#4-pipeline-optimization">4. Pipeline Optimization</a></li><li><a href="#key-parallels">Key Parallels</a></li></ul></li><li><a href="#interview-strategy">Interview Strategy</a><ul><li><a href="#how-to-approach-this-in-an-interview">How to Approach This in an Interview</a></li><li><a href="#common-mistakes-to-avoid">Common Mistakes to Avoid</a></li><li><a href="#follow-up-questions">Follow-up Questions</a></li><li><a href="#time-allocation-45-minute-interview">Time Allocation (45-minute interview)</a></li></ul></li><li><a href="#key-takeaways">Key Takeaways</a><ul><li><a href="#mental-model">Mental Model</a></li></ul></li></ul>
            </nav>
          </aside>
        
        <p><strong>Master the two-pointer greedy technique that powers resource optimization in production ML systems.</strong></p>

<h2 id="problem-statement">Problem Statement</h2>

<p>You are given an integer array <code class="language-plaintext highlighter-rouge">height</code> of length <code class="language-plaintext highlighter-rouge">n</code>. There are <code class="language-plaintext highlighter-rouge">n</code> vertical lines drawn such that the two endpoints of the <code class="language-plaintext highlighter-rouge">i</code>-th line are <code class="language-plaintext highlighter-rouge">(i, 0)</code> and <code class="language-plaintext highlighter-rouge">(i, height[i])</code>.</p>

<p>Find two lines that together with the x-axis form a container, such that the container contains the most water.</p>

<p>Return the maximum amount of water a container can store.</p>

<p><strong>Note:</strong> You may not slant the container.</p>

<h3 id="examples">Examples</h3>

<p><strong>Example 1:</strong>
<code class="language-plaintext highlighter-rouge">
Input: height = [1,8,6,2,5,4,8,3,7]
Output: 49
Explanation: The vertical lines are represented by [1,8,6,2,5,4,8,3,7]. 
In this case, the max area of water (blue section) the container can contain is 49.
</code></p>

<p><strong>Example 2:</strong>
<code class="language-plaintext highlighter-rouge">
Input: height = [1,1]
Output: 1
</code></p>

<p><strong>Example 3:</strong>
<code class="language-plaintext highlighter-rouge">
Input: height = [4,3,2,1,4]
Output: 16
</code></p>

<h3 id="constraints">Constraints</h3>

<ul>
  <li><code class="language-plaintext highlighter-rouge">n == height.length</code></li>
  <li><code class="language-plaintext highlighter-rouge">2 &lt;= n &lt;= 10^5</code></li>
  <li><code class="language-plaintext highlighter-rouge">0 &lt;= height[i] &lt;= 10^4</code></li>
</ul>

<h2 id="understanding-the-problem">Understanding the Problem</h2>

<p>At first glance, this seems like a simple geometry problem, but it’s actually teaching us a profound lesson about <strong>greedy optimization</strong> that applies directly to resource allocation in production systems.</p>

<h3 id="core-insight">Core Insight</h3>

<p>The water container is defined by:</p>
<ul>
  <li><strong>Width:</strong> Distance between two lines (indices) <code class="language-plaintext highlighter-rouge">j - i</code></li>
  <li><strong>Height:</strong> The minimum of the two heights <code class="language-plaintext highlighter-rouge">min(height[i], height[j])</code></li>
  <li><strong>Area:</strong> <code class="language-plaintext highlighter-rouge">width × height = (j - i) × min(height[i], height[j])</code></li>
</ul>

<p>The key realization: <strong>The shorter line always limits the water capacity</strong>. This is analogous to:</p>
<ul>
  <li><strong>In ML systems:</strong> The slowest component determines throughput</li>
  <li><strong>In speech processing:</strong> The weakest model in the pipeline limits accuracy</li>
  <li><strong>In resource allocation:</strong> The bottleneck resource constrains performance</li>
</ul>

<h3 id="why-this-problem-matters">Why This Problem Matters</h3>

<ol>
  <li><strong>Greedy decision-making:</strong> When to move which pointer?</li>
  <li><strong>Optimization under constraints:</strong> Maximize area with competing factors (width vs height)</li>
  <li><strong>Two-pointer technique:</strong> A fundamental pattern for O(N) solutions</li>
  <li><strong>Real-world modeling:</strong> Resource allocation, capacity planning, bottleneck analysis</li>
</ol>

<h2 id="approach-1-brute-force">Approach 1: Brute Force</h2>

<h3 id="intuition">Intuition</h3>

<p>Try every possible pair of lines and calculate the area for each. Keep track of the maximum.</p>

<h3 id="implementation">Implementation</h3>

<p>``python
def maxArea_bruteforce(height: list[int]) -&gt; int:
 “””
 Brute force solution: try all pairs.</p>

<p>Time: O(N^2) - nested loops
 Space: O(1) - only storing max_area</p>

<p>Why this approach?</p>
<ul>
  <li>Guarantees finding the optimal solution</li>
  <li>Easy to understand and implement</li>
  <li>Good starting point in interviews</li>
</ul>

<p>What’s the problem?</p>
<ul>
  <li>Too slow for large inputs (n up to 10^5)</li>
  <li>Wastes computation on obviously suboptimal pairs
 “””
 n = len(height)
 max_area = 0</li>
</ul>

<p># Try every pair (i, j) where i &lt; j
 for i in range(n):
 for j in range(i + 1, n):
 # Calculate area for this pair
 width = j - i
 h = min(height[i], height[j])
 area = width * h</p>

<p># Update maximum
 max_area = max(max_area, area)</p>

<p>return max_area
``</p>

<h3 id="test-the-brute-force">Test the Brute Force</h3>

<p>``python</p>
<h1 id="test-cases">Test cases</h1>
<p>test_cases = [
 ([1,8,6,2,5,4,8,3,7], 49),
 ([1,1], 1),
 ([4,3,2,1,4], 16),
 ([1,2,1], 2),
]</p>

<p>for heights, expected in test_cases:
 result = maxArea_bruteforce(heights)
 status = “✓” if result == expected else “✗”
 print(f”{status} Input: {heights}”)
 print(f” Expected: {expected}, Got: {result}\n”)
``</p>

<h3 id="complexity-analysis">Complexity Analysis</h3>

<ul>
  <li><strong>Time:</strong> O(N²) - we examine all (N choose 2) = N(N-1)/2 pairs</li>
  <li><strong>Space:</strong> O(1) - only a few variables</li>
</ul>

<p><strong>Problem:</strong> With N = 10^5, we’d need ~5 billion operations. Too slow!</p>

<h2 id="approach-2-two-pointer-greedy-optimal">Approach 2: Two-Pointer Greedy (Optimal)</h2>

<h3 id="the-key-insight">The Key Insight</h3>

<p>Here’s the brilliant observation that makes this problem solvable in O(N):</p>

<p><strong>If we have two pointers at positions <code class="language-plaintext highlighter-rouge">left</code> and <code class="language-plaintext highlighter-rouge">right</code>:</strong></p>
<ul>
  <li>The area is <code class="language-plaintext highlighter-rouge">(right - left) × min(height[left], height[right])</code></li>
  <li>As we move pointers inward, <strong>width always decreases</strong></li>
  <li>To potentially increase area, we need to increase height</li>
  <li><strong>Moving the taller pointer can only decrease area</strong> (width decreases, height can’t increase)</li>
  <li><strong>Moving the shorter pointer might increase area</strong> (width decreases, but height might increase enough to compensate)</li>
</ul>

<p>This is the <strong>greedy choice</strong>: always move the pointer at the shorter line.</p>

<h3 id="why-does-this-work">Why Does This Work?</h3>

<p>Let’s prove we don’t miss the optimal solution:</p>

<ol>
  <li>Start with <code class="language-plaintext highlighter-rouge">left = 0</code>, <code class="language-plaintext highlighter-rouge">right = n-1</code> (maximum width)</li>
  <li>Say <code class="language-plaintext highlighter-rouge">height[left] &lt; height[right]</code></li>
  <li>Consider any container using <code class="language-plaintext highlighter-rouge">left</code> and some <code class="language-plaintext highlighter-rouge">k</code> where <code class="language-plaintext highlighter-rouge">left &lt; k &lt; right</code>:
    <ul>
      <li>Width is smaller: <code class="language-plaintext highlighter-rouge">k - left &lt; right - left</code></li>
      <li>Height is at most <code class="language-plaintext highlighter-rouge">height[left]</code> (the limiting factor)</li>
      <li>So area is at most <code class="language-plaintext highlighter-rouge">(k - left) × height[left]</code></li>
      <li>This is definitely ≤ <code class="language-plaintext highlighter-rouge">(right - left) × height[left]</code> (current area)</li>
    </ul>
  </li>
  <li>Therefore, we can safely discard <code class="language-plaintext highlighter-rouge">left</code> and never consider it again!</li>
</ol>

<p>This greedy property ensures we examine all potentially optimal pairs.</p>

<h3 id="implementation-1">Implementation</h3>

<p>``python
def maxArea(height: list[int]) -&gt; int:
 “””
 Two-pointer greedy solution.</p>

<p>Time: O(N) - single pass with two pointers
 Space: O(1) - only a few variables</p>

<p>Algorithm:</p>
<ol>
  <li>Start with widest container (left=0, right=n-1)</li>
  <li>Calculate current area</li>
  <li>Move the pointer at the shorter line inward</li>
  <li>Repeat until pointers meet</li>
</ol>

<p>Why this works:</p>
<ul>
  <li>We never miss the optimal solution (proven above)</li>
  <li>Each step eliminates one line from consideration</li>
  <li>Greedy choice: always improve the bottleneck (shorter line)
 “””
 left = 0
 right = len(height) - 1
 max_area = 0</li>
</ul>

<p>while left &lt; right:
 # Calculate current area
 # Width decreases as pointers move inward
 width = right - left</p>

<p># Height is limited by the shorter line
 current_height = min(height[left], height[right])</p>

<p># Calculate and update maximum area
 current_area = width * current_height
 max_area = max(max_area, current_area)</p>

<p># Greedy choice: move the pointer at the shorter line
 # Why? Moving the taller pointer can only make things worse
 # (width decreases and height can’t improve)
 if height[left] &lt; height[right]:
 left += 1 # Try to find a taller left line
 else:
 right -= 1 # Try to find a taller right line</p>

<p>return max_area
``</p>

<h3 id="step-by-step-visualization">Step-by-Step Visualization</h3>

<p>Let’s trace through <code class="language-plaintext highlighter-rouge">height = [1,8,6,2,5,4,8,3,7]</code>:</p>

<p>``
Initial: left=0 (height=1), right=8 (height=7)
 Area = 8 × min(1,7) = 8 × 1 = 8
 Move left (shorter)</p>

<p>Step 1: left=1 (height=8), right=8 (height=7)
 Area = 7 × min(8,7) = 7 × 7 = 49 ← Maximum!
 Move right (shorter)</p>

<p>Step 2: left=1 (height=8), right=7 (height=3)
 Area = 6 × min(8,3) = 6 × 3 = 18
 Move right (shorter)</p>

<p>Step 3: left=1 (height=8), right=6 (height=8)
 Area = 5 × min(8,8) = 5 × 8 = 40
 Move either (equal), let’s move right</p>

<p>Step 4: left=1 (height=8), right=5 (height=4)
 Area = 4 × min(8,4) = 4 × 4 = 16
 Move right (shorter)</p>

<p>… continues until left meets right</p>

<p>Maximum area found: 49
``</p>

<h3 id="optimized-implementation-with-early-termination">Optimized Implementation with Early Termination</h3>

<p>``python
def maxArea_optimized(height: list[int]) -&gt; int:
 “””
 Enhanced version with potential early termination.</p>

<p>Additional optimization:</p>
<ul>
  <li>If we find a container with max possible theoretical area,
 we can stop early (though rare in practice)
 “””
 left = 0
 right = len(height) - 1
 max_area = 0</li>
</ul>

<p>while left &lt; right:
 width = right - left</p>

<p># Calculate area with current configuration
 if height[left] &lt; height[right]:
 # Left is the bottleneck
 current_area = width * height[left]
 max_area = max(max_area, current_area)
 left += 1
 else:
 # Right is the bottleneck (or equal)
 current_area = width * height[right]
 max_area = max(max_area, current_area)
 right -= 1</p>

<p># Early termination (optional):
 # If theoretical maximum remaining area can’t beat current max, stop
 # Theoretical max = remaining_width × max(remaining_heights)
 # This is rarely beneficial but shows advanced thinking</p>

<p>return max_area
``</p>

<h2 id="implementation-production-grade-solution">Implementation: Production-Grade Solution</h2>

<p>Here’s a complete implementation with error handling, logging, and optimizations:</p>

<p>``python
from typing import List, Optional
import logging</p>

<p>class ContainerSolver:
 “””
 Production-ready container with most water solver.</p>

<p>Features:</p>
<ul>
  <li>Input validation</li>
  <li>Multiple solution strategies</li>
  <li>Performance metrics</li>
  <li>Detailed logging
 “””</li>
</ul>

<p>def <strong>init</strong>(self, strategy: str = “two_pointer”):
 “””
 Initialize solver with specified strategy.</p>

<p>Args:
 strategy: “brute_force” or “two_pointer” (default)
 “””
 self.strategy = strategy
 self.logger = logging.getLogger(<strong>name</strong>)
 self.comparisons = 0 # Track operations</p>

<p>def max_area(self, height: List[int]) -&gt; int:
 “””
 Find maximum water container area.</p>

<p>Args:
 height: List of line heights</p>

<p>Returns:
 Maximum area</p>

<p>Raises:
 ValueError: If input is invalid
 “””
 # Validate input
 if not height or len(height) &lt; 2:
 raise ValueError(“Need at least 2 lines to form a container”)</p>

<p>if not all(isinstance(h, int) and h &gt;= 0 for h in height):
 raise ValueError(“All heights must be non-negative integers”)</p>

<p># Reset metrics
 self.comparisons = 0</p>

<p># Choose strategy
 if self.strategy == “brute_force”:
 result = self._brute_force(height)
 else:
 result = self._two_pointer(height)</p>

<p>self.logger.info(f”Found max area {result} with {self.comparisons} comparisons”)
 return result</p>

<p>def _brute_force(self, height: List[int]) -&gt; int:
 “"”Brute force O(N^2) solution.”””
 n = len(height)
 max_area = 0</p>

<p>for i in range(n):
 for j in range(i + 1, n):
 width = j - i
 h = min(height[i], height[j])
 area = width * h
 max_area = max(max_area, area)
 self.comparisons += 1</p>

<p>return max_area</p>

<p>def _two_pointer(self, height: List[int]) -&gt; int:
 “"”Two-pointer O(N) solution.”””
 left = 0
 right = len(height) - 1
 max_area = 0</p>

<p>while left &lt; right:
 # Calculate current area
 width = right - left
 current_height = min(height[left], height[right])
 current_area = width * current_height
 max_area = max(max_area, current_area)
 self.comparisons += 1</p>

<p># Move pointer at shorter line
 if height[left] &lt; height[right]:
 left += 1
 else:
 right -= 1</p>

<p>return max_area</p>

<p>def get_container_details(self, height: List[int]) -&gt; dict:
 “””
 Get detailed information about the optimal container.</p>

<p>Returns:
 Dictionary with area, indices, and metadata
 “””
 if len(height) &lt; 2:
 return {“error”: “Invalid input”}</p>

<p>left = 0
 right = len(height) - 1
 max_area = 0
 best_left = 0
 best_right = 0</p>

<p>while left &lt; right:
 width = right - left
 current_height = min(height[left], height[right])
 current_area = width * current_height</p>

<p>if current_area &gt; max_area:
 max_area = current_area
 best_left = left
 best_right = right</p>

<p>if height[left] &lt; height[right]:
 left += 1
 else:
 right -= 1</p>

<p>return {
 “max_area”: max_area,
 “left_index”: best_left,
 “right_index”: best_right,
 “left_height”: height[best_left],
 “right_height”: height[best_right],
 “width”: best_right - best_left,
 “effective_height”: min(height[best_left], height[best_right])
 }</p>

<h1 id="example-usage">Example usage</h1>
<p>if <strong>name</strong> == “<strong>main</strong>”:
 # Configure logging
 logging.basicConfig(level=logging.INFO)</p>

<p># Test cases
 test_cases = [
 [1,8,6,2,5,4,8,3,7], # Example 1
 [1,1], # Example 2
 [4,3,2,1,4], # Example 3
 ]</p>

<p>solver = ContainerSolver(strategy=”two_pointer”)</p>

<p>for heights in test_cases:
 print(f”\nHeight array: {heights}”)</p>

<p># Get maximum area
 max_area = solver.max_area(heights)
 print(f”Maximum area: {max_area}”)</p>

<p># Get detailed information
 details = solver.get_container_details(heights)
 print(f”Details: {details}”)
 print(f”Comparisons made: {solver.comparisons}”)
``</p>

<h2 id="testing">Testing</h2>

<h3 id="comprehensive-test-suite">Comprehensive Test Suite</h3>

<p>``python
import pytest
from typing import List, Tuple</p>

<p>class TestContainerWithMostWater:
 “"”Comprehensive test suite for container problem.”””</p>

<p>@pytest.fixture
 def solver(self):
 return ContainerSolver(strategy=”two_pointer”)</p>

<p>def test_basic_examples(self, solver):
 “"”Test provided examples.”””
 test_cases = [
 ([1,8,6,2,5,4,8,3,7], 49),
 ([1,1], 1),
 ([4,3,2,1,4], 16),
 ]</p>

<p>for heights, expected in test_cases:
 assert solver.max_area(heights) == expected</p>

<p>def test_edge_cases(self, solver):
 “"”Test edge cases.”””
 # Minimum length
 assert solver.max_area([1, 2]) == 1</p>

<p># All same height
 assert solver.max_area([5, 5, 5, 5]) == 15 # width=3, height=5</p>

<p># Increasing sequence
 assert solver.max_area([1, 2, 3, 4, 5]) == 6 # indices 0,4: 4×min(1,5)=4 or 1,4: 3×min(2,5)=6</p>

<p># Decreasing sequence
 assert solver.max_area([5, 4, 3, 2, 1]) == 6 # symmetric</p>

<p>def test_large_input(self, solver):
 “"”Test with large input.”””
 # Create array with 10^5 elements
 heights = list(range(1, 100001))
 result = solver.max_area(heights)
 assert result &gt; 0
 assert solver.comparisons &lt; 100000 # Should be O(N)</p>

<p>def test_invalid_input(self, solver):
 “"”Test input validation.”””
 with pytest.raises(ValueError):
 solver.max_area([])</p>

<p>with pytest.raises(ValueError):
 solver.max_area([1])</p>

<p>with pytest.raises(ValueError):
 solver.max_area([1, -1, 2]) # Negative height</p>

<p>def test_strategy_equivalence(self):
 “"”Test that both strategies give same results.”””
 heights = [1,8,6,2,5,4,8,3,7]</p>

<p>bf_solver = ContainerSolver(strategy=”brute_force”)
 tp_solver = ContainerSolver(strategy=”two_pointer”)</p>

<p>assert bf_solver.max_area(heights) == tp_solver.max_area(heights)</p>

<p>def test_performance_difference(self):
 “"”Demonstrate performance difference.”””
 heights = list(range(1, 1001))</p>

<p>bf_solver = ContainerSolver(strategy=”brute_force”)
 tp_solver = ContainerSolver(strategy=”two_pointer”)</p>

<p>bf_result = bf_solver.max_area(heights)
 bf_comparisons = bf_solver.comparisons</p>

<p>tp_result = tp_solver.max_area(heights)
 tp_comparisons = tp_solver.comparisons</p>

<p>assert bf_result == tp_result
 assert tp_comparisons &lt; bf_comparisons # Much fewer comparisons
 print(f”Brute force: {bf_comparisons} comparisons”)
 print(f”Two pointer: {tp_comparisons} comparisons”)
 print(f”Speedup: {bf_comparisons / tp_comparisons:.2f}x”)</p>

<h1 id="run-tests">Run tests</h1>
<p>if <strong>name</strong> == “<strong>main</strong>”:
 pytest.main([<strong>file</strong>, “-v”])
``</p>

<h2 id="complexity-analysis-1">Complexity Analysis</h2>

<h3 id="two-pointer-solution-optimal">Two-Pointer Solution (Optimal)</h3>

<p><strong>Time Complexity: O(N)</strong></p>

<ul>
  <li>Single pass through the array</li>
  <li>Each iteration moves one pointer</li>
  <li>Total iterations = N-1 (when pointers meet)</li>
  <li>Each iteration: O(1) operations (comparison, arithmetic)</li>
</ul>

<p><strong>Space Complexity: O(1)</strong></p>

<ul>
  <li>Only a few variables: <code class="language-plaintext highlighter-rouge">left</code>, <code class="language-plaintext highlighter-rouge">right</code>, <code class="language-plaintext highlighter-rouge">max_area</code>, <code class="language-plaintext highlighter-rouge">width</code>, <code class="language-plaintext highlighter-rouge">height</code></li>
  <li>No additional data structures</li>
  <li>Space usage independent of input size</li>
</ul>

<h3 id="brute-force-solution">Brute Force Solution</h3>

<p><strong>Time Complexity: O(N²)</strong></p>

<ul>
  <li>Nested loops: outer loop runs N times, inner loop runs up to N times</li>
  <li>Total pairs: N × (N-1) / 2 ≈ N²/2</li>
  <li>Each pair: O(1) to calculate area</li>
</ul>

<p><strong>Space Complexity: O(1)</strong></p>

<ul>
  <li>Same as optimal solution</li>
</ul>

<h3 id="comparison">Comparison</h3>

<table>
  <thead>
    <tr>
      <th>Metric</th>
      <th>Brute Force</th>
      <th>Two-Pointer</th>
      <th>Improvement</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Time</td>
      <td>O(N²)</td>
      <td>O(N)</td>
      <td>N times faster</td>
    </tr>
    <tr>
      <td>Space</td>
      <td>O(1)</td>
      <td>O(1)</td>
      <td>Same</td>
    </tr>
    <tr>
      <td>Comparisons (N=1000)</td>
      <td>~500,000</td>
      <td>~1,000</td>
      <td>500x fewer</td>
    </tr>
    <tr>
      <td>Comparisons (N=10⁵)</td>
      <td>~5×10⁹</td>
      <td>~10⁵</td>
      <td>50,000x fewer</td>
    </tr>
  </tbody>
</table>

<h2 id="production-considerations">Production Considerations</h2>

<h3 id="1-input-validation">1. Input Validation</h3>

<p>``python
def validate_height_array(height: List[int]) -&gt; Tuple[bool, Optional[str]]:
 “””
 Validate input for production use.</p>

<p>Returns:
 (is_valid, error_message)
 “””
 if not height:
 return False, “Height array cannot be empty”</p>

<p>if len(height) &lt; 2:
 return False, “Need at least 2 lines”</p>

<p>if len(height) &gt; 10**5:
 return False, “Input too large (max 10^5 elements)”</p>

<p>for i, h in enumerate(height):
 if not isinstance(h, (int, float)):
 return False, f”Invalid type at index {i}: {type(h)}”</p>

<p>if h &lt; 0:
 return False, f”Negative height at index {i}: {h}”</p>

<p>if h &gt; 10**4:
 return False, f”Height too large at index {i}: {h} (max 10^4)”</p>

<p>return True, None
``</p>

<h3 id="2-monitoring-and-metrics">2. Monitoring and Metrics</h3>

<p>``python
from dataclasses import dataclass
from time import time</p>

<p>@dataclass
class PerformanceMetrics:
 “"”Track performance metrics.”””
 execution_time_ms: float
 comparisons: int
 input_size: int
 max_area: int</p>

<p>@property
 def comparisons_per_element(self) -&gt; float:
 return self.comparisons / self.input_size if self.input_size &gt; 0 else 0</p>

<p>def <strong>str</strong>(self) -&gt; str:
 return (
 f”Performance Metrics:\n”
 f” Execution time: {self.execution_time_ms:.3f}ms\n”
 f” Comparisons: {self.comparisons}\n”
 f” Input size: {self.input_size}\n”
 f” Comparisons/element: {self.comparisons_per_element:.2f}\n”
 f” Max area: {self.max_area}”
 )</p>

<p>def max_area_with_metrics(height: List[int]) -&gt; Tuple[int, PerformanceMetrics]:
 “””
 Solve problem and return metrics.
 “””
 start = time()
 comparisons = 0</p>

<p>left = 0
 right = len(height) - 1
 max_area = 0</p>

<p>while left &lt; right:
 width = right - left
 current_height = min(height[left], height[right])
 current_area = width * current_height
 max_area = max(max_area, current_area)
 comparisons += 1</p>

<p>if height[left] &lt; height[right]:
 left += 1
 else:
 right -= 1</p>

<p>execution_time = (time() - start) * 1000 # Convert to ms</p>

<p>metrics = PerformanceMetrics(
 execution_time_ms=execution_time,
 comparisons=comparisons,
 input_size=len(height),
 max_area=max_area
 )</p>

<p>return max_area, metrics
``</p>

<h3 id="3-handling-real-world-data">3. Handling Real-World Data</h3>

<p>``python
import numpy as np</p>

<p>def max_area_numpy(height: np.ndarray) -&gt; int:
 “””
 NumPy-optimized version for large-scale processing.</p>

<p>Useful when:</p>
<ul>
  <li>Processing multiple arrays in batch</li>
  <li>Integration with ML pipelines</li>
  <li>Need vectorized operations
 “””
 if len(height) &lt; 2:
 return 0</li>
</ul>

<p>left = 0
 right = len(height) - 1
 max_area = 0</p>

<p># Convert to int32 for efficiency
 height = height.astype(np.int32)</p>

<p>while left &lt; right:
 width = right - left
 current_height = min(height[left], height[right])
 current_area = width * current_height
 max_area = max(max_area, current_area)</p>

<p>if height[left] &lt; height[right]:
 left += 1
 else:
 right -= 1</p>

<p>return int(max_area)</p>

<p>def batch_max_area(height_arrays: List[List[int]]) -&gt; List[int]:
 “””
 Process multiple height arrays in batch.</p>

<p>Useful for:</p>
<ul>
  <li>ML feature engineering</li>
  <li>Batch processing of user inputs</li>
  <li>A/B testing different configurations
 “””
 return [max_area_optimized(heights) for heights in height_arrays]
``</li>
</ul>

<h3 id="4-error-handling-and-resilience">4. Error Handling and Resilience</h3>

<p>``python
from enum import Enum
from typing import Union</p>

<p>class ErrorCode(Enum):
 SUCCESS = 0
 INVALID_INPUT = 1
 EMPTY_ARRAY = 2
 INSUFFICIENT_ELEMENTS = 3
 OUT_OF_BOUNDS = 4</p>

<p>class ContainerResult:
 “"”Result wrapper with error handling.”””</p>

<p>def <strong>init</strong>(self, value: int, error_code: ErrorCode, message: str = “”):
 self.value = value
 self.error_code = error_code
 self.message = message</p>

<p>@property
 def is_success(self) -&gt; bool:
 return self.error_code == ErrorCode.SUCCESS</p>

<p>def <strong>repr</strong>(self) -&gt; str:
 if self.is_success:
 return f”ContainerResult(value={self.value})”
 return f”ContainerResult(error={self.error_code.name}, message=’{self.message}’)”</p>

<p>def safe_max_area(height: List[int]) -&gt; ContainerResult:
 “””
 Production-safe version with comprehensive error handling.
 “””
 # Validate input
 if not height:
 return ContainerResult(0, ErrorCode.EMPTY_ARRAY, “Height array is empty”)</p>

<p>if len(height) &lt; 2:
 return ContainerResult(
 0, 
 ErrorCode.INSUFFICIENT_ELEMENTS,
 f”Need at least 2 elements, got {len(height)}”
 )</p>

<p># Check for invalid values
 for i, h in enumerate(height):
 if not isinstance(h, (int, float)):
 return ContainerResult(
 0,
 ErrorCode.INVALID_INPUT,
 f”Invalid type at index {i}: {type(h)}”
 )
 if h &lt; 0 or h &gt; 10**4:
 return ContainerResult(
 0,
 ErrorCode.OUT_OF_BOUNDS,
 f”Height {h} at index {i} out of bounds [0, 10000]”
 )</p>

<p># Compute result
 try:
 left = 0
 right = len(height) - 1
 max_area = 0</p>

<p>while left &lt; right:
 width = right - left
 current_height = min(height[left], height[right])
 current_area = width * current_height
 max_area = max(max_area, current_area)</p>

<p>if height[left] &lt; height[right]:
 left += 1
 else:
 right -= 1</p>

<p>return ContainerResult(max_area, ErrorCode.SUCCESS)</p>

<p>except Exception as e:
 return ContainerResult(0, ErrorCode.INVALID_INPUT, f”Unexpected error: {str(e)}”)
``</p>

<h2 id="connections-to-ml-systems">Connections to ML Systems</h2>

<p>The <strong>greedy optimization and resource management</strong> principles from this problem directly apply to ML system design:</p>

<h3 id="1-resource-allocation-for-ml">1. Resource Allocation for ML</h3>

<p>Just like finding the maximum water container:</p>

<p><strong>Container Problem:</strong> Maximize area given two heights (bottleneck determines capacity)</p>

<p><strong>ML Resource Allocation:</strong></p>
<ul>
  <li><strong>CPU/GPU allocation:</strong> Limited by the slowest model in the pipeline</li>
  <li><strong>Memory management:</strong> Constrained by the component with highest memory footprint</li>
  <li><strong>Throughput optimization:</strong> Bottlenecked by the slowest processing stage</li>
</ul>

<p>``python</p>
<h1 id="analogy-allocating-compute-resources">Analogy: Allocating compute resources</h1>
<p>class ResourceAllocator:
 “””
 Similar greedy strategy for ML resource allocation.
 “””
 def optimize_allocation(self, component_needs: List[int], total_budget: int):
 “””
 Greedy allocation: prioritize bottlenecks (like moving shorter pointer).</p>

<p>Args:
 component_needs: Resource requirements for each component
 total_budget: Total available resources
 “””
 # Sort by need (like sorting heights)
 sorted_needs = sorted(enumerate(component_needs), key=lambda x: x[1])</p>

<p>allocation = [0] * len(component_needs)
 remaining = total_budget</p>

<p># Greedy: allocate to bottlenecks first
 for idx, need in sorted_needs:
 alloc = min(need, remaining)
 allocation[idx] = alloc
 remaining -= alloc</p>

<p>if remaining == 0:
 break</p>

<p>return allocation
``</p>

<h3 id="2-batch-size-optimization">2. Batch Size Optimization</h3>

<p>In ML training, choosing batch size is analogous:</p>
<ul>
  <li><strong>Large batch:</strong> More GPU utilization but might not fit in memory (like wide container but shallow)</li>
  <li><strong>Small batch:</strong> Better convergence but slower training (like narrow container but potentially tall)</li>
  <li><strong>Optimal:</strong> Two-pointer approach to find the sweet spot</li>
</ul>

<h3 id="3-model-serving">3. Model Serving</h3>

<p>When serving ML models:</p>

<p>``python
class ModelServingOptimizer:
 “””
 Optimize model serving using greedy strategies.</p>

<p>Similar to container problem:</p>
<ul>
  <li>Throughput (width) vs Quality (height)</li>
  <li>Find optimal trade-off point
 “””
 def find_optimal_config(self, latency_sla: int, quality_threshold: float):
 “””
 Use greedy approach to find optimal model configuration.</li>
</ul>

<p>Analogy:</p>
<ul>
  <li>Left pointer: simpler/faster models</li>
  <li>Right pointer: complex/accurate models</li>
  <li>Objective: maximize value (accuracy × throughput)
 “””
 # Start with full range of model sizes
 left_model = “nano” # fastest, least accurate
 right_model = “xlarge” # slowest, most accurate</li>
</ul>

<p># Greedy: move based on which constraint is tighter
 # (bottleneck determines system performance)
 pass # Implementation details
``</p>

<h3 id="4-pipeline-optimization">4. Pipeline Optimization</h3>

<p>The two-pointer technique applies to ML pipeline optimization:</p>

<p>``python
def optimize_pipeline_stages(stage_latencies: List[int], 
 stage_accuracies: List[float]) -&gt; Tuple[int, int]:
 “””
 Find optimal pipeline configuration.</p>

<p>Trade-off:</p>
<ul>
  <li>More stages (wider): Higher accuracy but slower</li>
  <li>Fewer stages (narrower): Faster but less accurate</li>
</ul>

<p>Similar to container: maximize value within constraints.
 “””
 left = 0 # Minimum stages
 right = len(stage_latencies) - 1 # Maximum stages</p>

<p>best_value = 0
 best_config = (0, 0)</p>

<p>while left &lt;= right:
 # Calculate current configuration value
 total_latency = sum(stage_latencies[left:right+1])
 avg_accuracy = sum(stage_accuracies[left:right+1]) / (right - left + 1)</p>

<p># Value function (customize based on requirements)
 value = avg_accuracy / total_latency # Accuracy per unit time</p>

<p>if value &gt; best_value:
 best_value = value
 best_config = (left, right)</p>

<p># Greedy decision based on bottleneck
 if stage_latencies[left] &gt; stage_latencies[right]:
 left += 1 # Remove slow stage from left
 else:
 right -= 1 # Remove slow stage from right</p>

<p>return best_config
``</p>

<h3 id="key-parallels">Key Parallels</h3>

<table>
  <thead>
    <tr>
      <th>Container Problem</th>
      <th>ML Systems</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Two heights</td>
      <td>Two resource types (CPU/memory, speed/accuracy)</td>
    </tr>
    <tr>
      <td>Width</td>
      <td>Scale/throughput</td>
    </tr>
    <tr>
      <td>Bottleneck (shorter line)</td>
      <td>System bottleneck (slowest component)</td>
    </tr>
    <tr>
      <td>Greedy optimization</td>
      <td>Resource allocation strategy</td>
    </tr>
    <tr>
      <td>O(N) efficiency</td>
      <td>Efficient resource scanning</td>
    </tr>
  </tbody>
</table>

<p>The <strong>greedy choice</strong> principle is fundamental to both:</p>
<ul>
  <li><strong>Container:</strong> Move the pointer at the bottleneck (shorter line)</li>
  <li><strong>ML Systems:</strong> Allocate resources to the bottleneck component first</li>
</ul>

<h2 id="interview-strategy">Interview Strategy</h2>

<h3 id="how-to-approach-this-in-an-interview">How to Approach This in an Interview</h3>

<p><strong>1. Clarify Requirements (1-2 minutes)</strong>
``
Questions to ask:</p>
<ul>
  <li>Can heights be negative? (No, from constraints)</li>
  <li>Can we modify the input array? (Not needed)</li>
  <li>What’s the expected input size? (Up to 10^5)</li>
  <li>Any special cases? (minimum 2 elements)
``</li>
</ul>

<p><strong>2. Start with Brute Force (2-3 minutes)</strong>
``
“Let me start with a straightforward approach:</p>
<ul>
  <li>Try all pairs of lines</li>
  <li>Calculate area for each</li>
  <li>Track maximum</li>
  <li>This is O(N²) but guarantees correctness”
``</li>
</ul>

<p><strong>3. Identify Optimization (2-3 minutes)</strong>
``
“The brute force is too slow for N=10^5. Let me think about optimization:</p>
<ul>
  <li>Key insight: shorter line is always the bottleneck</li>
  <li>If we start wide and move inward, we can use greedy choice</li>
  <li>Always move the pointer at the shorter line</li>
  <li>This ensures we don’t miss optimal solution</li>
  <li>Achieves O(N) time”
``</li>
</ul>

<p><strong>4. Implement Optimal Solution (5-7 minutes)</strong></p>
<ul>
  <li>Write clean, commented code</li>
  <li>Explain as you write</li>
  <li>Handle edge cases</li>
</ul>

<p><strong>5. Test (2-3 minutes)</strong></p>
<ul>
  <li>Walk through example</li>
  <li>Test edge cases (length 2, all same height)</li>
  <li>Verify complexity</li>
</ul>

<h3 id="common-mistakes-to-avoid">Common Mistakes to Avoid</h3>

<ol>
  <li><strong>Wrong greedy choice:</strong> Moving the taller pointer
    <ul>
      <li>This can only decrease area (width decreases, height can’t increase)</li>
    </ul>
  </li>
  <li><strong>Off-by-one errors:</strong> Using <code class="language-plaintext highlighter-rouge">&lt;=</code> instead of <code class="language-plaintext highlighter-rouge">&lt;</code> in while loop
    <ul>
      <li>Pointers should meet but not cross</li>
    </ul>
  </li>
  <li><strong>Incorrect area calculation:</strong> Forgetting to use <code class="language-plaintext highlighter-rouge">min</code> for height
    <ul>
      <li>Water is limited by shorter line</li>
    </ul>
  </li>
  <li>
    <p><strong>Missing edge cases:</strong> Not handling arrays of length 2</p>
  </li>
  <li><strong>Complexity analysis:</strong> Claiming O(N) but implementing O(N²)</li>
</ol>

<h3 id="follow-up-questions">Follow-up Questions</h3>

<p><strong>Q1: What if we can remove k lines to maximize area?</strong>
``python
def max_area_remove_k(height: List[int], k: int) -&gt; int:
 “””
 Extension: Can remove up to k lines to maximize area.</p>

<p>Approach:</p>
<ul>
  <li>Use sliding window of size (n - k)</li>
  <li>For each window, find max area using two-pointer</li>
  <li>Track global maximum</li>
</ul>

<p>Time: O(N × k) in worst case
 “””
 n = len(height)
 if n - k &lt; 2:
 return 0</p>

<p>max_area = 0</p>

<p># Try all possible removals
 # More sophisticated: use DP or greedy heuristics
 # For interview: explain approach without full implementation</p>

<p>return max_area
``</p>

<p><strong>Q2: What if lines have different costs, and we want to maximize area per unit cost?</strong>
``python
def max_area_per_cost(height: List[int], costs: List[int]) -&gt; Tuple[int, float]:
 “””
 Maximize area / cost ratio.</p>

<p>Approach:</p>
<ul>
  <li>Still use two-pointer for efficiency</li>
  <li>Calculate area/cost for each configuration</li>
  <li>Track best ratio
 “””
 left = 0
 right = len(height) - 1
 best_ratio = 0
 best_area = 0</li>
</ul>

<p>while left &lt; right:
 width = right - left
 h = min(height[left], height[right])
 area = width * h
 cost = costs[left] + costs[right]
 ratio = area / cost if cost &gt; 0 else 0</p>

<p>if ratio &gt; best_ratio:
 best_ratio = ratio
 best_area = area</p>

<p>if height[left] &lt; height[right]:
 left += 1
 else:
 right -= 1</p>

<p>return best_area, best_ratio
``</p>

<p><strong>Q3: How would you parallelize this for huge datasets?</strong>
``
Answer:
“The two-pointer approach is inherently sequential because each
step depends on the previous decision. However, for huge datasets:</p>

<ol>
  <li>Batch processing: Split input into chunks, find local max in each</li>
  <li>MapReduce: Map phase finds local optima, Reduce phase combines</li>
  <li>Approximation: Sample subset of lines for quick estimate</li>
  <li>GPU acceleration: Use CUDA for brute force on GPU (might be faster than O(N) on CPU for moderate N)”
``</li>
</ol>

<h3 id="time-allocation-45-minute-interview">Time Allocation (45-minute interview)</h3>

<ul>
  <li>Problem understanding: 2 min</li>
  <li>Brute force discussion: 3 min</li>
  <li>Optimal approach design: 3 min</li>
  <li>Implementation: 10 min</li>
  <li>Testing: 3 min</li>
  <li>Complexity analysis: 2 min</li>
  <li>Follow-ups/discussion: 7 min</li>
  <li>Buffer: 5 min</li>
</ul>

<h2 id="key-takeaways">Key Takeaways</h2>

<p>✅ <strong>Two-pointer technique</strong> is essential for O(N) optimization in array problems</p>

<p>✅ <strong>Greedy algorithms</strong> work when local optimal choices lead to global optimum</p>

<p>✅ <strong>Bottleneck analysis</strong> is crucial - the limiting factor determines system behavior</p>

<p>✅ <strong>Width vs height trade-off</strong> appears in many real systems (scale vs quality, throughput vs latency)</p>

<p>✅ <strong>Resource allocation</strong> in ML follows similar greedy optimization principles</p>

<p>✅ <strong>Start with brute force</strong> in interviews to show you understand the problem</p>

<p>✅ <strong>Optimize systematically</strong> by identifying what makes brute force slow</p>

<p>✅ <strong>Proof of correctness</strong> matters - explain why greedy choice doesn’t miss optimal solution</p>

<p>✅ <strong>Production considerations</strong> include input validation, metrics, error handling</p>

<p>✅ <strong>Cross-domain application</strong> - same principles apply to container problem, ML resource allocation, and compute allocation for speech models</p>

<h3 id="mental-model">Mental Model</h3>

<p>Think of this problem as:</p>
<ul>
  <li><strong>Container:</strong> Two-pointer greedy for max area</li>
  <li><strong>ML System:</strong> Bottleneck resource limits system throughput</li>
  <li><strong>Speech System:</strong> Compute allocation must address weakest component first</li>
</ul>

<p>All three share the fundamental insight: <strong>The bottleneck determines system capacity, so greedy optimization should target the bottleneck first.</strong></p>

<hr />

<p><strong>Originally published at:</strong> <a href="https://www.arunbaby.com/dsa/0013-container-with-most-water/">arunbaby.com/dsa/0013-container-with-most-water</a></p>

<p><em>If you found this helpful, consider sharing it with others who might benefit.</em></p>


        
      </section>

      <footer class="page__meta">
        
        
  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      <a href="/tags/#array" class="page__taxonomy-item p-category" rel="tag">array</a><span class="sep">, </span>
    
      <a href="/tags/#greedy" class="page__taxonomy-item p-category" rel="tag">greedy</a><span class="sep">, </span>
    
      <a href="/tags/#interview-classic" class="page__taxonomy-item p-category" rel="tag">interview-classic</a><span class="sep">, </span>
    
      <a href="/tags/#medium-easy" class="page__taxonomy-item p-category" rel="tag">medium-easy</a><span class="sep">, </span>
    
      <a href="/tags/#optimization" class="page__taxonomy-item p-category" rel="tag">optimization</a><span class="sep">, </span>
    
      <a href="/tags/#two-pointers" class="page__taxonomy-item p-category" rel="tag">two-pointers</a>
    
    </span>
  </p>




  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      <a href="/categories/#dsa" class="page__taxonomy-item p-category" rel="tag">dsa</a>
    
    </span>
  </p>


        
      </footer>

      <div class="page__related page__related--full">
  <h2 class="page__related-title">Related across topics</h2>
  <style>
    /* Make section span full content width and use 2 equal columns */
    .page__related--full { float: inline-start; width: 100%; padding: 0; }
    .cross-related-grid { display: grid; grid-template-columns: repeat(2, minmax(0, 1fr)); gap: 2rem; }
    @media (max-width: 768px) { .cross-related-grid { grid-template-columns: 1fr; } }
    /* Ensure archive cards stretch nicely in the grid */
    .cross-related-grid .list__item, .cross-related-grid .grid__item { width: auto; float: none; margin: 0; }
  </style>
  <div class="cross-related-grid">
    



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/ml-system-design/0013-resource-allocation-for-ml/" rel="permalink">Resource Allocation for ML
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          27 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Build production ML infrastructure that dynamically allocates resources using greedy optimization to maximize throughput and minimize costs.
</p>
  </article>
</div>




<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/speech-tech/0013-compute-allocation-for-speech-models/" rel="permalink">Compute Allocation for Speech Models
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          18 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">Optimize speech pipeline throughput by allocating compute to bottleneck stages using greedy resource management.
</p>
  </article>
</div>




<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/ai-agents/0013-multi-step-reasoning/" rel="permalink">Multi-Step Reasoning
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          9 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">“Thinking Fast and Slow: How to make LLMs stop guessing and start solving.”
</p>
  </article>
</div>

  </div>
</div>

      <section class="page__share">
  <h4 class="page__share-title">Share on</h4>

  <a href="https://twitter.com/intent/tweet?via=arunbaby0&text=Container+With+Most+Water%20https%3A%2F%2Fwww.arunbaby.com%2Fdsa%2F0013-container-with-most-water%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fwww.arunbaby.com%2Fdsa%2F0013-container-with-most-water%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://www.arunbaby.com/dsa/0013-container-with-most-water/" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="/dsa/0012-add-two-numbers/" class="pagination--pager" title="Add Two Numbers">Previous</a>
    
    
      <a href="/dsa/0014-generate-parentheses/" class="pagination--pager" title="Generate Parentheses">Next</a>
    
  </nav>


    </div>

    
  </article>

  
  
</div>

      
    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';" role="search">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    
      
        
          <li><a href="https://twitter.com/arunbaby0" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
        
      
        
          <li><a href="https://github.com/arunbaby0" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
        
          <li><a href="https://www.linkedin.com/in/arunbaby0/" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i> LinkedIn</a></li>
        
      
        
          <li><a href="https://scholar.google.co.in/citations?user=6fSYWhkAAAAJ" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-graduation-cap" aria-hidden="true"></i> Google Scholar</a></li>
        
      
    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 1990 - 2143 <a href="https://www.arunbaby.com">Arun Baby</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>




  <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-0JRJPEC9SS"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-0JRJPEC9SS', { 'anonymize_ip': false});
</script>








  </body>
</html>
