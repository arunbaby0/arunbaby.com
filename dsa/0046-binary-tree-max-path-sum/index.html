<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.26.2 by Michael Rose
  Copyright 2013-2024 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->

<html lang="en-US" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Binary Tree Maximum Path Sum - Arun Baby</title>
<meta name="description" content="“Find the path to success—even if you have to start from the bottom, go up, and come back down.”">


  <meta name="author" content="Arun Baby">
  
  <meta property="article:author" content="Arun Baby">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Arun Baby">
<meta property="og:title" content="Binary Tree Maximum Path Sum">
<meta property="og:url" content="https://www.arunbaby.com/dsa/0046-binary-tree-max-path-sum/">


  <meta property="og:description" content="“Find the path to success—even if you have to start from the bottom, go up, and come back down.”">



  <meta property="og:image" content="https://www.arunbaby.com/assets/images/profile-photo.png">



  <meta name="twitter:site" content="@arunbaby0">
  <meta name="twitter:title" content="Binary Tree Maximum Path Sum">
  <meta name="twitter:description" content="“Find the path to success—even if you have to start from the bottom, go up, and come back down.”">
  <meta name="twitter:url" content="https://www.arunbaby.com/dsa/0046-binary-tree-max-path-sum/">

  
    <meta name="twitter:card" content="summary">
    
      <meta name="twitter:image" content="https://www.arunbaby.com/assets/images/profile-photo.png">
    
  

  



  <meta property="article:published_time" content="2025-12-31T09:51:02+05:30">





  

  


<link rel="canonical" href="https://www.arunbaby.com/dsa/0046-binary-tree-max-path-sum/">












<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Arun Baby Feed">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
  
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css"></noscript>



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single" dir="ltr">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
           
          <span class="site-subtitle">Arun Baby</span>
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a
                href="/about/"
                
                
              >About</a>
            </li><li class="masthead__menu-item">
              <a
                href="/dsa/"
                
                
              >DSA</a>
            </li><li class="masthead__menu-item">
              <a
                href="/ml-system-design/"
                
                
              >ML Systems</a>
            </li><li class="masthead__menu-item">
              <a
                href="/speech-tech/"
                
                
              >Speech Tech</a>
            </li><li class="masthead__menu-item">
              <a
                href="/ai-agents/"
                
                
              >AI Agents</a>
            </li><li class="masthead__menu-item">
              <a
                href="/publications/"
                
                
              >Publications</a>
            </li><li class="masthead__menu-item">
              <a
                href="/statuses/"
                
                
              >Statuses</a>
            </li><li class="masthead__menu-item">
              <a
                href="/contact/"
                
                
              >Contact</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <i class="fas fa-search"></i>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      





<div id="main" role="main" class="no-author-sidebar">
  
  <div class="sidebar sticky">
  
  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Binary Tree Maximum Path Sum">
    <meta itemprop="description" content="“Find the path to success—even if you have to start from the bottom, go up, and come back down.”">
    <meta itemprop="datePublished" content="2025-12-31T09:51:02+05:30">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">
            <a href="https://www.arunbaby.com/dsa/0046-binary-tree-max-path-sum/" itemprop="url">Binary Tree Maximum Path Sum
</a>
          </h1>
          

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          10 minute read
        
      </span>
    
  </p>


        </header>
      

      <section class="page__content" itemprop="text">
        
          <aside class="sidebar__right sticky">
            <nav class="toc">
              <header><h4 class="nav__title"><i class="fas fa-file-alt"></i> On this page</h4></header>
              <ul class="toc__menu"><li><a href="#1-problem-statement">1. Problem Statement</a></li><li><a href="#2-understanding-the-problem">2. Understanding the Problem</a><ul><li><a href="#21-the-path-concept">2.1 The “Path” Concept</a></li><li><a href="#22-the-arc-visualization">2.2 The “Arc” Visualization</a></li><li><a href="#23-the-core-conflict">2.3 The Core Conflict</a></li></ul></li><li><a href="#3-approach-1-brute-force">3. Approach 1: Brute Force</a><ul><li><a href="#algorithm">Algorithm</a></li><li><a href="#complexity">Complexity</a></li></ul></li><li><a href="#4-approach-2-optimal-recursive-solution-one-pass">4. Approach 2: Optimal Recursive Solution (One Pass)</a><ul><li><a href="#key-logic">Key Logic</a></li></ul></li><li><a href="#5-implementation">5. Implementation</a><ul><li><a href="#why-use-a-class-variable">Why use a class variable?</a></li></ul></li><li><a href="#6-testing-strategy">6. Testing Strategy</a><ul><li><a href="#test-case-1-the-tent-simple-curve">Test Case 1: The “Tent” (Simple curve)</a></li><li><a href="#test-case-2-negative-root-disconnected-subtrees">Test Case 2: Negative Root (Disconnected Subtrees)</a></li><li><a href="#test-case-3-all-negative">Test Case 3: All Negative</a></li></ul></li><li><a href="#7-complexity-analysis">7. Complexity Analysis</a><ul><li><a href="#time-complexity-on">Time Complexity: O(N)</a></li><li><a href="#space-complexity-oh">Space Complexity: O(H)</a></li></ul></li><li><a href="#8-production-considerations">8. Production Considerations</a><ul><li><a href="#81-stack-overflow-risk">8.1 Stack Overflow Risk</a></li><li><a href="#82-parallelism">8.2 Parallelism</a></li></ul></li><li><a href="#9-connections-to-ml-systems">9. Connections to ML Systems</a><ul><li><a href="#91-sochers-recursive-neural-networks-tree-lstms">9.1 Socher’s Recursive Neural Networks (Tree-LSTMs)</a></li><li><a href="#92-transfer-learning-theme">9.2 Transfer Learning Theme</a></li></ul></li><li><a href="#10-interview-strategy">10. Interview Strategy</a></li><li><a href="#11-key-takeaways">11. Key Takeaways</a></li></ul>
            </nav>
          </aside>
        
        <p><strong>“Find the path to success—even if you have to start from the bottom, go up, and come back down.”</strong></p>

<h2 id="1-problem-statement">1. Problem Statement</h2>

<p>The <strong>Binary Tree Maximum Path Sum</strong> problem is a classic hard interview question that tests your mastery of tree traversal and recursion state management.</p>

<p>Given the <code class="language-plaintext highlighter-rouge">root</code> of a binary tree, return the <em>maximum path sum</em> of any non-empty path.</p>

<p><strong>Constraints &amp; Definitions:</strong></p>
<ul>
  <li>A <strong>path</strong> in a binary tree is a sequence of nodes where each pair of adjacent nodes in the sequence has an edge connecting them.</li>
  <li>A node can only appear in the sequence <strong>at most once</strong>.</li>
  <li>The path does <strong>not</strong> need to pass through the root.</li>
  <li>The path must contain at least one node.</li>
  <li>Node values can be <strong>negative</strong>, positive, or zero.</li>
</ul>

<p><strong>Example 1:</strong>
<code class="language-plaintext highlighter-rouge">
 1
 / \
 2 3
</code>
Output: <code class="language-plaintext highlighter-rouge">6</code> (Path: <code class="language-plaintext highlighter-rouge">2 -&gt; 1 -&gt; 3</code>)</p>

<p><strong>Example 2:</strong>
<code class="language-plaintext highlighter-rouge">
 -10
 / \
 9 20
 / \
 15 7
</code>
Output: <code class="language-plaintext highlighter-rouge">42</code> (Path: <code class="language-plaintext highlighter-rouge">15 -&gt; 20 -&gt; 7</code>)</p>

<p>This problem is famous because the intuitive “top-down” approach fails. You cannot simply decide at the root which way to go, because the optimal path might exist entirely within a subtree (as seen in Example 2, where the root <code class="language-plaintext highlighter-rouge">-10</code> is excluded).</p>

<hr />

<h2 id="2-understanding-the-problem">2. Understanding the Problem</h2>

<h3 id="21-the-path-concept">2.1 The “Path” Concept</h3>
<p>In most tree problems, a “path” usually means “root to leaf”. In this problem, a path is strictly defined by graph connectivity. It can be:</p>
<ol>
  <li><strong>Child -&gt; Node -&gt; Parent</strong>: Going up.</li>
  <li><strong>Parent -&gt; Node -&gt; Child</strong>: Going down.</li>
  <li><strong>Left Child -&gt; Node -&gt; Right Child</strong>: A “bridge” or “arch”.</li>
</ol>

<p>However, there is a strict limitation: <strong>No branching</strong>. You cannot go <code class="language-plaintext highlighter-rouge">Parent -&gt; Node</code> AND <code class="language-plaintext highlighter-rouge">Node -&gt; Left</code> AND <code class="language-plaintext highlighter-rouge">Node -&gt; Right</code> simultaneously. That would form a “Y” shape, not a path.</p>

<h3 id="22-the-arc-visualization">2.2 The “Arc” Visualization</h3>
<p>Every valid path in this problem has a unique “highest node” (closest to the root). We call this the <strong>Peak</strong> or <strong>Anchor</strong> of the path.</p>
<ul>
  <li>From the Peak, the path goes down the left side (optional).</li>
  <li>From the Peak, the path goes down the right side (optional).</li>
</ul>

<p>Therefore, any path can be mathematically described as:
<code class="language-plaintext highlighter-rouge">Path(Peak) = Value(Peak) + MaxChain(Left Child) + MaxChain(Right Child)</code></p>

<p>Where <code class="language-plaintext highlighter-rouge">MaxChain</code> is a path starting at a child and going <em>only</em> downwards.</p>

<h3 id="23-the-core-conflict">2.3 The Core Conflict</h3>
<p>This definition creates a conflict:</p>
<ul>
  <li>To calculate the global maximum path, we want to connect <code class="language-plaintext highlighter-rouge">Left + Node + Right</code>.</li>
  <li>But to hold up our end of the bargain for our <em>Parent</em>, we can only offer <code class="language-plaintext highlighter-rouge">Node + max(Left, Right)</code>. We cannot offer both, because that would force the path to split at our node (coming from parent, going to both children).</li>
</ul>

<p>This distinction—<strong>“What I calculate for myself”</strong> vs. <strong>“What I return to my parent”</strong>—is the heart of the solution.</p>

<hr />

<h2 id="3-approach-1-brute-force">3. Approach 1: Brute Force</h2>

<p>A naive approach might be to treat every single node as a potential “Peak”.</p>

<h3 id="algorithm">Algorithm</h3>
<ol>
  <li>Traverse the tree (e.g., Pre-order).</li>
  <li>For every node <code class="language-plaintext highlighter-rouge">N</code>:
    <ul>
      <li>Calculate the max path starting at <code class="language-plaintext highlighter-rouge">N.left</code> and going down.</li>
      <li>Calculate the max path starting at <code class="language-plaintext highlighter-rouge">N.right</code> and going down.</li>
      <li>Total Sum = <code class="language-plaintext highlighter-rouge">N.val + LeftSum + RightSum</code>.</li>
      <li>Update global max.</li>
    </ul>
  </li>
  <li>This requires a helper function <code class="language-plaintext highlighter-rouge">getMaxDownPath(node)</code> which does its own traversal.</li>
</ol>

<h3 id="complexity">Complexity</h3>
<ul>
  <li><strong>Time</strong>: O(N^2). For every node, we traverse its entire subtree. In skewed trees (linked list), this is quadratic.</li>
  <li><strong>Space</strong>: O(H) for recursion stack.</li>
</ul>

<p>This is acceptable for small trees (<code class="language-plaintext highlighter-rouge">N &lt; 1000</code>), but fails for large datasets. We need a single-pass solution.</p>

<hr />

<h2 id="4-approach-2-optimal-recursive-solution-one-pass">4. Approach 2: Optimal Recursive Solution (One Pass)</h2>

<p>We can solve this in O(N) by using a <strong>Post-order Traversal</strong> (Bottom-Up).
The recursion will return the “Contribution” value to the parent, while simultaneously updating the “Global Maximum” using the “Arc” value.</p>

<h3 id="key-logic">Key Logic</h3>
<p>At every node <code class="language-plaintext highlighter-rouge">root</code>, asking for <code class="language-plaintext highlighter-rouge">dfs(root)</code>:</p>
<ol>
  <li>Recursively get <code class="language-plaintext highlighter-rouge">left_gain = dfs(root.left)</code>.</li>
  <li>Recursively get <code class="language-plaintext highlighter-rouge">right_gain = dfs(root.right)</code>.</li>
  <li><strong>Crucial Check</strong>: If a child’s gain is negative, ignore it! A negative path reduces our sum. We are better off not including that branch. <code class="language-plaintext highlighter-rouge">left_gain = max(left_gain, 0)</code>.</li>
  <li><strong>Local Arc Sum</strong>: <code class="language-plaintext highlighter-rouge">current_node_max = root.val + left_gain + right_gain</code>.
    <ul>
      <li>Update the global maximum if this is the best we’ve seen.</li>
    </ul>
  </li>
  <li><strong>Return Value</strong>: <code class="language-plaintext highlighter-rouge">root.val + max(left_gain, right_gain)</code>.
    <ul>
      <li>We can only ascend one branch to the parent.</li>
    </ul>
  </li>
</ol>

<hr />

<h2 id="5-implementation">5. Implementation</h2>

<p>Here is the robust, production-ready implementation.</p>

<p>``python
import math</p>

<h1 id="definition-for-a-binary-tree-node">Definition for a binary tree node.</h1>
<p>class TreeNode:
 def <strong>init</strong>(self, val=0, left=None, right=None):
 self.val = val
 self.left = left
 self.right = right</p>

<p>class Solution:
 def maxPathSum(self, root: TreeNode) -&gt; int:
 “””
 Calculates the maximum path sum in a binary tree.</p>

<p>Args:
 root: The root node of the binary tree.</p>

<p>Returns:
 int: The maximum path sum found.
 “””
 # Initialize global max with absolute minimum
 # Using a list allows us to update it within the nested function scope
 self.global_max = -math.inf</p>

<p>def get_max_gain(node):
 “””
 Recursive function that returns the maximum contribution a node 
 can make to its parent’s path.</p>

<p>Side effect: Updates self.global_max with the best ‘arch’ path 
 peaking at this node.
 “””
 if not node:
 return 0</p>

<p># Recursive step: get gains from left and right subtrees
 # If a subtree returns a negative gain, we treat it as 0
 # (i.e., we choose not to include that path segment).
 left_gain = max(get_max_gain(node.left), 0)
 right_gain = max(get_max_gain(node.right), 0)</p>

<p># Case 1: The path curves at this node (Left -&gt; Node -&gt; Right)
 # This path CANNOT be extended to the parent, but it might be the global max.
 price_of_new_path = node.val + left_gain + right_gain</p>

<p># Update the global result if this curve is better than anything seen so far
 self.global_max = max(self.global_max, price_of_new_path)</p>

<p># Case 2: The path continues upward (Node -&gt; Parent)
 # We must choose the heavier branch (Left or Right) to extend.
 return node.val + max(left_gain, right_gain)</p>

<p>get_max_gain(root)</p>

<p>return self.global_max</p>

<h1 id="example-helper-to-build-simple-tree">Example Helper to build simple tree</h1>
<p>def run_example():
 # Tree: [1, 2, 3]
 root = TreeNode(1)
 root.left = TreeNode(2)
 root.right = TreeNode(3)
 sol = Solution()
 print(f”Max Path Sum: {sol.maxPathSum(root)}”) # Expected: 6</p>

<p>if <strong>name</strong> == “<strong>main</strong>”:
 run_example()
``</p>

<h3 id="why-use-a-class-variable">Why use a class variable?</h3>
<p>In the recursive function, we encounter two different values of interest:</p>
<ol>
  <li>The value to <strong>pass up</strong> (recursion return).</li>
  <li>The value to <strong>record</strong> (global max).
Using <code class="language-plaintext highlighter-rouge">self.global_max</code> decouples these two concerns cleanly.</li>
</ol>

<hr />

<h2 id="6-testing-strategy">6. Testing Strategy</h2>

<p>When testing recursive tree algorithms, “visual” coverage is key.</p>

<h3 id="test-case-1-the-tent-simple-curve">Test Case 1: The “Tent” (Simple curve)</h3>
<p><code class="language-plaintext highlighter-rouge">
 1
 / \
 2 3
</code></p>
<ul>
  <li>Left gain: 2</li>
  <li>Right gain: 3</li>
  <li>Arc: 1 + 2 + 3 = 6. Return: 1 + 3 = 4.</li>
  <li><strong>Max: 6</strong>.</li>
</ul>

<h3 id="test-case-2-negative-root-disconnected-subtrees">Test Case 2: Negative Root (Disconnected Subtrees)</h3>
<p><code class="language-plaintext highlighter-rouge">
 -10
 / \
 9 20
 / \
 15 7
</code></p>
<ul>
  <li>Node 9: Returns 9. Max so far: 9.</li>
  <li>Node 15: Returns 15. Max so far: 15.</li>
  <li>Node 7: Returns 7. Max so far: 15.</li>
  <li>Node 20:</li>
  <li>Left gain: 15.</li>
  <li>Right gain: 7.</li>
  <li>Arc: 20 + 15 + 7 = 42. Max so far: 42.</li>
  <li>Return: 20 + 15 = 35.</li>
  <li>Node -10:</li>
  <li>Left gain: 9.</li>
  <li>Right gain: 35.</li>
  <li>Arc: -10 + 9 + 35 = 34.</li>
  <li>Return: -10 + 35 = 25.</li>
  <li><strong>Result: 42</strong>. Note that the root -10 was examined but the “Arc” through it (34) was inferior to the subtree arc (42).</li>
</ul>

<h3 id="test-case-3-all-negative">Test Case 3: All Negative</h3>
<p><code class="language-plaintext highlighter-rouge">
 -3
</code></p>
<ul>
  <li>Recursive base case returns 0? NO.</li>
  <li><code class="language-plaintext highlighter-rouge">left_gain = max(0, 0) = 0</code>.</li>
  <li>Arc: -3 + 0 + 0 = -3.</li>
  <li><strong>Result: -3</strong>.
<em>Edge Case Warning</em>: If your code initializes <code class="language-plaintext highlighter-rouge">global_max = 0</code>, you will fail this case (returning 0 instead of -3). Always initialize with <code class="language-plaintext highlighter-rouge">-infinity</code>.</li>
</ul>

<hr />

<h2 id="7-complexity-analysis">7. Complexity Analysis</h2>

<h3 id="time-complexity-on">Time Complexity: O(N)</h3>
<ul>
  <li>We touch every node exactly once.</li>
  <li>At each node, we perform constant time operations (<code class="language-plaintext highlighter-rouge">+, \max</code>).</li>
  <li>Therefore, time scales linearly with the number of nodes <code class="language-plaintext highlighter-rouge">N</code>.</li>
</ul>

<h3 id="space-complexity-oh">Space Complexity: O(H)</h3>
<ul>
  <li><code class="language-plaintext highlighter-rouge">H</code> is the height of the tree.</li>
  <li>This is the cost of the implicit recursion stack.</li>
  <li><strong>Best Case (Balanced Tree):</strong> <code class="language-plaintext highlighter-rouge">H = \log N</code>.</li>
  <li><strong>Worst Case (Skewed Tree):</strong> <code class="language-plaintext highlighter-rouge">H = N</code>.</li>
</ul>

<hr />

<h2 id="8-production-considerations">8. Production Considerations</h2>

<p>In a real-world system (like a network routing table or organizational hierarchy analyzer), how does this perform?</p>

<h3 id="81-stack-overflow-risk">8.1 Stack Overflow Risk</h3>
<p>For extremely deep trees (<code class="language-plaintext highlighter-rouge">N &gt; 10,000</code> in a line), standard Python recursion limit (1000) will be hit.
<strong>Solution:</strong></p>
<ul>
  <li>Increase recursion limit: <code class="language-plaintext highlighter-rouge">sys.setrecursionlimit(20000)</code>.</li>
  <li><strong>Better:</strong> Iterative DFS using an explicit stack is preferred for production stability, though significantly harder to implement for post-order logic.</li>
</ul>

<h3 id="82-parallelism">8.2 Parallelism</h3>
<p>Can we calculate this in parallel?</p>
<ul>
  <li>Subtrees are independent.</li>
  <li>If the tree is distributed (e.g., a DOM tree or a distributed database index), we can send <code class="language-plaintext highlighter-rouge">get_max_gain</code> queries to <code class="language-plaintext highlighter-rouge">Node.left</code> and <code class="language-plaintext highlighter-rouge">Node.right</code> workers in parallel (MapReduce style).</li>
</ul>

<hr />

<h2 id="9-connections-to-ml-systems">9. Connections to ML Systems</h2>

<p>This algorithm is conceptually identical to <strong>Backpropagation through Time (BPTT)</strong> or recursive neural networks (RvNNs, distinct from RNNs).</p>

<h3 id="91-sochers-recursive-neural-networks-tree-lstms">9.1 Socher’s Recursive Neural Networks (Tree-LSTMs)</h3>
<p>In Sentiment Analysis, we often parse sentences into syntax trees.</p>
<ul>
  <li>“The movie was [not [good]]”.</li>
  <li>We need to compute the “sentiment vector” of <code class="language-plaintext highlighter-rouge">"not good"</code> based on its children <code class="language-plaintext highlighter-rouge">"not"</code> and <code class="language-plaintext highlighter-rouge">"good"</code>.</li>
  <li>This is exactly the bottom-up traversal we just wrote!</li>
  <li>Instead of <code class="language-plaintext highlighter-rouge">val + left + right</code> (scalar sum), ML systems use <code class="language-plaintext highlighter-rouge">Op(val, W_L * left_vec, W_R * right_vec)</code> (tensor operations).</li>
</ul>

<h3 id="92-transfer-learning-theme">9.2 Transfer Learning Theme</h3>
<p>The theme for this section of the blog is <strong>Transfer Learning</strong>. In this algorithm, information “transfers” strictly from child to parent. The parent cannot solve its problem without the “pre-trained knowledge” (max path) of its children. This mirrors how a pre-trained ResNet feature extractor feeds into a new classifier head.</p>

<hr />

<h2 id="10-interview-strategy">10. Interview Strategy</h2>

<p>If asked this in an interview:</p>

<ol>
  <li><strong>Don’t Rush Code</strong>: Draw the “Arc” vs “Branch” distinction on the whiteboard first. This shows you understand the edge cases.</li>
  <li><strong>Highlight the “Negative” Case</strong>: ask “Are node values negative?”. This is the main trap.</li>
  <li><strong>Global vs Local</strong>: Explicitly mention why you need a global variable. Interviewers love asking “Can you do this without a global variable?” (Yes, return a distinct Tuple <code class="language-plaintext highlighter-rouge">(max_branch, max_arc)</code> from search step).</li>
  <li><strong>Iterative Follow-up</strong>: If they ask for iterative, suggest using a <code class="language-plaintext highlighter-rouge">visited</code> set to mimic post-order traversal with a stack, though admit it makes the code much messier.</li>
</ol>

<hr />

<h2 id="11-key-takeaways">11. Key Takeaways</h2>

<ol>
  <li><strong>Tree DP Pattern</strong>: This fits the “Tree Dynamic Programming” pattern: <code class="language-plaintext highlighter-rouge">Res(Node) = F(Node, Res(Left), Res(Right))</code>.</li>
  <li><strong>Path != Traverse</strong>: A path has structural constraints (no branching).</li>
  <li><strong>Max(0, x)</strong>: A powerful idiom for “optional inclusion”.</li>
  <li><strong>Separation of Concerns</strong>: The value you <em>return</em> (recursion contract) is often different from the value you <em>calculate</em> (business logic).</li>
</ol>

<hr />

<p><strong>Originally published at:</strong> <a href="https://www.arunbaby.com/dsa/0046-binary-tree-max-path-sum/">arunbaby.com/dsa/0046-binary-tree-max-path-sum</a></p>

<p><em>If you found this helpful, consider sharing it with others who might benefit.</em></p>

        
      </section>

      <footer class="page__meta">
        
        
  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      <a href="/tags/#binary-tree" class="page__taxonomy-item p-category" rel="tag">binary-tree</a><span class="sep">, </span>
    
      <a href="/tags/#dfs" class="page__taxonomy-item p-category" rel="tag">dfs</a><span class="sep">, </span>
    
      <a href="/tags/#dynamic-programming" class="page__taxonomy-item p-category" rel="tag">dynamic-programming</a><span class="sep">, </span>
    
      <a href="/tags/#hard" class="page__taxonomy-item p-category" rel="tag">hard</a><span class="sep">, </span>
    
      <a href="/tags/#recursion" class="page__taxonomy-item p-category" rel="tag">recursion</a>
    
    </span>
  </p>




  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      <a href="/categories/#dsa" class="page__taxonomy-item p-category" rel="tag">dsa</a>
    
    </span>
  </p>


        
      </footer>

      <div class="page__related page__related--full">
  <h2 class="page__related-title">Related across topics</h2>
  <style>
    /* Make section span full content width and use 2 equal columns */
    .page__related--full { float: inline-start; width: 100%; padding: 0; }
    .cross-related-grid { display: grid; grid-template-columns: repeat(2, minmax(0, 1fr)); gap: 2rem; }
    @media (max-width: 768px) { .cross-related-grid { grid-template-columns: 1fr; } }
    /* Ensure archive cards stretch nicely in the grid */
    .cross-related-grid .list__item, .cross-related-grid .grid__item { width: auto; float: none; margin: 0; }
  </style>
  <div class="cross-related-grid">
    



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/ml-system-design/0046-transfer-learning/" rel="permalink">Transfer Learning Systems
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          6 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">“Standing on the shoulders of giants isn’t just a metaphor—it’s an engineering requirement.”
</p>
  </article>
</div>




<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/speech-tech/0046-cross-lingual-speech-transfer/" rel="permalink">Cross-Lingual Speech Transfer
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          7 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">“If you know how to pronounce ‘P’ in English, you’re 90% of the way to pronouncing ‘P’ in Portuguese.”
</p>
  </article>
</div>




<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/ai-agents/0046-token-efficiency-optimization/" rel="permalink">Token Efficiency Optimization
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          6 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">“The most expensive token is the one you didn’t need to send.”
</p>
  </article>
</div>

  </div>
</div>

      <section class="page__share">
  <h4 class="page__share-title">Share on</h4>

  <a href="https://twitter.com/intent/tweet?via=arunbaby0&text=Binary+Tree+Maximum+Path+Sum%20https%3A%2F%2Fwww.arunbaby.com%2Fdsa%2F0046-binary-tree-max-path-sum%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fwww.arunbaby.com%2Fdsa%2F0046-binary-tree-max-path-sum%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://www.arunbaby.com/dsa/0046-binary-tree-max-path-sum/" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="/dsa/0045-sliding-window-maximum/" class="pagination--pager" title="Sliding Window Maximum">Previous</a>
    
    
      <a href="/dsa/0047-serialize-deserialize-tree/" class="pagination--pager" title="Serialize and Deserialize Binary Tree">Next</a>
    
  </nav>


    </div>

    
  </article>

  
  
</div>

      
    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';" role="search">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    
      
        
          <li><a href="https://twitter.com/arunbaby0" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
        
      
        
          <li><a href="https://github.com/arunbaby0" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
        
          <li><a href="https://www.linkedin.com/in/arunbaby0/" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i> LinkedIn</a></li>
        
      
        
          <li><a href="https://scholar.google.co.in/citations?user=6fSYWhkAAAAJ" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-graduation-cap" aria-hidden="true"></i> Google Scholar</a></li>
        
      
    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 1990 - 2143 <a href="https://www.arunbaby.com">Arun Baby</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>




  <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-0JRJPEC9SS"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-0JRJPEC9SS', { 'anonymize_ip': false});
</script>








  </body>
</html>
