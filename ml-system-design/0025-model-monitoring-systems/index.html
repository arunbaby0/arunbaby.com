<!doctype html>
<!--
  Minimal Mistakes Jekyll Theme 4.26.2 by Michael Rose
  Copyright 2013-2024 Michael Rose - mademistakes.com | @mmistakes
  Free for personal and commercial use under the MIT license
  https://github.com/mmistakes/minimal-mistakes/blob/master/LICENSE
-->

<html lang="en-US" class="no-js">
  <head>
    <meta charset="utf-8">

<!-- begin _includes/seo.html --><title>Model Monitoring Systems - Arun Baby</title>
<meta name="description" content="The silent killer of ML models is not a bug in the code, but a change in the world.">


  <meta name="author" content="Arun Baby">
  
  <meta property="article:author" content="Arun Baby">
  


<meta property="og:type" content="article">
<meta property="og:locale" content="en_US">
<meta property="og:site_name" content="Arun Baby">
<meta property="og:title" content="Model Monitoring Systems">
<meta property="og:url" content="https://www.arunbaby.com/ml-system-design/0025-model-monitoring-systems/">


  <meta property="og:description" content="The silent killer of ML models is not a bug in the code, but a change in the world.">



  <meta property="og:image" content="https://www.arunbaby.com/assets/images/profile-photo.png">



  <meta name="twitter:site" content="@arunbaby0">
  <meta name="twitter:title" content="Model Monitoring Systems">
  <meta name="twitter:description" content="The silent killer of ML models is not a bug in the code, but a change in the world.">
  <meta name="twitter:url" content="https://www.arunbaby.com/ml-system-design/0025-model-monitoring-systems/">

  
    <meta name="twitter:card" content="summary">
    
      <meta name="twitter:image" content="https://www.arunbaby.com/assets/images/profile-photo.png">
    
  

  



  <meta property="article:published_time" content="2025-12-16T08:28:35+05:30">





  

  


<link rel="canonical" href="https://www.arunbaby.com/ml-system-design/0025-model-monitoring-systems/">












<!-- end _includes/seo.html -->



  <link href="/feed.xml" type="application/atom+xml" rel="alternate" title="Arun Baby Feed">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<script>
  document.documentElement.className = document.documentElement.className.replace(/\bno-js\b/g, '') + ' js ';
  
</script>

<!-- For all browsers -->
<link rel="stylesheet" href="/assets/css/main.css">
<link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
<noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@latest/css/all.min.css"></noscript>



    <!-- start custom head snippets -->

<!-- insert favicons. use https://realfavicongenerator.net/ -->

<!-- end custom head snippets -->

  </head>

  <body class="layout--single" dir="ltr">
    <nav class="skip-links">
  <ul>
    <li><a href="#site-nav" class="screen-reader-shortcut">Skip to primary navigation</a></li>
    <li><a href="#main" class="screen-reader-shortcut">Skip to content</a></li>
    <li><a href="#footer" class="screen-reader-shortcut">Skip to footer</a></li>
  </ul>
</nav>

    

<div class="masthead">
  <div class="masthead__inner-wrap">
    <div class="masthead__menu">
      <nav id="site-nav" class="greedy-nav">
        
        <a class="site-title" href="/">
           
          <span class="site-subtitle">Arun Baby</span>
        </a>
        <ul class="visible-links"><li class="masthead__menu-item">
              <a
                href="/about/"
                
                
              >About</a>
            </li><li class="masthead__menu-item">
              <a
                href="/dsa/"
                
                
              >DSA</a>
            </li><li class="masthead__menu-item">
              <a
                href="/ml-system-design/"
                
                
              >ML Systems</a>
            </li><li class="masthead__menu-item">
              <a
                href="/speech-tech/"
                
                
              >Speech Tech</a>
            </li><li class="masthead__menu-item">
              <a
                href="/ai-agents/"
                
                
              >AI Agents</a>
            </li><li class="masthead__menu-item">
              <a
                href="/publications/"
                
                
              >Publications</a>
            </li><li class="masthead__menu-item">
              <a
                href="/statuses/"
                
                
              >Statuses</a>
            </li><li class="masthead__menu-item">
              <a
                href="/contact/"
                
                
              >Contact</a>
            </li></ul>
        
        <button class="search__toggle" type="button">
          <span class="visually-hidden">Toggle search</span>
          <i class="fas fa-search"></i>
        </button>
        
        <button class="greedy-nav__toggle hidden" type="button">
          <span class="visually-hidden">Toggle menu</span>
          <div class="navicon"></div>
        </button>
        <ul class="hidden-links hidden"></ul>
      </nav>
    </div>
  </div>
</div>


    <div class="initial-content">
      





<div id="main" role="main" class="no-author-sidebar">
  
  <div class="sidebar sticky">
  
  
  </div>



  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Model Monitoring Systems">
    <meta itemprop="description" content="The silent killer of ML models is not a bug in the code, but a change in the world.">
    <meta itemprop="datePublished" content="2025-12-16T08:28:35+05:30">
    

    <div class="page__inner-wrap">
      
        <header>
          <h1 id="page-title" class="page__title" itemprop="headline">
            <a href="https://www.arunbaby.com/ml-system-design/0025-model-monitoring-systems/" itemprop="url">Model Monitoring Systems
</a>
          </h1>
          

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          15 minute read
        
      </span>
    
  </p>


        </header>
      

      <section class="page__content" itemprop="text">
        
          <aside class="sidebar__right sticky">
            <nav class="toc">
              <header><h4 class="nav__title"><i class="fas fa-file-alt"></i> On this page</h4></header>
              <ul class="toc__menu"><li><a href="#the-problem-silent-failure">The Problem: Silent Failure</a></li><li><a href="#types-of-drift">Types of Drift</a><ul><li><a href="#1-data-drift-covariate-shift">1. Data Drift (Covariate Shift)</a></li><li><a href="#2-concept-drift-prior-probability-shift">2. Concept Drift (Prior Probability Shift)</a></li><li><a href="#3-label-drift">3. Label Drift</a></li></ul></li><li><a href="#high-level-architecture-the-monitoring-stack">High-Level Architecture: The Monitoring Stack</a><ul><li><a href="#1-the-data-layer-logging">1. The Data Layer (Logging)</a></li><li><a href="#2-the-calculation-layer-drift-detection">2. The Calculation Layer (Drift Detection)</a></li><li><a href="#3-the-visualization-layer-dashboards">3. The Visualization Layer (Dashboards)</a></li></ul></li><li><a href="#deep-dive-population-stability-index-psi">Deep Dive: Population Stability Index (PSI)</a></li><li><a href="#production-engineering-async-vs-sync-monitoring">Production Engineering: Async vs. Sync Monitoring</a></li><li><a href="#advanced-monitoring-embedding-drift">Advanced Monitoring: Embedding Drift</a></li><li><a href="#advanced-monitoring-feature-attribution-drift-shap">Advanced Monitoring: Feature Attribution Drift (SHAP)</a></li><li><a href="#ethics-bias-and-fairness-monitoring">Ethics: Bias and Fairness Monitoring</a></li><li><a href="#implementation-building-a-monitoring-service">Implementation: Building a Monitoring Service</a></li><li><a href="#production-engineering-alerting-strategies">Production Engineering: Alerting Strategies</a></li><li><a href="#data-quality-great-expectations">Data Quality: Great Expectations</a></li><li><a href="#advanced-technique-outlier-detection">Advanced Technique: Outlier Detection</a></li><li><a href="#deployment-strategies-ab-testing-vs-shadow-mode">Deployment Strategies: A/B Testing vs. Shadow Mode</a><ul><li><a href="#1-shadow-mode-dark-launch">1. Shadow Mode (Dark Launch)</a></li><li><a href="#2-canary-deployment">2. Canary Deployment</a></li><li><a href="#3-ab-testing-online-experiment">3. A/B Testing (Online Experiment)</a></li><li><a href="#4-interleaving-ranking">4. Interleaving (Ranking)</a></li></ul></li><li><a href="#incident-response-playbook">Incident Response Playbook</a></li><li><a href="#deep-dive-the-feedback-loop-problem">Deep Dive: The “Feedback Loop” Problem</a></li><li><a href="#appendix-c-tools-landscape">Appendix C: Tools Landscape</a></li><li><a href="#advanced-topic-monitoring-large-language-models-llms">Advanced Topic: Monitoring Large Language Models (LLMs)</a></li><li><a href="#deep-dive-feedback-loops-in-recommender-systems">Deep Dive: Feedback Loops in Recommender Systems</a></li><li><a href="#system-design-feature-store-integration">System Design: Feature Store Integration</a></li><li><a href="#finops-cost-monitoring">FinOps: Cost Monitoring</a></li><li><a href="#regulatory-compliance-gdpr-and-right-to-explanation">Regulatory Compliance: GDPR and “Right to Explanation”</a></li><li><a href="#advanced-topic-monitoring-vector-databases-rag">Advanced Topic: Monitoring Vector Databases (RAG)</a></li><li><a href="#deep-dive-online-learning-continual-learning">Deep Dive: Online Learning (Continual Learning)</a></li><li><a href="#privacy-differential-privacy-in-monitoring">Privacy: Differential Privacy in Monitoring</a></li><li><a href="#engineering-grafana-dashboard-as-code">Engineering: Grafana Dashboard as Code</a></li><li><a href="#appendix-e-the-human-in-the-loop">Appendix E: The Human-in-the-Loop</a></li><li><a href="#appendix-f-interview-questions">Appendix F: Interview Questions</a></li><li><a href="#conclusion">Conclusion</a></li></ul>
            </nav>
          </aside>
        
        <p><strong>The silent killer of ML models is not a bug in the code, but a change in the world.</strong></p>

<h2 id="the-problem-silent-failure">The Problem: Silent Failure</h2>

<p>In traditional software, if you deploy a bug, the code crashes (Stack Trace, 500 Error). You know immediately.
In Machine Learning, if the world changes but your model stays the same, the model <strong>fails silently</strong>. It continues to output predictions, but they are wrong.</p>

<p><strong>Example:</strong></p>
<ul>
  <li><strong>Training (2019):</strong> Predict house prices. Feature: “Number of Bedrooms”.</li>
  <li><strong>Production (2020):</strong> COVID hits. People want “Home Offices”.</li>
  <li><strong>Result:</strong> The model still predicts high prices for small downtown apartments, but the market has shifted to suburbs. The model’s error rate spikes, but no alarm bells ring.</li>
</ul>

<p>This phenomenon is called <strong>Drift</strong>.</p>

<h2 id="types-of-drift">Types of Drift</h2>

<h3 id="1-data-drift-covariate-shift">1. Data Drift (Covariate Shift)</h3>
<p>The distribution of the input data <code class="language-plaintext highlighter-rouge">P(X)</code> changes.</p>
<ul>
  <li><strong>Example:</strong> You trained on English tweets. Suddenly, users start tweeting in Spanish.</li>
  <li><strong>Detection:</strong> Compare the histogram of inputs today vs. training data.</li>
</ul>

<h3 id="2-concept-drift-prior-probability-shift">2. Concept Drift (Prior Probability Shift)</h3>
<p>The relationship between inputs and outputs <code class="language-plaintext highlighter-rouge">P(Y|X)</code> changes.</p>
<ul>
  <li><strong>Example:</strong> “Spam” definition changes. “Work from home” was spam in 2018, but legitimate in 2020.</li>
  <li><strong>Detection:</strong> Requires <strong>Ground Truth</strong> (labels). If you don’t have immediate labels (e.g., credit default takes months), this is hard.</li>
</ul>

<h3 id="3-label-drift">3. Label Drift</h3>
<p>The distribution of the target variable <code class="language-plaintext highlighter-rouge">P(Y)</code> changes.</p>
<ul>
  <li><strong>Example:</strong> In a fraud model, usually 1% is fraud. Suddenly, 20% is fraud (attack underway).</li>
</ul>

<h2 id="high-level-architecture-the-monitoring-stack">High-Level Architecture: The Monitoring Stack</h2>

<pre><code class="language-ascii">+-----------+     +------------+     +-------------+
| Live App  | --&gt; | Log Stream | --&gt; | Drift Calc  |
+-----------+     +------------+     +-------------+
(FastAPI/Go)      (Kafka/S3)         (Airflow/Spark)
                                           |
                                           v
+-----------+     +------------+     +-------------+
| Alerting  | &lt;-- | Dashboard  | &lt;-- | Metrics DB  |
+-----------+     +------------+     +-------------+
(PagerDuty)       (Grafana)          (Prometheus)
</code></pre>

<p>How do we build a system to catch this?</p>

<h3 id="1-the-data-layer-logging">1. The Data Layer (Logging)</h3>
<p>Every prediction request and response must be logged.</p>
<ul>
  <li><strong>Payload:</strong> <code class="language-plaintext highlighter-rouge">{"input": [0.5, 2.1, ...], "output": 0.9, "model_version": "v1.2", "timestamp": 12345}</code></li>
  <li><strong>Store:</strong> Kafka -&gt; Data Lake (S3/BigQuery).</li>
</ul>

<h3 id="2-the-calculation-layer-drift-detection">2. The Calculation Layer (Drift Detection)</h3>
<p>A batch job (Airflow) or stream processor (Flink) calculates statistics.</p>
<ul>
  <li><strong>Statistical Tests:</strong>
    <ul>
      <li><strong>KS-Test (Kolmogorov-Smirnov):</strong> For continuous features. Measures max distance between two CDFs.</li>
      <li><strong>Chi-Square Test:</strong> For categorical features.</li>
      <li><strong>PSI (Population Stability Index):</strong> Industry standard for financial models.</li>
      <li><strong>KL Divergence:</strong> Measures information loss.</li>
    </ul>
  </li>
</ul>

<h3 id="3-the-visualization-layer-dashboards">3. The Visualization Layer (Dashboards)</h3>
<ul>
  <li><strong>Tools:</strong> Grafana, Arize AI, Evidently AI.</li>
  <li><strong>Alerts:</strong> PagerDuty if <code class="language-plaintext highlighter-rouge">Drift Score &gt; Threshold</code>.</li>
</ul>

<h2 id="deep-dive-population-stability-index-psi">Deep Dive: Population Stability Index (PSI)</h2>

<p>PSI is the gold standard metric.
<code class="language-plaintext highlighter-rouge">PSI = Sum( (Actual% - Expected%) * ln(Actual% / Expected%) )</code></p>

<p><strong>Interpretation:</strong></p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">PSI &lt; 0.1</code>: No significant drift.</li>
  <li><code class="language-plaintext highlighter-rouge">0.1 &lt; PSI &lt; 0.2</code>: Moderate drift. Investigate.</li>
  <li><code class="language-plaintext highlighter-rouge">PSI &gt; 0.2</code>: Significant drift. <strong>Retrain immediately.</strong></li>
</ul>

<p><strong>Implementation in Python:</strong></p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span>

<span class="k">def</span> <span class="nf">calculate_psi</span><span class="p">(</span><span class="n">expected</span><span class="p">,</span> <span class="n">actual</span><span class="p">,</span> <span class="n">buckets</span><span class="o">=</span><span class="mi">10</span><span class="p">):</span>
    <span class="c1"># 1. Define buckets (breakpoints) based on Expected distribution
</span>    <span class="n">breakpoints</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">percentile</span><span class="p">(</span><span class="n">expected</span><span class="p">,</span> <span class="n">np</span><span class="p">.</span><span class="nf">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">100</span><span class="p">,</span> <span class="n">buckets</span> <span class="o">+</span> <span class="mi">1</span><span class="p">))</span>
    
    <span class="c1"># 2. Calculate frequencies
</span>    <span class="n">expected_percents</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">histogram</span><span class="p">(</span><span class="n">expected</span><span class="p">,</span> <span class="n">breakpoints</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="nf">len</span><span class="p">(</span><span class="n">expected</span><span class="p">)</span>
    <span class="n">actual_percents</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">histogram</span><span class="p">(</span><span class="n">actual</span><span class="p">,</span> <span class="n">breakpoints</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="o">/</span> <span class="nf">len</span><span class="p">(</span><span class="n">actual</span><span class="p">)</span>
    
    <span class="c1"># 3. Avoid division by zero
</span>    <span class="n">expected_percents</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">where</span><span class="p">(</span><span class="n">expected_percents</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">0.0001</span><span class="p">,</span> <span class="n">expected_percents</span><span class="p">)</span>
    <span class="n">actual_percents</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">where</span><span class="p">(</span><span class="n">actual_percents</span> <span class="o">==</span> <span class="mi">0</span><span class="p">,</span> <span class="mf">0.0001</span><span class="p">,</span> <span class="n">actual_percents</span><span class="p">)</span>
    
    <span class="c1"># 4. Calculate PSI
</span>    <span class="n">psi_values</span> <span class="o">=</span> <span class="p">(</span><span class="n">actual_percents</span> <span class="o">-</span> <span class="n">expected_percents</span><span class="p">)</span> <span class="o">*</span> \
                 <span class="n">np</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="n">actual_percents</span> <span class="o">/</span> <span class="n">expected_percents</span><span class="p">)</span>
    
    <span class="k">return</span> <span class="n">np</span><span class="p">.</span><span class="nf">sum</span><span class="p">(</span><span class="n">psi_values</span><span class="p">)</span>

<span class="c1"># Example
</span><span class="n">train_data</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="nf">normal</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span>
<span class="n">prod_data</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="n">random</span><span class="p">.</span><span class="nf">normal</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1000</span><span class="p">)</span> <span class="c1"># Mean shifted
</span><span class="nf">print</span><span class="p">(</span><span class="sa">f</span><span class="sh">"</span><span class="s">PSI: </span><span class="si">{</span><span class="nf">calculate_psi</span><span class="p">(</span><span class="n">train_data</span><span class="p">,</span> <span class="n">prod_data</span><span class="p">)</span><span class="si">:</span><span class="p">.</span><span class="mi">4</span><span class="n">f</span><span class="si">}</span><span class="sh">"</span><span class="p">)</span>
</code></pre></div></div>

<h2 id="production-engineering-async-vs-sync-monitoring">Production Engineering: Async vs. Sync Monitoring</h2>

<p><strong>Synchronous (Blocking):</strong></p>
<ul>
  <li>Calculate drift <em>during</em> the request.</li>
  <li><strong>Pros:</strong> Immediate blocking of bad data.</li>
  <li><strong>Cons:</strong> Adds latency. Expensive computation.</li>
  <li><strong>Use Case:</strong> Fraud detection (block the transaction).</li>
</ul>

<p><strong>Asynchronous (Non-Blocking):</strong></p>
<ul>
  <li>Log data, calculate drift every hour/day.</li>
  <li><strong>Pros:</strong> Zero latency impact.</li>
  <li><strong>Cons:</strong> Delayed reaction.</li>
  <li><strong>Use Case:</strong> Recommendation systems, Ad ranking.</li>
</ul>

<h2 id="advanced-monitoring-embedding-drift">Advanced Monitoring: Embedding Drift</h2>

<p>Statistical tests like KS-Test work great for tabular data (Age, Income).
But how do you monitor <strong>Embeddings</strong> (Vectors of size 768)?
You can’t run KS-Test on 768 dimensions independently.</p>

<p><strong>Solution: Dimensionality Reduction.</strong></p>
<ol>
  <li><strong>UMAP / t-SNE:</strong> Project the 768-dim vectors to 2D.</li>
  <li><strong>Visual Inspection:</strong> Plot the Training Data (Blue) and Production Data (Red).</li>
  <li><strong>Drift:</strong> If the Red points form a cluster where there are no Blue points, you have <strong>Out-of-Distribution (OOD)</strong> data.</li>
</ol>

<p><strong>Automated Metric:</strong></p>
<ul>
  <li><strong>M-Statistic (Maximum Mean Discrepancy):</strong> Measures the distance between two distributions in high-dimensional space using a kernel function.</li>
  <li><strong>Cosine Similarity:</strong> Calculate the average cosine similarity between production embeddings and the “centroid” of training embeddings.</li>
</ul>

<h2 id="advanced-monitoring-feature-attribution-drift-shap">Advanced Monitoring: Feature Attribution Drift (SHAP)</h2>

<p>Sometimes the data looks fine, and the predictions look fine, but the <strong>reasoning</strong> has changed.
<strong>Example:</strong></p>
<ul>
  <li><strong>Train:</strong> Model relies on “Income” to predict “Loan”.</li>
  <li><strong>Prod:</strong> Model starts relying on “Zip Code” (because Income became noisy).</li>
</ul>

<p><strong>Detection:</strong></p>
<ol>
  <li>Calculate <strong>SHAP values</strong> for a sample of production requests.</li>
  <li>Rank features by importance.</li>
  <li>Compare with training feature importance.</li>
  <li><strong>Alert:</strong> If the rank order changes significantly (Kendall’s Tau correlation).</li>
</ol>

<h2 id="ethics-bias-and-fairness-monitoring">Ethics: Bias and Fairness Monitoring</h2>

<p>Drift isn’t just about accuracy; it’s about <strong>Fairness</strong>.
If your model starts rejecting more women than men, you need to know <em>immediately</em>.</p>

<p><strong>Metrics to Monitor:</strong></p>
<ol>
  <li><strong>Demographic Parity:</strong> <code class="language-plaintext highlighter-rouge">P(Predicted=1 | Male) == P(Predicted=1 | Female)</code>.</li>
  <li><strong>Equal Opportunity:</strong> <code class="language-plaintext highlighter-rouge">TPR(Male) == TPR(Female)</code>.</li>
  <li><strong>Disparate Impact:</strong> <code class="language-plaintext highlighter-rouge">Ratio of acceptance rates &gt; 0.8</code>.</li>
</ol>

<p><strong>Implementation:</strong>
You need “Protected Attributes” (Race, Gender) in your logs.
<em>Warning:</em> Often you are legally <em>not allowed</em> to store these.
<em>Workaround:</em> Use a trusted third-party auditor or aggregate metrics anonymously.</p>

<h2 id="implementation-building-a-monitoring-service">Implementation: Building a Monitoring Service</h2>

<p>Let’s build a real-time monitor using <strong>FastAPI</strong> and <strong>Prometheus</strong>.</p>

<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">fastapi</span> <span class="kn">import</span> <span class="n">FastAPI</span>
<span class="kn">from</span> <span class="n">prometheus_client</span> <span class="kn">import</span> <span class="n">Counter</span><span class="p">,</span> <span class="n">Histogram</span><span class="p">,</span> <span class="n">make_asgi_app</span>
<span class="kn">import</span> <span class="n">numpy</span> <span class="k">as</span> <span class="n">np</span>

<span class="n">app</span> <span class="o">=</span> <span class="nc">FastAPI</span><span class="p">()</span>

<span class="c1"># Metrics
</span><span class="n">PREDICTION_COUNTER</span> <span class="o">=</span> <span class="nc">Counter</span><span class="p">(</span><span class="sh">"</span><span class="s">model_predictions_total</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">Total predictions</span><span class="sh">"</span><span class="p">)</span>
<span class="n">INPUT_VALUE_HIST</span> <span class="o">=</span> <span class="nc">Histogram</span><span class="p">(</span><span class="sh">"</span><span class="s">input_feature_value</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">Distribution of input feature</span><span class="sh">"</span><span class="p">)</span>
<span class="n">DRIFT_GAUGE</span> <span class="o">=</span> <span class="nc">Gauge</span><span class="p">(</span><span class="sh">"</span><span class="s">model_drift_score</span><span class="sh">"</span><span class="p">,</span> <span class="sh">"</span><span class="s">Current PSI score</span><span class="sh">"</span><span class="p">)</span>

<span class="c1"># Reference Distribution (loaded from file)
</span><span class="n">REF_DIST</span> <span class="o">=</span> <span class="n">np</span><span class="p">.</span><span class="nf">load</span><span class="p">(</span><span class="sh">"</span><span class="s">reference_dist.npy</span><span class="sh">"</span><span class="p">)</span>
<span class="n">CURRENT_WINDOW</span> <span class="o">=</span> <span class="p">[]</span>

<span class="nd">@app.post</span><span class="p">(</span><span class="sh">"</span><span class="s">/predict</span><span class="sh">"</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">predict</span><span class="p">(</span><span class="n">features</span><span class="p">:</span> <span class="nb">list</span><span class="p">):</span>
    <span class="c1"># 1. Log Metric
</span>    <span class="n">PREDICTION_COUNTER</span><span class="p">.</span><span class="nf">inc</span><span class="p">()</span>
    <span class="n">INPUT_VALUE_HIST</span><span class="p">.</span><span class="nf">observe</span><span class="p">(</span><span class="n">features</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="c1"># Monitor 1st feature
</span>    
    <span class="c1"># 2. Add to Window for Drift Calc
</span>    <span class="n">CURRENT_WINDOW</span><span class="p">.</span><span class="nf">append</span><span class="p">(</span><span class="n">features</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
    <span class="k">if</span> <span class="nf">len</span><span class="p">(</span><span class="n">CURRENT_WINDOW</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1000</span><span class="p">:</span>
        <span class="n">score</span> <span class="o">=</span> <span class="nf">calculate_psi</span><span class="p">(</span><span class="n">REF_DIST</span><span class="p">,</span> <span class="n">CURRENT_WINDOW</span><span class="p">)</span>
        <span class="n">DRIFT_GAUGE</span><span class="p">.</span><span class="nf">set</span><span class="p">(</span><span class="n">score</span><span class="p">)</span>
        <span class="n">CURRENT_WINDOW</span><span class="p">.</span><span class="nf">clear</span><span class="p">()</span>
        
    <span class="c1"># 3. Predict
</span>    <span class="k">return</span> <span class="p">{</span><span class="sh">"</span><span class="s">prediction</span><span class="sh">"</span><span class="p">:</span> <span class="mf">0.9</span><span class="p">}</span>

<span class="c1"># Expose /metrics endpoint for Prometheus
</span><span class="n">metrics_app</span> <span class="o">=</span> <span class="nf">make_asgi_app</span><span class="p">()</span>
<span class="n">app</span><span class="p">.</span><span class="nf">mount</span><span class="p">(</span><span class="sh">"</span><span class="s">/metrics</span><span class="sh">"</span><span class="p">,</span> <span class="n">metrics_app</span><span class="p">)</span>
</code></pre></div></div>

<p><strong>Architecture:</strong></p>
<ol>
  <li><strong>FastAPI:</strong> Serves the model.</li>
  <li><strong>Prometheus Client:</strong> Aggregates metrics in memory.</li>
  <li><strong>Prometheus Server:</strong> Scrapes <code class="language-plaintext highlighter-rouge">/metrics</code> every 15s.</li>
  <li><strong>Grafana:</strong> Visualizes the histograms.</li>
</ol>

<h2 id="production-engineering-alerting-strategies">Production Engineering: Alerting Strategies</h2>

<p><strong>The Boy Who Cried Wolf:</strong> If you alert on every minor drift, engineers will ignore PagerDuty.</p>

<p><strong>Best Practices:</strong></p>
<ol>
  <li><strong>Dynamic Thresholds:</strong> Don’t use <code class="language-plaintext highlighter-rouge">PSI &gt; 0.2</code>. Use <code class="language-plaintext highlighter-rouge">PSI &gt; MovingAverage(PSI) + 3*StdDev</code>.</li>
  <li><strong>Multi-Window Alerts:</strong> Alert only if drift persists for 3 hours.</li>
  <li><strong>Severity Levels:</strong>
    <ul>
      <li><strong>P1 (Wake up):</strong> Model returns <code class="language-plaintext highlighter-rouge">NaN</code> or 500s.</li>
      <li><strong>P2 (Next Morning):</strong> PSI &gt; 0.2.</li>
      <li><strong>P3 (Weekly Review):</strong> Feature importance shift.</li>
    </ul>
  </li>
</ol>

<h2 id="data-quality-great-expectations">Data Quality: Great Expectations</h2>

<p>Before checking for drift, check for <strong>Data Quality</strong>.
<strong>Great Expectations (GX)</strong> is a library for unit-testing data.</p>

<p><strong>Tests:</strong></p>
<ul>
  <li><code class="language-plaintext highlighter-rouge">expect_column_values_to_be_not_null("user_id")</code></li>
  <li><code class="language-plaintext highlighter-rouge">expect_column_values_to_be_between("age", 0, 120)</code></li>
  <li><code class="language-plaintext highlighter-rouge">expect_column_kl_divergence_to_be_less_than("income", 0.1)</code></li>
</ul>

<p><strong>Pipeline:</strong>
<code class="language-plaintext highlighter-rouge">ETL -&gt; GX Validation -&gt; Training -&gt; GX Validation -&gt; Serving</code></p>

<h2 id="advanced-technique-outlier-detection">Advanced Technique: Outlier Detection</h2>

<p>Drift detects “Aggregate” shifts. But what if individual requests are weird?
<strong>Example:</strong> A user inputs <code class="language-plaintext highlighter-rouge">Age = 200</code>. The mean <code class="language-plaintext highlighter-rouge">Age</code> might still be 35, so Drift doesn’t trigger. But the model will fail for that user.</p>

<p><strong>Solution: Isolation Forest.</strong>
An unsupervised algorithm that isolates anomalies.</p>
<ol>
  <li>Randomly select a feature.</li>
  <li>Randomly select a split value.</li>
  <li>Repeat.</li>
  <li>Anomalies are isolated quickly (short path length). Normal points require many splits (long path length).</li>
</ol>

<p><strong>Implementation:</strong></p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">from</span> <span class="n">sklearn.ensemble</span> <span class="kn">import</span> <span class="n">IsolationForest</span>

<span class="c1"># Train on "Normal" data
</span><span class="n">clf</span> <span class="o">=</span> <span class="nc">IsolationForest</span><span class="p">(</span><span class="n">random_state</span><span class="o">=</span><span class="mi">0</span><span class="p">).</span><span class="nf">fit</span><span class="p">(</span><span class="n">X_train</span><span class="p">)</span>

<span class="c1"># Predict on new data
# -1 = Outlier, 1 = Normal
</span><span class="n">preds</span> <span class="o">=</span> <span class="n">clf</span><span class="p">.</span><span class="nf">predict</span><span class="p">(</span><span class="n">X_new</span><span class="p">)</span>
</code></pre></div></div>

<h2 id="deployment-strategies-ab-testing-vs-shadow-mode">Deployment Strategies: A/B Testing vs. Shadow Mode</h2>

<p>How do you deploy a new model safely?</p>

<h3 id="1-shadow-mode-dark-launch">1. Shadow Mode (Dark Launch)</h3>
<ul>
  <li>Deploy <code class="language-plaintext highlighter-rouge">Model B</code> alongside <code class="language-plaintext highlighter-rouge">Model A</code>.</li>
  <li>Route traffic to both.</li>
  <li>Return <code class="language-plaintext highlighter-rouge">Model A</code>’s prediction to the user.</li>
  <li>Log <code class="language-plaintext highlighter-rouge">Model B</code>’s prediction asynchronously.</li>
  <li><strong>Compare:</strong> Does <code class="language-plaintext highlighter-rouge">Model B</code> crash? Is the distribution similar?</li>
</ul>

<h3 id="2-canary-deployment">2. Canary Deployment</h3>
<ul>
  <li>Route 1% of traffic to <code class="language-plaintext highlighter-rouge">Model B</code>.</li>
  <li>Monitor error rates.</li>
  <li>Gradually ramp up: 10% -&gt; 50% -&gt; 100%.</li>
</ul>

<h3 id="3-ab-testing-online-experiment">3. A/B Testing (Online Experiment)</h3>
<ul>
  <li>Route 50% to A, 50% to B.</li>
  <li>Measure <strong>Business Metrics</strong> (Click-Through Rate, Conversion).</li>
  <li><strong>Goal:</strong> Prove <code class="language-plaintext highlighter-rouge">Model B</code> is better, not just “working”.</li>
</ul>

<h3 id="4-interleaving-ranking">4. Interleaving (Ranking)</h3>
<ul>
  <li>Mix results from A and B in the same list.</li>
  <li>See which one the user clicks.</li>
  <li><strong>Pros:</strong> Removes bias (users don’t know which model produced which item).</li>
</ul>

<h2 id="incident-response-playbook">Incident Response Playbook</h2>

<p><strong>Scenario:</strong> PagerDuty fires at 3 AM. “Fraud Model Drift &gt; 0.5”.</p>

<p><strong>Step 1: Triage</strong></p>
<ul>
  <li>Is the service down? (500 errors).</li>
  <li>Is it a data pipeline failure? (Check Airflow).</li>
  <li>Is it a real world shift? (Black Friday sale started).</li>
</ul>

<p><strong>Step 2: Mitigation</strong></p>
<ul>
  <li><strong>Rollback:</strong> Revert to the previous model version immediately.</li>
  <li><strong>Fallback:</strong> Switch to a heuristic (Rule-based engine).</li>
</ul>

<p><strong>Step 3: Investigation</strong></p>
<ul>
  <li><strong>Feature Attribution:</strong> Which feature caused the drift?</li>
  <li><strong>Segment Analysis:</strong> Is it only iOS users? Only users in Canada?</li>
</ul>

<p><strong>Step 4: Resolution</strong></p>
<ul>
  <li><strong>Retrain:</strong> If the world changed, retrain on the new data.</li>
  <li><strong>Fix Pipeline:</strong> If a feature broke (e.g., <code class="language-plaintext highlighter-rouge">Age</code> became <code class="language-plaintext highlighter-rouge">NaN</code>), fix the SQL query.</li>
</ul>

<h2 id="deep-dive-the-feedback-loop-problem">Deep Dive: The “Feedback Loop” Problem</h2>

<p>If you retrain on your own model’s predictions, you create a <strong>Feedback Loop</strong>.
<strong>Example:</strong></p>
<ol>
  <li>Model recommends “Action Movies”.</li>
  <li>User clicks “Action Movies” (because that’s all they see).</li>
  <li>Model learns “User loves Action Movies”.</li>
  <li>Model recommends <em>only</em> “Action Movies”.</li>
</ol>

<p><strong>Solution: Exploration.</strong></p>
<ul>
  <li><strong>Epsilon-Greedy:</strong> 5% of the time, show random recommendations.</li>
  <li><strong>Bandits:</strong> Use Contextual Bandits to balance Exploration vs. Exploitation.</li>
  <li><strong>Positional Bias Correction:</strong> Users click the top item because it’s at the top. Log the <em>position</em> and use it as a feature (or debias the loss function).</li>
</ul>

<h2 id="appendix-c-tools-landscape">Appendix C: Tools Landscape</h2>

<table>
  <thead>
    <tr>
      <th style="text-align: left">Tool</th>
      <th style="text-align: left">Type</th>
      <th style="text-align: left">Pros</th>
      <th style="text-align: left">Cons</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: left"><strong>Prometheus/Grafana</strong></td>
      <td style="text-align: left">Infrastructure</td>
      <td style="text-align: left">Free, Standard</td>
      <td style="text-align: left">Hard to do complex stats (KS-Test)</td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>Evidently AI</strong></td>
      <td style="text-align: left">Library</td>
      <td style="text-align: left">Great Reports, Open Source</td>
      <td style="text-align: left">Not a service (you host it)</td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>Arize AI</strong></td>
      <td style="text-align: left">SaaS</td>
      <td style="text-align: left">Full features, Embedding support</td>
      <td style="text-align: left">Expensive</td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>Fiddler</strong></td>
      <td style="text-align: left">SaaS</td>
      <td style="text-align: left">Explainability focus</td>
      <td style="text-align: left">Expensive</td>
    </tr>
    <tr>
      <td style="text-align: left"><strong>WhyLabs</strong></td>
      <td style="text-align: left">SaaS</td>
      <td style="text-align: left">Privacy-preserving (logs sketches)</td>
      <td style="text-align: left">Requires <code class="language-plaintext highlighter-rouge">whylogs</code> integration</td>
    </tr>
  </tbody>
</table>

<h2 id="advanced-topic-monitoring-large-language-models-llms">Advanced Topic: Monitoring Large Language Models (LLMs)</h2>

<p>Monitoring tabular models (XGBoost) is solved. Monitoring LLMs (GPT-4) is the Wild West.</p>

<p><strong>New Metrics:</strong></p>
<ol>
  <li><strong>Hallucination Rate:</strong> Does the model invent facts?
    <ul>
      <li><em>Detection:</em> Use a second LLM (Judge) to verify the answer against a Knowledge Base (RAG).</li>
    </ul>
  </li>
  <li><strong>Prompt Injection:</strong> Is the user trying to jailbreak the model?
    <ul>
      <li><em>Detection:</em> Regex filters, Perplexity scores, or a specialized BERT classifier.</li>
    </ul>
  </li>
  <li><strong>Token Usage:</strong> Cost per request.</li>
  <li><strong>Toxicity:</strong> Is the output offensive?</li>
</ol>

<p><strong>The “LLM-as-a-Judge” Pattern:</strong>
Use GPT-4 to monitor GPT-3.5.
<code class="language-plaintext highlighter-rouge">Score = GPT4.evaluate(User_Prompt, GPT3.5_Response)</code>
This is expensive but effective.</p>

<h2 id="deep-dive-feedback-loops-in-recommender-systems">Deep Dive: Feedback Loops in Recommender Systems</h2>

<p>The “Feedback Loop” is a mathematical trap.
Let <code class="language-plaintext highlighter-rouge">P(click | item)</code> be the true probability.
The model estimates <code class="language-plaintext highlighter-rouge">P_hat(click | item)</code>.
The system shows items where <code class="language-plaintext highlighter-rouge">P_hat</code> is high.
The user clicks <em>only</em> what is shown.
The training data becomes biased towards high <code class="language-plaintext highlighter-rouge">P_hat</code> items.</p>

<p><strong>Mathematical Formulation:</strong>
<code class="language-plaintext highlighter-rouge">Data_Train ~ P(User, Item) * P(Shown | User, Item)</code>
If <code class="language-plaintext highlighter-rouge">P(Shown)</code> depends on the model, the data is <strong>Not IID</strong> (Independent and Identically Distributed).</p>

<p><strong>Correction: Inverse Propensity Weighting (IPW).</strong>
Weight each sample by <code class="language-plaintext highlighter-rouge">1 / P(Shown)</code>.
If an item had a 1% chance of being shown but was clicked, it’s a <em>very</em> strong signal. Upweight it by 100x.</p>

<h2 id="system-design-feature-store-integration">System Design: Feature Store Integration</h2>

<p>Drift often happens because the <strong>Offline</strong> features (in Data Warehouse) don’t match the <strong>Online</strong> features (in Redis).
<strong>Example:</strong></p>
<ul>
  <li>Offline: <code class="language-plaintext highlighter-rouge">avg_clicks_7d</code> calculated at midnight.</li>
  <li>Online: <code class="language-plaintext highlighter-rouge">avg_clicks_7d</code> calculated in real-time.</li>
  <li><strong>Drift:</strong> The online value is “fresher” and thus different.</li>
</ul>

<p><strong>Solution: Feature Store (Feast / Tecton).</strong>
A single definition of the feature logic.
<code class="language-plaintext highlighter-rouge">feature_view = avg_clicks.window(7 days)</code>
The Feature Store ensures that Offline (Training) and Online (Serving) values are consistent (Point-in-Time Correctness).</p>

<h2 id="finops-cost-monitoring">FinOps: Cost Monitoring</h2>

<p>ML is expensive. You need to monitor the <strong>Cost per Prediction</strong>.</p>

<p><strong>Metrics:</strong></p>
<ol>
  <li><strong>GPU Utilization:</strong> If it’s 20%, you are wasting money. Scale down.</li>
  <li><strong>Spot Instance Availability:</strong> If Spot price &gt; On-Demand, switch.</li>
  <li><strong>Model Size vs. Value:</strong> Does the 100B parameter model generate 10x more revenue than the 10B model? Usually no.</li>
</ol>

<p><strong>Auto-Scaling Policies:</strong></p>
<ul>
  <li>Scale based on <strong>Queue Depth</strong> (Lag), not CPU.</li>
  <li>If <code class="language-plaintext highlighter-rouge">Lag &gt; 100ms</code>, add replicas.</li>
</ul>

<h2 id="regulatory-compliance-gdpr-and-right-to-explanation">Regulatory Compliance: GDPR and “Right to Explanation”</h2>

<p><strong>GDPR Article 22:</strong> Users have the right not to be subject to a decision based solely on automated processing.
<strong>Implication:</strong> You must be able to <strong>explain</strong> why a user was rejected for a loan.</p>

<p><strong>Monitoring for Compliance:</strong></p>
<ol>
  <li><strong>Audit Logs:</strong> Immutable log of every decision + model version + input data.</li>
  <li><strong>Reproducibility:</strong> Can you replay the request from 3 years ago and get the exact same result? (Requires versioning Code + Data + Model + Environment).</li>
</ol>

<h2 id="advanced-topic-monitoring-vector-databases-rag">Advanced Topic: Monitoring Vector Databases (RAG)</h2>

<p>In RAG (Retrieval Augmented Generation), the “Model” is the LLM + Vector DB.
If the Vector DB returns bad context, the LLM hallucinates.</p>

<p><strong>What to Monitor:</strong></p>
<ol>
  <li><strong>Recall@K:</strong> Are we retrieving the right documents? (Requires Ground Truth).</li>
  <li><strong>Index Drift:</strong> Does the HNSW graph structure degrade over time?</li>
  <li><strong>Embedding Distribution:</strong> Use PCA to visualize if new documents are clustering in a new region (Topic Drift).</li>
  <li><strong>Latency:</strong> Vector search can be slow. Monitor p99 latency.</li>
</ol>

<h2 id="deep-dive-online-learning-continual-learning">Deep Dive: Online Learning (Continual Learning)</h2>

<p>Most models are “Static” (trained once).
<strong>Online Learning</strong> models update weights with every sample.
<strong>Example:</strong> Ad Click Prediction (FTRL - Follow The Regularized Leader).</p>

<p><strong>Monitoring Challenges:</strong></p>
<ul>
  <li><strong>Catastrophic Forgetting:</strong> The model learns the new trend but forgets the old one.</li>
  <li><strong>Feedback Loops:</strong> Instant feedback amplifies bias.</li>
  <li><strong>Stability:</strong> One bad batch of data can destroy the model weights.</li>
</ul>

<p><strong>Safety:</strong></p>
<ul>
  <li><strong>Holdout Set:</strong> Keep a fixed “Golden Set” of data. Evaluate the model on it every minute. If accuracy drops, rollback.</li>
</ul>

<p>If you found this helpful, consider sharing it with others who might benefit.</p>

<h2 id="privacy-differential-privacy-in-monitoring">Privacy: Differential Privacy in Monitoring</h2>

<p>You want to know the distribution of “Income”, but you can’t log individual incomes.
<strong>Solution: Local Differential Privacy (LDP).</strong>
Add noise to the data <em>on the device</em> before sending it to the server.
<code class="language-plaintext highlighter-rouge">Value = True_Value + Laplace_Noise</code></p>

<p><strong>RAPPOR (Google):</strong>
Randomized Aggregatable Privacy-Preserving Ordinal Response.
Allows monitoring frequency of strings (e.g., URLs) without knowing who visited them.</p>

<h2 id="engineering-grafana-dashboard-as-code">Engineering: Grafana Dashboard as Code</h2>

<p>Don’t click around in the UI. Version control your dashboards.
<strong>Jsonnet</strong> is the standard for generating Grafana JSON.</p>

<div class="language-jsonnet highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">local</span> <span class="nx">grafana</span> <span class="p">=</span> <span class="k">import</span> <span class="s">'grafonnet/grafana.libsonnet'</span><span class="p">;</span>
<span class="k">local</span> <span class="nx">dashboard</span> <span class="p">=</span> <span class="nx">grafana</span><span class="p">.</span><span class="nx">dashboard</span><span class="p">;</span>
<span class="k">local</span> <span class="nx">graph</span> <span class="p">=</span> <span class="nx">grafana</span><span class="p">.</span><span class="nx">graphPanel</span><span class="p">;</span>
<span class="k">local</span> <span class="nx">prometheus</span> <span class="p">=</span> <span class="nx">grafana</span><span class="p">.</span><span class="nx">prometheus</span><span class="p">;</span>

<span class="nx">dashboard</span><span class="p">.</span><span class="nx">new</span><span class="p">(</span>
  <span class="s">'Model Health'</span><span class="p">,</span>
  <span class="nx">schemaVersion</span><span class="p">=</span><span class="mi">16</span><span class="p">,</span>
<span class="p">)</span>
<span class="p">.</span><span class="nx">addPanel</span><span class="p">(</span>
  <span class="nx">graph</span><span class="p">.</span><span class="nx">new</span><span class="p">(</span>
    <span class="s">'Prediction Drift (PSI)'</span><span class="p">,</span>
    <span class="nx">datasource</span><span class="p">=</span><span class="s">'Prometheus'</span><span class="p">,</span>
  <span class="p">)</span>
  <span class="p">.</span><span class="nx">addTarget</span><span class="p">(</span>
    <span class="nx">prometheus</span><span class="p">.</span><span class="nx">target</span><span class="p">(</span>
      <span class="s">'model_drift_score'</span><span class="p">,</span>
    <span class="p">)</span>
  <span class="p">)</span>
<span class="p">)</span>
</code></pre></div></div>

<h2 id="appendix-e-the-human-in-the-loop">Appendix E: The Human-in-the-Loop</h2>

<p>Sometimes, the monitor shouldn’t just alert; it should <strong>escalate</strong>.
<strong>Active Learning:</strong></p>
<ol>
  <li>Model is unsure (Confidence &lt; 0.6).</li>
  <li>Route request to a Human Reviewer.</li>
  <li>Human labels it.</li>
  <li>Add to training set.</li>
  <li>Retrain.</li>
</ol>

<p>This turns “Low Confidence” from a failure into a feature.</p>

<h2 id="appendix-f-interview-questions">Appendix F: Interview Questions</h2>

<ol>
  <li>
    <p><strong>Q:</strong> “How do you monitor a model that runs on a mobile device (Edge)?”
<strong>A:</strong> You can’t send all data to the cloud (bandwidth). Use <strong>Federated Monitoring</strong>. Calculate histograms locally on the device, send only the histogram (small JSON) to the server for aggregation.</p>
  </li>
  <li><strong>Q:</strong> “What is the difference between Model Performance and Business Performance?”
<strong>A:</strong>
    <ul>
      <li><strong>Model:</strong> AUC, Accuracy, LogLoss.</li>
      <li><strong>Business:</strong> Revenue, Churn, CTR.</li>
      <li><em>Crucial:</em> Good Model Performance != Good Business Performance. (e.g., A clickbait model has high CTR but increases Churn).</li>
    </ul>
  </li>
  <li><strong>Q:</strong> “How do you distinguish between Data Drift and a Bug?”
<strong>A:</strong>
    <ul>
      <li><strong>Bug:</strong> Sudden step-change in metrics (usually after a deployment).</li>
      <li><strong>Drift:</strong> Gradual trend over days/weeks.</li>
      <li><em>Check:</em> Did we deploy code yesterday? Did the upstream data schema change?</li>
    </ul>
  </li>
</ol>

<h2 id="conclusion">Conclusion</h2>

<p>Monitoring is the difference between a “Science Project” and a “Product”.
A model is a living organism. It eats data. If the food spoils, the organism gets sick. Your job is to be the doctor.</p>

        
      </section>

      <footer class="page__meta">
        
        
  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-tags" aria-hidden="true"></i> Tags: </strong>
    <span itemprop="keywords">
    
      <a href="/tags/#devops" class="page__taxonomy-item p-category" rel="tag">devops</a><span class="sep">, </span>
    
      <a href="/tags/#drift-detection" class="page__taxonomy-item p-category" rel="tag">drift-detection</a><span class="sep">, </span>
    
      <a href="/tags/#monitoring" class="page__taxonomy-item p-category" rel="tag">monitoring</a><span class="sep">, </span>
    
      <a href="/tags/#observability" class="page__taxonomy-item p-category" rel="tag">observability</a><span class="sep">, </span>
    
      <a href="/tags/#production-ml" class="page__taxonomy-item p-category" rel="tag">production-ml</a>
    
    </span>
  </p>




  


  

  <p class="page__taxonomy">
    <strong><i class="fas fa-fw fa-folder-open" aria-hidden="true"></i> Categories: </strong>
    <span itemprop="keywords">
    
      <a href="/categories/#ml-system-design" class="page__taxonomy-item p-category" rel="tag">ml-system-design</a>
    
    </span>
  </p>


        
      </footer>

      <div class="page__related page__related--full">
  <h2 class="page__related-title">Related across topics</h2>
  <style>
    /* Make section span full content width and use 2 equal columns */
    .page__related--full { float: inline-start; width: 100%; padding: 0; }
    .cross-related-grid { display: grid; grid-template-columns: repeat(2, minmax(0, 1fr)); gap: 2rem; }
    @media (max-width: 768px) { .cross-related-grid { grid-template-columns: 1fr; } }
    /* Ensure archive cards stretch nicely in the grid */
    .cross-related-grid .list__item, .cross-related-grid .grid__item { width: auto; float: none; margin: 0; }
  </style>
  <div class="cross-related-grid">
    



<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/dsa/0025-validate-bst/" rel="permalink">Validate Binary Search Tree
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          17 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">The gatekeeper of data integrity. How do we ensure our sorted structures are actually sorted?
</p>
  </article>
</div>




<div class="list__item">
  <article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">
    
    <h2 class="archive__item-title no_toc" itemprop="headline">
      
        <a href="/speech-tech/0025-speech-quality-monitoring/" rel="permalink">Speech Quality Monitoring
</a>
      
    </h2>
    

  <p class="page__meta">
    

    

    
      
      

      <span class="page__meta-readtime">
        <i class="far fa-clock" aria-hidden="true"></i>
        
          10 minute read
        
      </span>
    
  </p>


    <p class="archive__item-excerpt" itemprop="description">How do we know if the audio sounds “good” without asking a human?
</p>
  </article>
</div>

  </div>
</div>

      <section class="page__share">
  <h4 class="page__share-title">Share on</h4>

  <a href="https://twitter.com/intent/tweet?via=arunbaby0&text=Model+Monitoring+Systems%20https%3A%2F%2Fwww.arunbaby.com%2Fml-system-design%2F0025-model-monitoring-systems%2F" class="btn btn--twitter" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Twitter"><i class="fab fa-fw fa-twitter" aria-hidden="true"></i><span> Twitter</span></a>

  <a href="https://www.facebook.com/sharer/sharer.php?u=https%3A%2F%2Fwww.arunbaby.com%2Fml-system-design%2F0025-model-monitoring-systems%2F" class="btn btn--facebook" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on Facebook"><i class="fab fa-fw fa-facebook" aria-hidden="true"></i><span> Facebook</span></a>

  <a href="https://www.linkedin.com/shareArticle?mini=true&url=https://www.arunbaby.com/ml-system-design/0025-model-monitoring-systems/" class="btn btn--linkedin" onclick="window.open(this.href, 'window', 'left=20,top=20,width=500,height=500,toolbar=1,resizable=0'); return false;" title="Share on LinkedIn"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i><span> LinkedIn</span></a>
</section>


      
  <nav class="pagination">
    
      <a href="/ml-system-design/0024-tokenization-systems/" class="pagination--pager" title="Tokenization Systems">Previous</a>
    
    
      <a href="/ml-system-design/0026-batch-processing-pipelines/" class="pagination--pager" title="Batch Processing Pipelines">Next</a>
    
  </nav>


    </div>

    
  </article>

  
  
</div>

      
    </div>

    
      <div class="search-content">
        <div class="search-content__inner-wrap"><form class="search-content__form" onkeydown="return event.key != 'Enter';" role="search">
    <label class="sr-only" for="search">
      Enter your search term...
    </label>
    <input type="search" id="search" class="search-input" tabindex="-1" placeholder="Enter your search term..." />
  </form>
  <div id="results" class="results"></div></div>

      </div>
    

    <div id="footer" class="page__footer">
      <footer>
        <!-- start custom footer snippets -->

<!-- end custom footer snippets -->
        <div class="page__footer-follow">
  <ul class="social-icons">
    

    
      
        
          <li><a href="https://twitter.com/arunbaby0" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-twitter-square" aria-hidden="true"></i> Twitter</a></li>
        
      
        
          <li><a href="https://github.com/arunbaby0" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-github" aria-hidden="true"></i> GitHub</a></li>
        
      
        
          <li><a href="https://www.linkedin.com/in/arunbaby0/" rel="nofollow noopener noreferrer"><i class="fab fa-fw fa-linkedin" aria-hidden="true"></i> LinkedIn</a></li>
        
      
        
          <li><a href="https://scholar.google.co.in/citations?user=6fSYWhkAAAAJ" rel="nofollow noopener noreferrer"><i class="fas fa-fw fa-graduation-cap" aria-hidden="true"></i> Google Scholar</a></li>
        
      
    

    
      <li><a href="/feed.xml"><i class="fas fa-fw fa-rss-square" aria-hidden="true"></i> Feed</a></li>
    
  </ul>
</div>

<div class="page__footer-copyright">&copy; 1990 - 2143 <a href="https://www.arunbaby.com">Arun Baby</a>.</div>

      </footer>
    </div>

    
  <script src="/assets/js/main.min.js"></script>




<script src="/assets/js/lunr/lunr.min.js"></script>
<script src="/assets/js/lunr/lunr-store.js"></script>
<script src="/assets/js/lunr/lunr-en.js"></script>




  <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-0JRJPEC9SS"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-0JRJPEC9SS', { 'anonymize_ip': false});
</script>








  </body>
</html>
